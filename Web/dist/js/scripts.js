var app=angular.module("app",["ui.router","satellizer","ngCookies","ngFileUpload"]),CONSTANTS=function(){var e={};return e.API_BASE_URL="http://discoverbandapi.int/public/api",e}();app.config(["$stateProvider","$urlRouterProvider","$authProvider",function(e,r,t){t.loginUrl=CONSTANTS.API_BASE_URL+"/login",t.signupUrl=CONSTANTS.API_BASE_URL+"/register",r.otherwise("/"),e.state("home",{url:"/",templateUrl:"app/pages/home.html",controller:"homeController as home"}).state("solo",{url:"/solo",templateUrl:"app/pages/solo.html",controller:"soloController as solo"}).state("merged",{url:"/merged",templateUrl:"app/pages/merged.html",controller:"mergedController as merged"}).state("band",{url:"/band",templateUrl:"app/pages/band.html",controller:"bandController as band"}).state("merge",{url:"/merge",templateUrl:"app/pages/merge.html",controller:"mergeController as merge"}).state("profile",{url:"/profile",templateUrl:"app/pages/profile.html",controller:"profileController as profile"}).state("upload",{url:"/upload",templateUrl:"app/pages/upload.html",controller:"uploadController as upload"})}]),app.controller("bandController",["bandService",function(e){function r(){t.trackArray=n.getTrackArray}var t=this,n=e;r()}]),app.controller("homeController",["instrumentService","filterService",function(e,r){function t(){n.filterData=o.soloFilterData}var n=this,o=r;t()}]),app.controller("mergeController",["bandService","mergedService","$state",function(e,r,t){function n(){o.tracks=a.getTrackArray(),o.showTracks=!1,o.thereAreTracks=!1,o.loadedTracks=[],o.savedTime=[],o.trimAmounts=[],o.tracks.length>0&&(o.thereAreTracks=!0)}var o=this,a=e,i=r,c=[];o.load=function(){if(o.thereAreTracks){for(var e=o.tracks.length-1;e>=0;e--){var r=o.tracks[e].id;document.getElementById(r).checked&&(c[r]=WaveSurfer.create({container:"#waveform"+r,waveColor:"green",progressColor:"purple"}),c[r].load("http://discoverbandapi.int/public/api/audio/"+o.tracks[e].file_url),o.loadedTracks.push({track_id:r,trim_amount:0}))}o.showTracks=!0}},o.playPause=function(e){c[e].isPlaying()||(o.savedTime[e]=c[e].getCurrentTime(),console.log(o.savedTime)),c[e].playPause(),c[e].zoom(50)},o.trim=function(e){for(var r=c[e].getCurrentTime(),t=o.loadedTracks.length-1;t>=0;t--)o.loadedTracks[t].track_id===e&&(o.loadedTracks[t].trim_amount=r,o.trimAmounts[e]=Math.round(100*r)/100)},o.playPauseAll=function(){for(var e=o.loadedTracks.length-1;e>=0;e--){var r=o.loadedTracks[e].track_id;c[r].isPlaying()||(o.savedTime[r]=c[r].getCurrentTime(),console.log(o.savedTime)),c[r].playPause(),c[r].zoom(50)}},o.toPrevious=function(){for(var e=o.loadedTracks.length-1;e>=0;e--){var r=o.loadedTracks[e].track_id,t=o.savedTime[r],n=c[r].getDuration(),a=t/n;c[r].seekAndCenter(a)}},o.toStart=function(e){c[e].seekAndCenter(0)},o.save=function(){i.mergeTracks(o.loadedTracks).then(function(e){console.log(e),t.go("merged")},function(e){console.log(e)})},n()}]),app.controller("mergedController",["$scope","mergedService","filterService",function(e,r,t){function n(){r.getTracks().then(function(e){i.mergedTracks=e.data,i.filteredTracks=i.mergedTracks,o(),angular.forEach(i.mergedTracks,function(e,r){newTrack=new Audio("http://discoverbandapi.int/public/audio/"+e.file_url),i.mergedTrackAudio[e.id]=newTrack})},function(e){console.log(e)})}function o(){i.filteredTracks=[],angular.forEach(i.mergedTracks,function(e,r){goodSearch=!0,""!=!i.filterData.artist||e.artist.name.match(new RegExp(i.filterData.artist,"i"))||(goodSearch=!1),""!=!i.filterData.title||e.songname.match(new RegExp(i.filterData.title,"i"))||(goodSearch=!1),goodSearch&&i.filteredTracks.push(e)})}function a(){i.mergedTrackAudio=[],i.currentAudioTrackId="",n(),i.filterData=c.mergedFilterData}var i=this,c=t;i.play=function(e){""!=i.currentAudioTrackId&&i.pause(i.currentAudioTrackId),i.currentAudioTrackId=e,i.mergedTrackAudio[e].play()},i.pause=function(e){i.mergedTrackAudio[e].pause(),i.currentAudioTrackId=""},i.download=function(e){window.open(CONSTANTS.API_BASE_URL+"/mergedtracks/"+e+"/download","_blank","")},e.$watch(function(){return i.filterData},function(){i.filterData&&o()},!0),a()}]),app.controller("profileController",["userService",function(e){function r(){n.getUser().then(function(e){t.username=e.data.username,t.email=e.data.email})}var t=this,n=e,o=document.getElementById("update-profile-spinner"),a={lines:13,length:28,width:12,radius:42,scale:.15,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"89%",left:"25.5%",shadow:!1,hwaccel:!1,position:"absolute"};t.update=function(){var e=new Spinner(a).spin(o);t.loading=!0;var r={username:t.username,email:t.email};n.updateUser(r).then(function(r){e.stop(),t.loading=!1},function(r){e.stop(),t.loading=!1})},r()}]),app.controller("soloController",["$scope","bandService","soloService","instrumentService","filterService",function(e,r,t,n,o){function a(){u.getTracks().then(function(e){s.soloTracks=e.data,s.filteredTracks=s.soloTracks,i(),angular.forEach(s.soloTracks,function(e,r){newTrack=new Audio("http://discoverbandapi.int/public/audio/"+e.file_url),s.soloTrackAudio[e.id]=newTrack})},function(e){console.log(e)})}function i(){s.filteredTracks=[],angular.forEach(s.soloTracks,function(e,r){goodSearch=!0,""!=!s.filterData.artist||e.artist.name.match(new RegExp(s.filterData.artist,"i"))||(goodSearch=!1),""!=!s.filterData.title||e.songname.match(new RegExp(s.filterData.title,"i"))||(goodSearch=!1),s.filterData[e.instrument_id]||(goodSearch=!1),goodSearch&&s.filteredTracks.push(e)}),0===s.filteredTracks.length?s.showNoResultsFound=!0:s.showNoResultsFound=!1}function c(){s.soloTrackAudio=[],s.currentAudioTrackId="",s.showNoResultsFound=!1,d.getInstruments().then(function(e){s.instruments=e.data},function(e){console.log(e)}),a(),s.filterData=p.soloFilterData,s.trackArray=l.getTrackArray,s.bandTrackIdArray=l.getTrackIdArray,s.trackArrayCount=l.getTrackArrayCount}var s=this,l=r,u=t,d=n,p=o;s.addToBand=function(e){l.addToTrackArray(e),console.log(e)},s.removeFromBand=function(e){l.removeFromTrackArray(e),console.log("Track removed from new band: "+e)},s.play=function(e){""!=s.currentAudioTrackId&&s.pause(s.currentAudioTrackId),s.currentAudioTrackId=e,s.soloTrackAudio[e].play()},s.pause=function(e){s.soloTrackAudio[e].pause(),s.currentAudioTrackId=""},e.$watch(function(){return s.filterData},function(){s.filterData&&i()},!0),c()}]),app.controller("uploadController",["Upload","artistService","instrumentService","soloService","$state",function(e,r,t,n,o){function a(){c.uploaded=!1,c.showform=!1,c.instruments=u.getInstruments().then(function(e){c.instruments=e.data,console.log(e.data)},function(e){console.log(e)}),c.artists=l.getArtists().then(function(e){console.log(e.data),c.artists=e.data},function(e){console.log(e)})}function i(e){for(var r=e+"=",t=decodeURIComponent(document.cookie),n=t.split(";"),o=0;o<n.length;o++){for(var a=n[o];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(r))return a.substring(r.length,a.length)}return""}var c=this,s=n,l=r,u=t,d=document.getElementById("upload-spinner"),p={lines:13,length:28,width:12,radius:42,scale:.3,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"40%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};c.uploadFile=function(r){var t=new Spinner(p).spin(d);c.loading=!0,c.uploaded=!1,c.showform=!0,$("select").material_select(),e.upload({url:CONSTANTS.API_BASE_URL+"/upload",fileFormDataName:"song",sendFieldsAs:"form",data:{song:r}}).then(function(e){c.filename=e.data.name,c.tracklength=e.data.length,t.stop(),c.loading=!1,c.uploaded=!0},function(e){c.loading=!1,t.stop(),console.log("Error")})},c.save=function(){var e=JSON.parse(i("user")).userId,r={name:c.songname,file_url:c.filename,track_length:c.tracklength,user_id:e,instrument_id:c.instrumentsdropdown,artist_id:c.artistsdropdown};s.insertTrack(r).then(function(e){o.go("solo"),console.log(e)},function(e){console.log(e)})},a()}]),app.filter("band",function(){return function(e,r){var t=!1;return angular.forEach(r,function(r,n){r==e&&(t=!0)}),t}}),app.service("artistService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getArtists=function(){var e=CONSTANTS.API_BASE_URL+"/artists";return r(e)}}]),app.service("authService",["$auth","$rootScope","$cookies","$state","userService",function(e,r,t,n,o){function a(e,n,o,a){var c=new Date;c=c.setTime(c.getTime()+1e3*e.expires_in),c=new Date(c);var s={token:e,userId:n,username:o,email:a};i.user=s,t.putObject("user",s,{expires:c}),r.isLoggedIn=!0,"1"==s.isAdmin?r.isAdmin=!0:r.isAdmin=!1}var i=this,c=o;i.isLoggedIn=!1,i.login=function(r){e.login(r).then(function(e){token=e.data.token,id=0,username="",email="",c.getUser().then(function(e){id=e.data.id,username=e.data.username,email=e.data.email,a(token,id,username,email),i.isLoggedIn=!0},function(e){console.log(e),i.isLoggedIn=!1})},function(e){console.log(e),i.isLoggedIn=!1})},i.logout=function(){e.logout().then(function(e){r.isLoggedIn=!1,r.isAdmin=!1,i.user=null,i.isLoggedIn=null,t.remove("user"),n.go("home")},function(e){console.log(e)})},i.register=function(e){var r=CONSTANTS.API_BASE_URL+"/user";return $http.post(r,e)}}]),app.service("bandService",function(){function e(e,r,t){for(var n=0,o=e.length;n<o;n++)if(e[n][t]===r)return n;return-1}function r(){return trackArrayCount++,trackArrayCount}function t(){return trackArrayCount--,trackArrayCount}function n(e){return trackIdArray.push(e),trackIdArray}function o(e){return index=trackIdArray.indexOf(e),index>-1&&trackIdArray.splice(index,1),trackIdArray}var a=this;trackArray=[],trackIdArray=[],trackArrayCount=0,a.getTrackArrayCount=function(){return trackArrayCount},a.getTrackIdArray=function(){return trackIdArray},a.addToTrackArray=function(e){return trackArray.push(e),r(),n(e.id),trackArray},a.removeFromTrackArray=function(r){return index=e(trackArray,r.id,"id"),index>-1&&trackArray.splice(index,1),t(),o(r.id),trackArray},a.getTrackArray=function(){return trackArray},a.testFunction=function(){alert("Test function called from inside service!")}}),app.service("filterService",["instrumentService",function(e){function r(){t.createSoloFilterData(),t.createMergedFilterData()}var t=this,n=e;t.createSoloFilterData=function(){t.soloFilterData={artist:"",title:""},angular.forEach(n.instruments,function(e,r){t.soloFilterData[e.id]=!0})},t.createMergedFilterData=function(){t.mergedFilterData={artist:"",title:""}},r()}]),app.service("instrumentService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getInstruments=function(){var e=CONSTANTS.API_BASE_URL+"/instruments";return r(e)},t.instruments=[{name:"Lead-guitar",id:1},{name:"Drum",id:2},{name:"Bass",id:3},{name:"Keys",id:4}]}]),app.service("mergedService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getTracks=function(){var e=CONSTANTS.API_BASE_URL+"/mergedtracks";return r(e)},t.getTrackById=function(e){var t=CONSTANTS.API_BASE_URL+"/mergedtracks/"+e;return r(t)},t.mergeTracks=function(r){return e.post(CONSTANTS.API_BASE_URL+"/mergedtracks/create",r)},t.download=function(e){var t=CONSTANTS.API_BASE_URL+"/mergedtracks/"+e+"/download";return r(t)}}]),app.service("soloService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getTracks=function(){var e=CONSTANTS.API_BASE_URL+"/tracks";return r(e)},t.getTrackById=function(e){var t=CONSTANTS.API_BASE_URL+"/tracks/"+e;return r(t)},t.insertTrack=function(r){return e.post(CONSTANTS.API_BASE_URL+"/tracks/create",r)}}]),app.service("userService",["$http",function(e){var r=this;r.getUser=function(){return e.get(CONSTANTS.API_BASE_URL+"/user")},r.updateUser=function(r){return e.post(CONSTANTS.API_BASE_URL+"/user",r)}}]),app.directive("dcbBand",["bandService",function(e){return{restrict:"E",templateUrl:"app/directives/dcb-band/dcb-band.html",replace:!0,scope:{},controllerAs:"band",controller:["$auth","$scope","$rootScope",function(r,t,n){function o(){a.trackArray=i.getTrackArray,a.bandTrackIdArray=i.getTrackIdArray,a.trackArrayCount=i.getTrackArrayCount,console.log(a.trackArrayCount)}var a=this,i=e;a.removeFromBand=function(e){i.removeFromTrackArray(e),console.log("Track removed from new band: "+e)},o()}]}}]),app.directive("dcbHeader",["bandService",function(e){return{restrict:"E",templateUrl:"app/directives/dcb-header/dcb-header.html",replace:!0,scope:{},controllerAs:"head",controller:["$scope","userService","authService","$auth","$rootScope",function(r,t,n,o,a){function i(){c.trackArray=u.getTrackArray,c.trackArrayCount=u.getTrackArrayCount,o.isAuthenticated()&&s.getUser().then(function(e){a.username=e.data.username})}var c=this,s=t,l=n,u=e;c.showLogin=function(){$("#login_modal").modal(),$("#login_modal").modal("open")},c.logout=function(){l.logout()},c.showRegister=function(){$("#register_modal").modal(),$("#register_modal").modal("open")},c.showBand=function(){$("#band_modal").modal(),$("#band_modal").modal("open")},c.isAuthenticated=function(){return o.isAuthenticated()},i(),r.$watch(function(){return l.user},function(){c.user=l.user})}]}}]),app.directive("dcbRegister",["userService",function(e){return{restrict:"E",templateUrl:"app/directives/dcb-register/dcb-register.html",replace:!0,scope:{},controllerAs:"register",controller:["$auth","$scope","$rootScope","userService","authService",function(e,r,t,n,o){var a=this,i=o,c=document.getElementById("register-spinner"),s={lines:13,length:28,width:14,radius:42,scale:.4,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"60%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};a.register=function(){var t=new Spinner(s).spin(c);a.loading=!0;var n={username:a.username,email:a.email,password:a.password};e.signup(n).then(function(e){i.login(n);var o=r.$watch(function(){return i.isLoggedIn},function(){i.isLoggedIn&&(a.loading=!1,$("#register_modal").modal(),$("#register_modal").modal("close"),t.stop(),o()),i.isLoggedIn===!1&&(t.stop(),a.loading=!1,o())},!0)})["catch"](function(e){t.stop(),a.loading=!1,console.log(e)})}}]}}]),app.directive("dcbLogin",function(){return{restrict:"E",templateUrl:"app/directives/dcb-login/dcb-login.html",replace:!0,scope:{},controllerAs:"login",controller:["$auth","$scope","$rootScope","userService","authService","$cookies",function(e,r,t,n,o,a){var i=this,c=o,s=document.getElementById("login-spinner"),l={lines:13,length:28,width:14,radius:42,scale:.4,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"60%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};i.login=function(){var e=new Spinner(l).spin(s);i.loading=!0,console.log(i.loading);var t={email:i.email,password:i.password};c.login(t);r.$watch(function(){return c.isLoggedIn},function(){c.isLoggedIn&&(i.loading=!1,$("#login_modal").modal(),$("#login_modal").modal("close"),e.stop()),c.isLoggedIn||(e.stop(),i.loading=!1)},!0)}}]}}),app.directive("dcbSticky",["$window",function(e){var r=angular.element(e);return{restrict:"A",link:function(e,t,n){var o=n.dcbSticky,a=t.offset().top;r.on("scroll",function(e){r.scrollTop()>=a?t.addClass(o):t.removeClass(o)})}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbmZpZy5qcyIsInJvdXRlcy5qcyIsImJhbmRDb250cm9sbGVyLmpzIiwiaG9tZUNvbnRyb2xsZXIuanMiLCJtZXJnZUNvbnRyb2xsZXIuanMiLCJtZXJnZWRDb250cm9sbGVyLmpzIiwicHJvZmlsZUNvbnRyb2xsZXIuanMiLCJzb2xvQ29udHJvbGxlci5qcyIsInVwbG9hZENvbnRyb2xsZXIuanMiLCJiYW5kRmlsdGVyLmpzIiwiYXJ0aXN0U2VydmljZS5qcyIsImF1dGhTZXJ2aWNlLmpzIiwiYmFuZFNlcnZpY2UuanMiLCJmaWx0ZXJTZXJ2aWNlLmpzIiwiaW5zdHJ1bWVudFNlcnZpY2UuanMiLCJtZXJnZWRTZXJ2aWNlLmpzIiwic29sb1NlcnZpY2UuanMiLCJ1c2VyU2VydmljZS5qcyIsImRjYi1iYW5kL2RjYi1iYW5kLmpzIiwiZGNiLWhlYWRlci9kY2ItaGVhZGVyLmpzIiwiZGNiLXJlZ2lzdGVyL2RjYi1yZWdpc3Rlci5qcyIsImRjYi1sb2dpbi9kY2ItbG9naW4uanMiLCJkY2Itc3RpY2t5L2RjYi1zdGlja3kuanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsIkNPTlNUQU5UUyIsIkFQSV9CQVNFX1VSTCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGF1dGhQcm92aWRlciIsImxvZ2luVXJsIiwic2lnbnVwVXJsIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJiYW5kU2VydmljZSIsIl9pbml0Iiwidm0iLCJ0cmFja0FycmF5IiwiYmFuZFN2YyIsImdldFRyYWNrQXJyYXkiLCJ0aGlzIiwiaW5zdHJ1bWVudFNlcnZpY2UiLCJmaWx0ZXJTZXJ2aWNlIiwiZmlsdGVyRGF0YSIsImZsdFN2YyIsInNvbG9GaWx0ZXJEYXRhIiwibWVyZ2VkU2VydmljZSIsIiRzdGF0ZSIsInRyYWNrcyIsInNob3dUcmFja3MiLCJ0aGVyZUFyZVRyYWNrcyIsImxvYWRlZFRyYWNrcyIsInNhdmVkVGltZSIsInRyaW1BbW91bnRzIiwibGVuZ3RoIiwibWVyZ2VkU3ZjIiwid2F2ZXN1cmZlciIsImxvYWQiLCJpIiwidHJhY2tfaWQiLCJpZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjaGVja2VkIiwiV2F2ZVN1cmZlciIsImNyZWF0ZSIsImNvbnRhaW5lciIsIndhdmVDb2xvciIsInByb2dyZXNzQ29sb3IiLCJmaWxlX3VybCIsInB1c2giLCJ0cmltX2Ftb3VudCIsInBsYXlQYXVzZSIsImlzUGxheWluZyIsImdldEN1cnJlbnRUaW1lIiwiY29uc29sZSIsImxvZyIsInpvb20iLCJ0cmltIiwidGltZVRvVHJpbSIsIk1hdGgiLCJyb3VuZCIsInBsYXlQYXVzZUFsbCIsInRvUHJldmlvdXMiLCJwcmV2aW91c1RpbWUiLCJ0b3RhbFRpbWUiLCJnZXREdXJhdGlvbiIsInByb2dyZXNzIiwic2Vla0FuZENlbnRlciIsInRvU3RhcnQiLCJzYXZlIiwibWVyZ2VUcmFja3MiLCJ0aGVuIiwiZGF0YSIsImdvIiwiZXJyb3IiLCIkc2NvcGUiLCJnZXRNZXJnZWRUcmFja3MiLCJnZXRUcmFja3MiLCJtZXJnZWRUcmFja3MiLCJmaWx0ZXJlZFRyYWNrcyIsImZpbHRlciIsImZvckVhY2giLCJ0cmFjayIsImtleSIsIm5ld1RyYWNrIiwiQXVkaW8iLCJtZXJnZWRUcmFja0F1ZGlvIiwiZ29vZFNlYXJjaCIsImFydGlzdCIsIm5hbWUiLCJtYXRjaCIsIlJlZ0V4cCIsInRpdGxlIiwic29uZ25hbWUiLCJjdXJyZW50QXVkaW9UcmFja0lkIiwibWVyZ2VkRmlsdGVyRGF0YSIsInBsYXkiLCJ0cmFja0lkIiwicGF1c2UiLCJkb3dubG9hZCIsIndpbmRvdyIsIm9wZW4iLCIkd2F0Y2giLCJ1c2VyU2VydmljZSIsInVzZXJTdmMiLCJnZXRVc2VyIiwidXNlcm5hbWUiLCJlbWFpbCIsInRhcmdldCIsIm9wdHMiLCJsaW5lcyIsIndpZHRoIiwicmFkaXVzIiwic2NhbGUiLCJjb3JuZXJzIiwiY29sb3IiLCJvcGFjaXR5Iiwicm90YXRlIiwiZGlyZWN0aW9uIiwic3BlZWQiLCJ0cmFpbCIsImZwcyIsInpJbmRleCIsImNsYXNzTmFtZSIsInRvcCIsImxlZnQiLCJzaGFkb3ciLCJod2FjY2VsIiwicG9zaXRpb24iLCJ1cGRhdGUiLCJzcGlubmVyIiwiU3Bpbm5lciIsInNwaW4iLCJsb2FkaW5nIiwidXNlcmluZm8iLCJ1cGRhdGVVc2VyIiwic3RvcCIsInNvbG9TZXJ2aWNlIiwiZ2V0U29sb1RyYWNrcyIsInNvbG9TdmMiLCJzb2xvVHJhY2tzIiwic29sb1RyYWNrQXVkaW8iLCJpbnN0cnVtZW50X2lkIiwic2hvd05vUmVzdWx0c0ZvdW5kIiwiaW5zdFN2YyIsImdldEluc3RydW1lbnRzIiwiaW5zdHJ1bWVudHMiLCJiYW5kVHJhY2tJZEFycmF5IiwiZ2V0VHJhY2tJZEFycmF5IiwidHJhY2tBcnJheUNvdW50IiwiZ2V0VHJhY2tBcnJheUNvdW50IiwiYWRkVG9CYW5kIiwiYWRkVG9UcmFja0FycmF5IiwicmVtb3ZlRnJvbUJhbmQiLCJyZW1vdmVGcm9tVHJhY2tBcnJheSIsIlVwbG9hZCIsImFydGlzdFNlcnZpY2UiLCJ1cGxvYWRlZCIsInNob3dmb3JtIiwiaW5zdHJ1bWVudFN2YyIsImFydGlzdHMiLCJhcnRpc3RTdmMiLCJnZXRBcnRpc3RzIiwiZ2V0Q29va2llIiwiY25hbWUiLCJkZWNvZGVkQ29va2llIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiY29va2llIiwiY2EiLCJzcGxpdCIsImMiLCJjaGFyQXQiLCJzdWJzdHJpbmciLCJpbmRleE9mIiwidXBsb2FkRmlsZSIsImZpbGUiLCIkIiwibWF0ZXJpYWxfc2VsZWN0IiwidXBsb2FkIiwiZmlsZUZvcm1EYXRhTmFtZSIsInNlbmRGaWVsZHNBcyIsInNvbmciLCJyZXNwIiwiZmlsZW5hbWUiLCJ0cmFja2xlbmd0aCIsInVzZXJfaWQiLCJKU09OIiwicGFyc2UiLCJ1c2VySWQiLCJ0cmFja19sZW5ndGgiLCJpbnN0cnVtZW50c2Ryb3Bkb3duIiwiYXJ0aXN0X2lkIiwiYXJ0aXN0c2Ryb3Bkb3duIiwiaW5zZXJ0VHJhY2siLCJsaXN0IiwicmV0dXJuVmFsdWUiLCJpbmRleCIsInNlcnZpY2UiLCIkaHR0cCIsImdldERhdGEiLCJvcHRpb25zIiwiZ2V0Iiwic3ZjIiwiJGF1dGgiLCIkcm9vdFNjb3BlIiwiJGNvb2tpZXMiLCJsb2dpbiIsInRva2VuIiwiZXhwaXJhdGlvblRpbWUiLCJEYXRlIiwic2V0VGltZSIsImdldFRpbWUiLCJ1c2VyRGF0YSIsInVzZXIiLCJwdXRPYmplY3QiLCJleHBpcmVzIiwiaXNMb2dnZWRJbiIsImlzQWRtaW4iLCJjcmVkZW50aWFscyIsImxvZ291dCIsInJlbW92ZSIsInJlZ2lzdGVyIiwicG9zdCIsImFycmF5T2JqZWN0SW5kZXhPZiIsIm15QXJyYXkiLCJzZWFyY2hUZXJtIiwicHJvcGVydHkiLCJsZW4iLCJpbmNyZW1lbnRUcmFja0FycmF5Q291bnQiLCJkZWNyZW1lbnRUcmFja0FycmF5Q291bnQiLCJhZGRUb1RyYWNrSWRBcnJheSIsInRyYWNrSWRBcnJheSIsInJlbW92ZUZyb21UcmFja0lkQXJyYXkiLCJzcGxpY2UiLCJ0ZXN0RnVuY3Rpb24iLCJhbGVydCIsImNyZWF0ZVNvbG9GaWx0ZXJEYXRhIiwiY3JlYXRlTWVyZ2VkRmlsdGVyRGF0YSIsInZhbHVlIiwiZ2V0VHJhY2tCeUlkIiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJyZXBsYWNlIiwic2NvcGUiLCJjb250cm9sbGVyQXMiLCJhdXRoU2VydmljZSIsImlzQXV0aGVudGljYXRlZCIsImF1dGhTdmMiLCJzaG93TG9naW4iLCJtb2RhbCIsInNob3dSZWdpc3RlciIsInNob3dCYW5kIiwicGFzc3dvcmQiLCJzaWdudXAiLCJyZXNwb25zZSIsInVucmVnaXN0ZXIiLCIkd2luZG93IiwiJHdpbiIsImVsZW1lbnQiLCJsaW5rIiwiYXR0cnMiLCJ0b3BDbGFzcyIsImRjYlN0aWNreSIsIm9mZnNldFRvcCIsIm9m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LFNBQVUsRUFDUDJDLEVBQUUsZ0JBQWdCeUUsUUFDeEJ6RSxFQUFFLGdCQUFnQnlFLE1BQU0sU0FDbEJ2SCxFQUFRTSxRQUVYK0csRUFBUS9CLGFBRVh0RixFQUFRTSxPQUNSekgsRUFBR3NILFNBQVUsS0FFWixTQzdGUnhJLElBQUltUCxVQUFVLGFBQUEsVUFBYSxTQUFTZ0IsR0FDbkMsR0FBSUMsR0FBT25RLFFBQVFvUSxRQUFRRixFQUUzQixRQUNDZixTQUFVLElBQ1ZrQixLQUFNLFNBQVVoQixFQUFPZSxFQUFTRSxHQUMxQixHQUFJQyxHQUFXRCxFQUFNRSxVQUNqQkMsRUFBWUwsRUFBUU0sU0FBUzVJLEdBRWpDcUksR0FBS1EsR0FBRyxTQUFVLFNBQVVDLEdBQ3RCVCxFQUFLVSxhQUFlSixFQUN0QkwsRUFBUVUsU0FBU1AsR0FFakJILEVBQVFXLFlBQVlSIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoXCJhcHBcIiwgW1xyXG5cdFx0XCJ1aS5yb3V0ZXJcIixcclxuXHRcdFwic2F0ZWxsaXplclwiLFxyXG5cdFx0XCJuZ0Nvb2tpZXNcIixcclxuXHRcdFwibmdGaWxlVXBsb2FkXCJcclxuXHRdKTsiLCJ2YXIgQ09OU1RBTlRTID0gKGZ1bmN0aW9uICgpIHtcblx0XG5cdHZhciBtb2R1bGUgPSB7fTtcblxuXHRtb2R1bGUuQVBJX0JBU0VfVVJMID0gXCJodHRwOi8vZGlzY292ZXJiYW5kYXBpLmludC9wdWJsaWMvYXBpXCI7XG5cblx0cmV0dXJuIG1vZHVsZTtcbn0oKSk7IiwiYXBwLmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkYXV0aFByb3ZpZGVyKSB7XHJcbiAgJGF1dGhQcm92aWRlci5sb2dpblVybCAgICA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyAnL2xvZ2luJztcclxuICAkYXV0aFByb3ZpZGVyLnNpZ251cFVybCAgID0gQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArICcvcmVnaXN0ZXInO1xyXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoXCIvXCIpO1xyXG5cclxuICAkc3RhdGVQcm92aWRlclxyXG4gICAgLnN0YXRlKCdob21lJywge1xyXG4gICAgICB1cmw6IFwiL1wiLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogXCJhcHAvcGFnZXMvaG9tZS5odG1sXCIsXHJcbiAgICAgIGNvbnRyb2xsZXI6IFwiaG9tZUNvbnRyb2xsZXIgYXMgaG9tZVwiXHJcbiAgICB9KVxyXG4gIFx0LnN0YXRlKCdzb2xvJywge1xyXG4gICAgICB1cmw6IFwiL3NvbG9cIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL3NvbG8uaHRtbFwiLFxyXG4gICAgICBjb250cm9sbGVyOiBcInNvbG9Db250cm9sbGVyIGFzIHNvbG9cIlxyXG4gICAgfSlcclxuICAgIC5zdGF0ZSgnbWVyZ2VkJywge1xyXG4gICAgICB1cmw6IFwiL21lcmdlZFwiLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogXCJhcHAvcGFnZXMvbWVyZ2VkLmh0bWxcIixcclxuICAgICAgY29udHJvbGxlcjogXCJtZXJnZWRDb250cm9sbGVyIGFzIG1lcmdlZFwiXHJcbiAgICB9KVxyXG4gICAgLnN0YXRlKCdiYW5kJywge1xyXG4gICAgICB1cmw6IFwiL2JhbmRcIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL2JhbmQuaHRtbFwiLFxyXG4gICAgICBjb250cm9sbGVyOiBcImJhbmRDb250cm9sbGVyIGFzIGJhbmRcIlxyXG4gICAgfSlcclxuICAgIC5zdGF0ZSgnbWVyZ2UnLCB7XHJcbiAgICAgIHVybDogXCIvbWVyZ2VcIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL21lcmdlLmh0bWxcIixcclxuICAgICAgY29udHJvbGxlcjogXCJtZXJnZUNvbnRyb2xsZXIgYXMgbWVyZ2VcIlxyXG4gICAgfSlcclxuICAgIC5zdGF0ZSgncHJvZmlsZScsIHtcclxuICAgICAgdXJsOiBcIi9wcm9maWxlXCIsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wYWdlcy9wcm9maWxlLmh0bWxcIixcclxuICAgICAgY29udHJvbGxlcjogXCJwcm9maWxlQ29udHJvbGxlciBhcyBwcm9maWxlXCJcclxuICAgIH0pXHJcbiAgICAuc3RhdGUoJ3VwbG9hZCcsIHtcclxuICAgICAgdXJsOiBcIi91cGxvYWRcIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL3VwbG9hZC5odG1sXCIsXHJcbiAgICAgIGNvbnRyb2xsZXI6IFwidXBsb2FkQ29udHJvbGxlciBhcyB1cGxvYWRcIlxyXG4gICAgfSlcclxufSk7IiwiYXBwLmNvbnRyb2xsZXIoXCJiYW5kQ29udHJvbGxlclwiLCBmdW5jdGlvbihiYW5kU2VydmljZSkge1xyXG5cdFxyXG5cdHZhciB2bSBcdFx0PSB0aGlzO1xyXG5cdHZhciBiYW5kU3ZjID0gYmFuZFNlcnZpY2U7XHJcblxyXG5cdGZ1bmN0aW9uIF9pbml0KCkge1xyXG5cdFx0dm0udHJhY2tBcnJheSA9IGJhbmRTdmMuZ2V0VHJhY2tBcnJheTtcclxuXHR9XHJcblxyXG5cdF9pbml0KCk7XHJcbn0pOyIsImFwcC5jb250cm9sbGVyKFwiaG9tZUNvbnRyb2xsZXJcIiwgZnVuY3Rpb24oaW5zdHJ1bWVudFNlcnZpY2UsIGZpbHRlclNlcnZpY2UpIHtcblx0XG5cdHZhciB2bSA9IHRoaXM7XG5cdHZhciBpbnN0U3ZjID0gaW5zdHJ1bWVudFNlcnZpY2U7XG5cdHZhciBmbHRTdmMgPSBmaWx0ZXJTZXJ2aWNlO1xuXG5cdGZ1bmN0aW9uIF9pbml0KCkge1xuXHRcdC8vaW5zdFN2Yy5nZXRJbnN0cnVtZW50cygpO1xuXG5cdFx0dm0uZmlsdGVyRGF0YSA9IGZsdFN2Yy5zb2xvRmlsdGVyRGF0YTtcblx0fVxuXG5cdF9pbml0KCk7XG59KTsiLCJhcHAuY29udHJvbGxlcihcIm1lcmdlQ29udHJvbGxlclwiLCBmdW5jdGlvbihiYW5kU2VydmljZSwgbWVyZ2VkU2VydmljZSwgJHN0YXRlKSB7XHJcblx0dmFyIHZtIFx0XHRcdD0gdGhpcztcclxuXHR2YXIgYmFuZFN2YyBcdD0gYmFuZFNlcnZpY2U7XHJcblx0dmFyIG1lcmdlZFN2YyBcdD0gbWVyZ2VkU2VydmljZTtcclxuXHR2YXIgd2F2ZXN1cmZlciBcdD0gW107XHJcblxyXG5cdGZ1bmN0aW9uIF9pbml0KCkge1xyXG5cdFx0dm0udHJhY2tzIFx0XHRcdD0gYmFuZFN2Yy5nZXRUcmFja0FycmF5KCk7XHJcblx0XHR2bS5zaG93VHJhY2tzIFx0XHQ9IGZhbHNlO1xyXG5cdFx0dm0udGhlcmVBcmVUcmFja3NcdD0gZmFsc2U7XHJcblx0XHR2bS5sb2FkZWRUcmFja3MgXHQ9IFtdO1xyXG5cdFx0dm0uc2F2ZWRUaW1lIFx0XHQ9IFtdO1xyXG5cdFx0dm0udHJpbUFtb3VudHMgIFx0PSBbXTtcclxuXHJcblx0XHRpZih2bS50cmFja3MubGVuZ3RoID4gMClcclxuXHRcdHtcclxuXHRcdFx0dm0udGhlcmVBcmVUcmFja3NcdD0gdHJ1ZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZtLmxvYWQgPSBmdW5jdGlvbigpIHtcclxuXHRcdGlmKHZtLnRoZXJlQXJlVHJhY2tzKVxyXG5cdFx0e1xyXG5cdFx0XHRmb3IgKHZhciBpID0gdm0udHJhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdFx0dmFyIHRyYWNrX2lkID0gdm0udHJhY2tzW2ldLmlkO1xyXG5cclxuXHRcdFx0XHRpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0cmFja19pZCkuY2hlY2tlZCkgXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0d2F2ZXN1cmZlclt0cmFja19pZF0gPSBXYXZlU3VyZmVyLmNyZWF0ZSh7XHJcblx0XHRcdCAgICBcdFx0Y29udGFpbmVyOiAnI3dhdmVmb3JtJyt0cmFja19pZCxcclxuXHRcdFx0ICAgIFx0XHR3YXZlQ29sb3I6ICdncmVlbicsXHJcblx0XHRcdCAgICBcdFx0cHJvZ3Jlc3NDb2xvcjogJ3B1cnBsZSdcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdHdhdmVzdXJmZXJbdHJhY2tfaWRdLmxvYWQoJ2h0dHA6Ly9kaXNjb3ZlcmJhbmRhcGkuaW50L3B1YmxpYy9hcGkvYXVkaW8vJyArIHZtLnRyYWNrc1tpXS5maWxlX3VybCk7XHJcblxyXG5cdFx0XHRcdFx0dm0ubG9hZGVkVHJhY2tzLnB1c2goe1xyXG5cdFx0ICAgICAgICAgICAgXHR0cmFja19pZDogdHJhY2tfaWQsXHJcblx0XHQgICAgICAgICAgICBcdHRyaW1fYW1vdW50OiAwXHJcblx0XHQgICAgICAgIFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHZtLnNob3dUcmFja3MgPSB0cnVlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0dm0ucGxheVBhdXNlID0gZnVuY3Rpb24oaWQpIHtcclxuXHRcdGlmKCF3YXZlc3VyZmVyW2lkXS5pc1BsYXlpbmcoKSlcclxuXHRcdHtcclxuXHRcdFx0dm0uc2F2ZWRUaW1lW2lkXSA9IHdhdmVzdXJmZXJbaWRdLmdldEN1cnJlbnRUaW1lKCk7XHJcblx0XHRcdGNvbnNvbGUubG9nKHZtLnNhdmVkVGltZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0d2F2ZXN1cmZlcltpZF0ucGxheVBhdXNlKCk7XHJcblx0XHR3YXZlc3VyZmVyW2lkXS56b29tKDUwKTtcclxuXHR9XHJcblxyXG5cdHZtLnRyaW0gPSBmdW5jdGlvbihpZCkge1xyXG5cdFx0dmFyIHRpbWVUb1RyaW0gPSB3YXZlc3VyZmVyW2lkXS5nZXRDdXJyZW50VGltZSgpO1xyXG5cdFx0Zm9yICh2YXIgaSA9IHZtLmxvYWRlZFRyYWNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG5cdFx0XHRpZih2bS5sb2FkZWRUcmFja3NbaV0udHJhY2tfaWQgPT09IGlkKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dm0ubG9hZGVkVHJhY2tzW2ldLnRyaW1fYW1vdW50IFx0PSB0aW1lVG9UcmltO1xyXG5cdFx0XHRcdHZtLnRyaW1BbW91bnRzW2lkXSBcdFx0XHRcdD0gTWF0aC5yb3VuZCh0aW1lVG9UcmltICogMTAwKSAvIDEwMDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblxyXG5cdHZtLnBsYXlQYXVzZUFsbCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0Zm9yICh2YXIgaSA9IHZtLmxvYWRlZFRyYWNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG5cdFx0XHR2YXIgaWQgPSB2bS5sb2FkZWRUcmFja3NbaV0udHJhY2tfaWQ7XHJcblx0XHRcdGlmKCF3YXZlc3VyZmVyW2lkXS5pc1BsYXlpbmcoKSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHZtLnNhdmVkVGltZVtpZF0gPSB3YXZlc3VyZmVyW2lkXS5nZXRDdXJyZW50VGltZSgpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKHZtLnNhdmVkVGltZSk7XHJcblx0XHRcdH1cclxuXHJcbiAgICBcdFx0d2F2ZXN1cmZlcltpZF0ucGxheVBhdXNlKCk7XHJcbiAgICBcdFx0d2F2ZXN1cmZlcltpZF0uem9vbSg1MCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR2bS50b1ByZXZpb3VzID0gZnVuY3Rpb24oKSB7XHJcblx0XHRmb3IgKHZhciBpID0gdm0ubG9hZGVkVHJhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdHZhciBpZCA9IHZtLmxvYWRlZFRyYWNrc1tpXS50cmFja19pZDtcclxuXHRcdFx0dmFyIHByZXZpb3VzVGltZSBcdD0gdm0uc2F2ZWRUaW1lW2lkXTtcclxuXHRcdFx0dmFyIHRvdGFsVGltZVx0XHQ9IHdhdmVzdXJmZXJbaWRdLmdldER1cmF0aW9uKCk7XHJcblx0XHRcdHZhciBwcm9ncmVzcyA9IHByZXZpb3VzVGltZSAvIHRvdGFsVGltZTtcclxuXHRcdFx0d2F2ZXN1cmZlcltpZF0uc2Vla0FuZENlbnRlcihwcm9ncmVzcyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR2bS50b1N0YXJ0ID0gZnVuY3Rpb24oaWQpIHtcclxuXHRcdHdhdmVzdXJmZXJbaWRdLnNlZWtBbmRDZW50ZXIoMCk7XHJcblx0fVxyXG5cclxuXHRcclxuXHR2bS5zYXZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRtZXJnZWRTdmMubWVyZ2VUcmFja3Modm0ubG9hZGVkVHJhY2tzKVxyXG5cdFx0LnRoZW4oZnVuY3Rpb24oZGF0YSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICRzdGF0ZS5nbyhcIm1lcmdlZFwiKTtcclxuXHJcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG5cdH1cclxuXHJcblx0X2luaXQoKTtcclxufSk7IiwiYXBwLmNvbnRyb2xsZXIoXCJtZXJnZWRDb250cm9sbGVyXCIsIGZ1bmN0aW9uKCRzY29wZSwgbWVyZ2VkU2VydmljZSwgZmlsdGVyU2VydmljZSkge1xyXG5cdFxyXG5cdHZhciB2bSAgXHRcdD0gdGhpcztcclxuXHR2YXIgbWdkU3ZjIFx0XHQ9IG1lcmdlZFNlcnZpY2U7XHJcblx0dmFyIGZsdFN2YyBcdFx0PSBmaWx0ZXJTZXJ2aWNlO1xyXG5cclxuXHQvL1ByaXZhdGUgZnVuY3Rpb25zXHJcblx0ZnVuY3Rpb24gcGxheUF1ZGlvRmlsZSh0cmFjaylcclxuXHR7XHJcblx0XHR0cmFjay5wbGF5KCk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBnZXRNZXJnZWRUcmFja3MoKSB7XHJcblx0XHRtZXJnZWRTZXJ2aWNlLmdldFRyYWNrcygpXHJcblx0XHRcdC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHR2bS5tZXJnZWRUcmFja3MgPSBkYXRhLmRhdGE7XHJcblx0XHRcdFx0dm0uZmlsdGVyZWRUcmFja3MgPSB2bS5tZXJnZWRUcmFja3M7XHJcblx0XHRcdFx0ZmlsdGVyKCk7XHJcblxyXG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaCh2bS5tZXJnZWRUcmFja3MsIGZ1bmN0aW9uKHRyYWNrLCBrZXkpIHtcclxuXHRcdFx0XHRcdFx0bmV3VHJhY2sgPSBuZXcgQXVkaW8oJ2h0dHA6Ly9kaXNjb3ZlcmJhbmRhcGkuaW50L3B1YmxpYy9hdWRpby8nICsgdHJhY2suZmlsZV91cmwpO1xyXG5cdFx0XHRcdFx0XHR2bS5tZXJnZWRUcmFja0F1ZGlvW3RyYWNrLmlkXSA9IG5ld1RyYWNrO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0sIGZ1bmN0aW9uKGVycm9yKSB7XHJcblxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBmaWx0ZXIoKSB7XHJcblx0XHRcclxuXHRcdHZtLmZpbHRlcmVkVHJhY2tzID0gW107XHJcblxyXG5cdFx0YW5ndWxhci5mb3JFYWNoKHZtLm1lcmdlZFRyYWNrcywgZnVuY3Rpb24odHJhY2ssIGtleSkge1xyXG5cclxuXHRcdFx0Z29vZFNlYXJjaCA9IHRydWU7XHJcblxyXG5cdFx0XHRpZighdm0uZmlsdGVyRGF0YS5hcnRpc3QgPT0gXCJcIiAmJiAhdHJhY2suYXJ0aXN0Lm5hbWUubWF0Y2gobmV3IFJlZ0V4cCh2bS5maWx0ZXJEYXRhLmFydGlzdCwgXCJpXCIpKSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGdvb2RTZWFyY2ggPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYoIXZtLmZpbHRlckRhdGEudGl0bGUgPT0gXCJcIiAmJiAhdHJhY2suc29uZ25hbWUubWF0Y2gobmV3IFJlZ0V4cCh2bS5maWx0ZXJEYXRhLnRpdGxlLCBcImlcIikpKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Z29vZFNlYXJjaCA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0aWYoZ29vZFNlYXJjaClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHZtLmZpbHRlcmVkVHJhY2tzLnB1c2godHJhY2spO1xyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gX2luaXQoKSB7XHJcblx0XHR2bS5tZXJnZWRUcmFja0F1ZGlvID0gW107XHJcblx0XHR2bS5jdXJyZW50QXVkaW9UcmFja0lkID0gXCJcIjtcclxuXHJcblx0XHRnZXRNZXJnZWRUcmFja3MoKTtcclxuXHRcdHZtLmZpbHRlckRhdGEgPSBmbHRTdmMubWVyZ2VkRmlsdGVyRGF0YTtcclxuXHR9XHJcblxyXG5cdC8vVm0gZnVuY3Rpb25zXHJcblx0dm0ucGxheSA9IGZ1bmN0aW9uKHRyYWNrSWQpIHtcclxuXHJcblx0XHRpZih2bS5jdXJyZW50QXVkaW9UcmFja0lkICE9IFwiXCIpIHtcclxuXHRcdFx0dm0ucGF1c2Uodm0uY3VycmVudEF1ZGlvVHJhY2tJZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dm0uY3VycmVudEF1ZGlvVHJhY2tJZCA9IHRyYWNrSWQ7XHJcblx0XHR2bS5tZXJnZWRUcmFja0F1ZGlvW3RyYWNrSWRdLnBsYXkoKTtcclxuXHR9XHJcblxyXG5cdHZtLnBhdXNlID0gZnVuY3Rpb24odHJhY2tJZCkge1xyXG5cdFx0dm0ubWVyZ2VkVHJhY2tBdWRpb1t0cmFja0lkXS5wYXVzZSgpO1xyXG5cdFx0dm0uY3VycmVudEF1ZGlvVHJhY2tJZCA9IFwiXCI7XHJcblx0fVxyXG5cclxuXHR2bS5kb3dubG9hZCA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICBcdHdpbmRvdy5vcGVuKENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyAnL21lcmdlZHRyYWNrcy8nICsgaWQgKyAnL2Rvd25sb2FkJywgJ19ibGFuaycsICcnKTsgIFxyXG5cdH1cclxuXHJcblxyXG5cdC8vV2F0Y2hlc1xyXG5cdCRzY29wZS4kd2F0Y2goXHJcblx0XHRmdW5jdGlvbiAoKSB7IHJldHVybiB2bS5maWx0ZXJEYXRhIH0sIFxyXG5cdFx0ZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0aWYodm0uZmlsdGVyRGF0YSkgXHJcblx0XHRcdHtcclxuXHRcdFx0XHRmaWx0ZXIoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSwgdHJ1ZSk7XHJcblxyXG5cclxuXHJcblx0Ly92bS50cmFjazEgPSBuZXcgQXVkaW8oXCJkaXN0L2F1ZGlvL0JlaGVtb3RoIC0gQ29ucXVlciBBbGwgLSBEcnVtLm1wM1wiKTtcclxuXHQvL3ZtLnRyYWNrMiA9IG5ldyBBdWRpbyhcImRpc3QvYXVkaW8vQmVoZW1vdGggLSBDb25xdWVyIEFsbCAtIEd1aXRhci5tcDNcIik7XHJcblxyXG5cclxuXHRfaW5pdCgpO1xyXG59KTsiLCJhcHAuY29udHJvbGxlcihcInByb2ZpbGVDb250cm9sbGVyXCIsIGZ1bmN0aW9uKHVzZXJTZXJ2aWNlKSB7XHJcblx0XHJcblx0dmFyIHZtIFx0XHQ9IHRoaXM7XHJcblx0dmFyIHVzZXJTdmMgPSB1c2VyU2VydmljZTtcclxuXHR2YXIgdGFyZ2V0IFx0PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBkYXRlLXByb2ZpbGUtc3Bpbm5lcicpO1xyXG5cclxuXHR2YXIgb3B0cyA9IHtcclxuXHRcdFx0bGluZXM6IDEzIC8vIFRoZSBudW1iZXIgb2YgbGluZXMgdG8gZHJhd1xyXG5cdFx0LCBsZW5ndGg6IDI4IC8vIFRoZSBsZW5ndGggb2YgZWFjaCBsaW5lXHJcblx0XHQsIHdpZHRoOiAxMiAvLyBUaGUgbGluZSB0aGlja25lc3NcclxuXHRcdCwgcmFkaXVzOiA0MiAvLyBUaGUgcmFkaXVzIG9mIHRoZSBpbm5lciBjaXJjbGVcclxuXHRcdCwgc2NhbGU6IDAuMTUgLy8gU2NhbGVzIG92ZXJhbGwgc2l6ZSBvZiB0aGUgc3Bpbm5lclxyXG5cdFx0LCBjb3JuZXJzOiAxIC8vIENvcm5lciByb3VuZG5lc3MgKDAuLjEpXHJcblx0XHQsIGNvbG9yOiAnIzAwMCcgLy8gI3JnYiBvciAjcnJnZ2JiIG9yIGFycmF5IG9mIGNvbG9yc1xyXG5cdFx0LCBvcGFjaXR5OiAwLjI1IC8vIE9wYWNpdHkgb2YgdGhlIGxpbmVzXHJcblx0XHQsIHJvdGF0ZTogMCAvLyBUaGUgcm90YXRpb24gb2Zmc2V0XHJcblx0XHQsIGRpcmVjdGlvbjogMSAvLyAxOiBjbG9ja3dpc2UsIC0xOiBjb3VudGVyY2xvY2t3aXNlXHJcblx0XHQsIHNwZWVkOiAxIC8vIFJvdW5kcyBwZXIgc2Vjb25kXHJcblx0XHQsIHRyYWlsOiA2MCAvLyBBZnRlcmdsb3cgcGVyY2VudGFnZVxyXG5cdFx0LCBmcHM6IDIwIC8vIEZyYW1lcyBwZXIgc2Vjb25kIHdoZW4gdXNpbmcgc2V0VGltZW91dCgpIGFzIGEgZmFsbGJhY2sgZm9yIENTU1xyXG5cdFx0LCB6SW5kZXg6IDJlOSAvLyBUaGUgei1pbmRleCAoZGVmYXVsdHMgdG8gMjAwMDAwMDAwMClcclxuXHRcdCwgY2xhc3NOYW1lOiAnc3Bpbm5lcicgLy8gVGhlIENTUyBjbGFzcyB0byBhc3NpZ24gdG8gdGhlIHNwaW5uZXJcclxuXHRcdCwgdG9wOiAnODklJyAvLyBUb3AgcG9zaXRpb24gcmVsYXRpdmUgdG8gcGFyZW50XHJcblx0XHQsIGxlZnQ6ICcyNS41JScgLy8gTGVmdCBwb3NpdGlvbiByZWxhdGl2ZSB0byBwYXJlbnRcclxuXHRcdCwgc2hhZG93OiBmYWxzZSAvLyBXaGV0aGVyIHRvIHJlbmRlciBhIHNoYWRvd1xyXG5cdFx0LCBod2FjY2VsOiBmYWxzZSAvLyBXaGV0aGVyIHRvIHVzZSBoYXJkd2FyZSBhY2NlbGVyYXRpb25cclxuXHRcdCwgcG9zaXRpb246ICdhYnNvbHV0ZScgLy8gRWxlbWVudCBwb3NpdGlvbmluZ1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gX2luaXQoKSB7XHJcblx0XHR1c2VyU3ZjLmdldFVzZXIoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdHZtLnVzZXJuYW1lID0gZGF0YS5kYXRhLnVzZXJuYW1lO1xyXG5cdFx0XHR2bS5lbWFpbCBcdD0gZGF0YS5kYXRhLmVtYWlsO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHR2bS51cGRhdGUgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBzcGlubmVyID0gbmV3IFNwaW5uZXIob3B0cykuc3Bpbih0YXJnZXQpO1xyXG5cdCAgICB2bS5sb2FkaW5nIFx0PSB0cnVlO1xyXG5cclxuXHRcdHZhciB1c2VyaW5mbyA9IHtcclxuICAgICAgICAgICAgdXNlcm5hbWU6IHZtLnVzZXJuYW1lLFxyXG4gICAgICAgICAgICBlbWFpbDogdm0uZW1haWxcclxuICAgICAgICB9XHJcblxyXG5cdFx0dXNlclN2Yy51cGRhdGVVc2VyKHVzZXJpbmZvKVxyXG5cdFx0XHQudGhlbihmdW5jdGlvbihkYXRhKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0c3Bpbm5lci5zdG9wKCk7XHJcblx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHR9LCBmdW5jdGlvbihlcnJvcilcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHNwaW5uZXIuc3RvcCgpO1xyXG5cdFx0XHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRfaW5pdCgpO1xyXG59KTsiLCJhcHAuY29udHJvbGxlcihcInNvbG9Db250cm9sbGVyXCIsIGZ1bmN0aW9uKCRzY29wZSwgYmFuZFNlcnZpY2UsIHNvbG9TZXJ2aWNlLCBpbnN0cnVtZW50U2VydmljZSwgZmlsdGVyU2VydmljZSkge1xyXG5cdFxyXG5cdHZhciB2bSA9IHRoaXM7XHJcblx0dmFyIGJhbmRTdmMgPSBiYW5kU2VydmljZTtcclxuXHR2YXIgc29sb1N2YyA9IHNvbG9TZXJ2aWNlO1xyXG5cdHZhciBpbnN0U3ZjID0gaW5zdHJ1bWVudFNlcnZpY2U7XHJcblx0dmFyIGZsdFN2YyA9IGZpbHRlclNlcnZpY2U7XHJcblxyXG5cdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRmdW5jdGlvbiBwbGF5QXVkaW9GaWxlKHRyYWNrKVxyXG5cdHtcclxuXHRcdHRyYWNrLnBsYXkoKTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGdldFNvbG9UcmFja3MoKVxyXG5cdHtcclxuXHRcdHNvbG9TdmMuZ2V0VHJhY2tzKClcclxuXHRcdFx0LnRoZW4oZnVuY3Rpb24oZGF0YSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHZtLnNvbG9UcmFja3MgPSBkYXRhLmRhdGE7XHJcblx0XHRcdFx0dm0uZmlsdGVyZWRUcmFja3MgPSB2bS5zb2xvVHJhY2tzO1xyXG5cdFx0XHRcdGZpbHRlcigpO1xyXG5cclxuXHRcdFx0XHRhbmd1bGFyLmZvckVhY2godm0uc29sb1RyYWNrcywgZnVuY3Rpb24odHJhY2ssIGtleSkge1xyXG5cdFx0XHRcdFx0XHQvL25ld1RyYWNrID0gbmV3IEF1ZGlvKHRyYWNrLmZpbGVfdXJsKTtcclxuXHRcdFx0XHRcdFx0bmV3VHJhY2sgPSBuZXcgQXVkaW8oJ2h0dHA6Ly9kaXNjb3ZlcmJhbmRhcGkuaW50L3B1YmxpYy9hdWRpby8nICsgdHJhY2suZmlsZV91cmwpO1xyXG5cdFx0XHRcdFx0XHR2bS5zb2xvVHJhY2tBdWRpb1t0cmFjay5pZF0gPSBuZXdUcmFjaztcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0fSwgZnVuY3Rpb24oZXJyb3IpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZmlsdGVyKClcclxuXHR7XHJcblx0XHR2bS5maWx0ZXJlZFRyYWNrcyA9IFtdO1xyXG5cclxuXHRcdGFuZ3VsYXIuZm9yRWFjaCh2bS5zb2xvVHJhY2tzLCBmdW5jdGlvbih0cmFjaywga2V5KVxyXG5cdFx0e1xyXG5cdFx0XHRnb29kU2VhcmNoID0gdHJ1ZTtcclxuXHJcblx0XHRcdGlmKCF2bS5maWx0ZXJEYXRhLmFydGlzdCA9PSBcIlwiICYmICF0cmFjay5hcnRpc3QubmFtZS5tYXRjaChuZXcgUmVnRXhwKHZtLmZpbHRlckRhdGEuYXJ0aXN0LCBcImlcIikpKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Z29vZFNlYXJjaCA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZighdm0uZmlsdGVyRGF0YS50aXRsZSA9PSBcIlwiICYmICF0cmFjay5zb25nbmFtZS5tYXRjaChuZXcgUmVnRXhwKHZtLmZpbHRlckRhdGEudGl0bGUsIFwiaVwiKSkpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRnb29kU2VhcmNoID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKCF2bS5maWx0ZXJEYXRhW3RyYWNrLmluc3RydW1lbnRfaWRdKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Z29vZFNlYXJjaCA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0aWYoZ29vZFNlYXJjaClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHZtLmZpbHRlcmVkVHJhY2tzLnB1c2godHJhY2spO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRpZih2bS5maWx0ZXJlZFRyYWNrcy5sZW5ndGggPT09IDApIFxyXG5cdFx0e1xyXG5cdFx0XHR2bS5zaG93Tm9SZXN1bHRzRm91bmQgPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZVxyXG5cdFx0e1xyXG5cdFx0XHR2bS5zaG93Tm9SZXN1bHRzRm91bmQgPSBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qZnVuY3Rpb24gYXJyYXlPYmplY3RJbmRleE9mKG15QXJyYXksIHNlYXJjaFRlcm0sIHByb3BlcnR5KSB7XHJcbiAgICBcdFxyXG4gICAgXHRmb3IodmFyIGkgPSAwLCBsZW4gPSBteUFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgXHRpZiAobXlBcnJheVtpXVtwcm9wZXJ0eV0gPT09IHNlYXJjaFRlcm0pIHJldHVybiBpO1xyXG4gICAgXHR9XHJcblxyXG4gICAgXHRyZXR1cm4gLTE7XHJcblx0fSovXHJcblxyXG5cdGZ1bmN0aW9uIF9pbml0KCkge1xyXG5cdFx0dm0uc29sb1RyYWNrQXVkaW8gXHRcdD0gW107XHJcblx0XHR2bS5jdXJyZW50QXVkaW9UcmFja0lkIFx0PSBcIlwiO1xyXG5cdFx0dm0uc2hvd05vUmVzdWx0c0ZvdW5kIFx0PSBmYWxzZTtcclxuXHJcblx0XHRpbnN0U3ZjLmdldEluc3RydW1lbnRzKClcclxuXHRcdFx0LnRoZW4oZnVuY3Rpb24oZGF0YSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHZtLmluc3RydW1lbnRzID0gZGF0YS5kYXRhO1xyXG5cdFx0XHR9LCBmdW5jdGlvbihlcnJvcilcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Z2V0U29sb1RyYWNrcygpO1xyXG5cdFx0dm0uZmlsdGVyRGF0YSBcdFx0XHQ9IGZsdFN2Yy5zb2xvRmlsdGVyRGF0YTtcclxuXHRcdHZtLnRyYWNrQXJyYXkgXHRcdFx0PSBiYW5kU3ZjLmdldFRyYWNrQXJyYXk7XHJcblx0XHR2bS5iYW5kVHJhY2tJZEFycmF5IFx0PSBiYW5kU3ZjLmdldFRyYWNrSWRBcnJheTtcclxuXHRcdHZtLnRyYWNrQXJyYXlDb3VudCBcdFx0PSBiYW5kU3ZjLmdldFRyYWNrQXJyYXlDb3VudDtcdFxyXG5cdH1cclxuXHJcblx0Ly9WbSBmdW5jdGlvbnNcclxuXHR2bS5hZGRUb0JhbmQgPSBmdW5jdGlvbih0cmFjaykge1xyXG5cclxuXHRcdGJhbmRTdmMuYWRkVG9UcmFja0FycmF5KHRyYWNrKTtcclxuXHRcdC8qdm0uYmFuZFRyYWNrSWRBcnJheSA9IFtdO1xyXG5cclxuXHRcdGJhbmRTdmMudHJhY2tBcnJheS5wdXNoKHRyYWNrKTtcclxuXHRcdGJhbmRTdmMudHJhY2tBcnJheUNvdW50ICsrO1xyXG5cdFx0YW5ndWxhci5mb3JFYWNoKGJhbmRTdmMudHJhY2tBcnJheSwgZnVuY3Rpb24odHJhY2ssIGtleSkge1xyXG5cdFx0XHR2bS5iYW5kVHJhY2tJZEFycmF5LnB1c2godHJhY2suaWQpO1xyXG5cdFx0fSk7Ki9cclxuXHJcblx0XHRjb25zb2xlLmxvZyh0cmFjayk7XHJcblx0fVxyXG5cclxuXHR2bS5yZW1vdmVGcm9tQmFuZCA9IGZ1bmN0aW9uKHRyYWNrKSB7XHJcblx0XHRcclxuXHRcdGJhbmRTdmMucmVtb3ZlRnJvbVRyYWNrQXJyYXkodHJhY2spO1xyXG5cdFx0LyppbmRleCA9IGFycmF5T2JqZWN0SW5kZXhPZihiYW5kU3ZjLnRyYWNrQXJyYXksIHRyYWNrLmlkLCBcImlkXCIpO1xyXG5cdFx0aWYgKGluZGV4ID4gLTEpIHtcclxuXHRcdFx0YmFuZFN2Yy50cmFja0FycmF5LnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdGJhbmRTdmMudHJhY2tBcnJheUNvdW50IC0tO1xyXG5cdFx0XHR2bS5iYW5kVHJhY2tBcnJheSA9IGJhbmRTdmMudHJhY2tBcnJheTtcclxuXHJcblx0XHRcdGludEluZGV4ID0gdm0uYmFuZFRyYWNrSWRBcnJheS5pbmRleE9mKHRyYWNrLmlkKTtcclxuXHRcdFx0aWYgKGludEluZGV4ID4gLTEpIHtcclxuXHRcdFx0XHR2bS5iYW5kVHJhY2tJZEFycmF5LnNwbGljZShpbnRJbmRleCwgMSk7XHJcblx0XHRcdH1cclxuXHRcdH0qL1xyXG5cclxuXHRcdGNvbnNvbGUubG9nKFwiVHJhY2sgcmVtb3ZlZCBmcm9tIG5ldyBiYW5kOiBcIiArIHRyYWNrKTtcclxuXHRcdC8vY29uc29sZS5sb2coYmFuZFN2Yy50cmFja0FycmF5KTtcclxuXHR9XHJcblxyXG5cdHZtLnBsYXkgPSBmdW5jdGlvbih0cmFja0lkKSB7XHJcblxyXG5cdFx0aWYodm0uY3VycmVudEF1ZGlvVHJhY2tJZCAhPSBcIlwiKSB7XHJcblx0XHRcdHZtLnBhdXNlKHZtLmN1cnJlbnRBdWRpb1RyYWNrSWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZtLmN1cnJlbnRBdWRpb1RyYWNrSWQgPSB0cmFja0lkO1xyXG5cdFx0dm0uc29sb1RyYWNrQXVkaW9bdHJhY2tJZF0ucGxheSgpO1xyXG5cdH1cclxuXHJcblx0dm0ucGF1c2UgPSBmdW5jdGlvbih0cmFja0lkKSB7XHJcblx0XHR2bS5zb2xvVHJhY2tBdWRpb1t0cmFja0lkXS5wYXVzZSgpO1xyXG5cdFx0dm0uY3VycmVudEF1ZGlvVHJhY2tJZCA9IFwiXCI7XHJcblx0fVxyXG5cclxuXHQvL1dhdGNoZXNcclxuXHQkc2NvcGUuJHdhdGNoKFxyXG5cdFx0ZnVuY3Rpb24gKCkgeyByZXR1cm4gdm0uZmlsdGVyRGF0YSB9LCBcclxuXHRcdGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYodm0uZmlsdGVyRGF0YSkgXHJcblx0XHRcdHtcclxuXHRcdFx0XHRmaWx0ZXIoKTtcdFx0XHJcblx0XHRcdH1cclxuXHRcdH0sIHRydWUpO1xyXG5cclxuXHRfaW5pdCgpO1xyXG59KTsiLCJhcHAuY29udHJvbGxlcihcInVwbG9hZENvbnRyb2xsZXJcIiwgZnVuY3Rpb24oVXBsb2FkLCBhcnRpc3RTZXJ2aWNlLCBpbnN0cnVtZW50U2VydmljZSwgc29sb1NlcnZpY2UsICRzdGF0ZSkge1xyXG4gIFxyXG4gIHZhciB2bSAgICAgICAgICAgID0gdGhpcztcclxuICB2YXIgc29sb1N2YyAgICAgICA9IHNvbG9TZXJ2aWNlO1xyXG4gIHZhciBhcnRpc3RTdmMgICAgID0gYXJ0aXN0U2VydmljZTtcclxuICB2YXIgaW5zdHJ1bWVudFN2YyA9IGluc3RydW1lbnRTZXJ2aWNlO1xyXG4gIHZhciB0YXJnZXQgICAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwbG9hZC1zcGlubmVyJyk7XHJcbiAgXHJcbiAgdmFyIG9wdHMgPSB7XHJcbiAgICAgIGxpbmVzOiAxMyAvLyBUaGUgbnVtYmVyIG9mIGxpbmVzIHRvIGRyYXdcclxuICAgICwgbGVuZ3RoOiAyOCAvLyBUaGUgbGVuZ3RoIG9mIGVhY2ggbGluZVxyXG4gICAgLCB3aWR0aDogMTIgLy8gVGhlIGxpbmUgdGhpY2tuZXNzXHJcbiAgICAsIHJhZGl1czogNDIgLy8gVGhlIHJhZGl1cyBvZiB0aGUgaW5uZXIgY2lyY2xlXHJcbiAgICAsIHNjYWxlOiAwLjMwIC8vIFNjYWxlcyBvdmVyYWxsIHNpemUgb2YgdGhlIHNwaW5uZXJcclxuICAgICwgY29ybmVyczogMSAvLyBDb3JuZXIgcm91bmRuZXNzICgwLi4xKVxyXG4gICAgLCBjb2xvcjogJyMwMDAnIC8vICNyZ2Igb3IgI3JyZ2diYiBvciBhcnJheSBvZiBjb2xvcnNcclxuICAgICwgb3BhY2l0eTogMC4yNSAvLyBPcGFjaXR5IG9mIHRoZSBsaW5lc1xyXG4gICAgLCByb3RhdGU6IDAgLy8gVGhlIHJvdGF0aW9uIG9mZnNldFxyXG4gICAgLCBkaXJlY3Rpb246IDEgLy8gMTogY2xvY2t3aXNlLCAtMTogY291bnRlcmNsb2Nrd2lzZVxyXG4gICAgLCBzcGVlZDogMSAvLyBSb3VuZHMgcGVyIHNlY29uZFxyXG4gICAgLCB0cmFpbDogNjAgLy8gQWZ0ZXJnbG93IHBlcmNlbnRhZ2VcclxuICAgICwgZnBzOiAyMCAvLyBGcmFtZXMgcGVyIHNlY29uZCB3aGVuIHVzaW5nIHNldFRpbWVvdXQoKSBhcyBhIGZhbGxiYWNrIGZvciBDU1NcclxuICAgICwgekluZGV4OiAyZTkgLy8gVGhlIHotaW5kZXggKGRlZmF1bHRzIHRvIDIwMDAwMDAwMDApXHJcbiAgICAsIGNsYXNzTmFtZTogJ3NwaW5uZXInIC8vIFRoZSBDU1MgY2xhc3MgdG8gYXNzaWduIHRvIHRoZSBzcGlubmVyXHJcbiAgICAsIHRvcDogJzQwJScgLy8gVG9wIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG4gICAgLCBsZWZ0OiAnNTAlJyAvLyBMZWZ0IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG4gICAgLCBzaGFkb3c6IGZhbHNlIC8vIFdoZXRoZXIgdG8gcmVuZGVyIGEgc2hhZG93XHJcbiAgICAsIGh3YWNjZWw6IGZhbHNlIC8vIFdoZXRoZXIgdG8gdXNlIGhhcmR3YXJlIGFjY2VsZXJhdGlvblxyXG4gICAgLCBwb3NpdGlvbjogJ2Fic29sdXRlJyAvLyBFbGVtZW50IHBvc2l0aW9uaW5nXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBfaW5pdCgpIHtcclxuICAgICAgdm0udXBsb2FkZWQgICAgICAgPSBmYWxzZTtcclxuICAgICAgdm0uc2hvd2Zvcm0gICAgICAgPSBmYWxzZTtcclxuXHJcbiAgICAgIHZtLmluc3RydW1lbnRzICAgID0gaW5zdHJ1bWVudFN2Yy5nZXRJbnN0cnVtZW50cygpXHJcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpXHJcbiAgICAgIHtcclxuICAgICAgICB2bS5pbnN0cnVtZW50cyAgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhKTtcclxuICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpXHJcbiAgICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdm0uYXJ0aXN0cyAgICAgICAgPSBhcnRpc3RTdmMuZ2V0QXJ0aXN0cygpXHJcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpXHJcbiAgICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEpO1xyXG4gICAgICAgIHZtLmFydGlzdHMgICAgICA9IGRhdGEuZGF0YTtcclxuICAgICAgXHJcbiAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKVxyXG4gICAgICB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIHZtLnVwbG9hZEZpbGUgPSBmdW5jdGlvbiAoZmlsZSkge1xyXG4gICAgICAgIHZhciBzcGlubmVyID0gbmV3IFNwaW5uZXIob3B0cykuc3Bpbih0YXJnZXQpO1xyXG4gICAgICAgIHZtLmxvYWRpbmcgID0gdHJ1ZTtcclxuICAgICAgICB2bS51cGxvYWRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBJbml0aWFsaXplIGZvcm1cclxuICAgICAgICB2bS5zaG93Zm9ybSAgICAgPSB0cnVlO1xyXG4gICAgICAgICQoJ3NlbGVjdCcpLm1hdGVyaWFsX3NlbGVjdCgpO1xyXG5cclxuICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvdXBsb2FkXCIsXHJcbiAgICAgICAgICAgIGZpbGVGb3JtRGF0YU5hbWU6ICdzb25nJyxcclxuICAgICAgICAgICAgc2VuZEZpZWxkc0FzOiAnZm9ybScsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICBzb25nOiBmaWxlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XHJcbiAgICAgICAgICAgIHZtLmZpbGVuYW1lICAgICA9IHJlc3AuZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICB2bS50cmFja2xlbmd0aCAgPSByZXNwLmRhdGEubGVuZ3RoO1xyXG4gICAgICAgICAgICBzcGlubmVyLnN0b3AoKTtcclxuICAgICAgICAgICAgdm0ubG9hZGluZyAgICAgID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZtLnVwbG9hZGVkICAgICA9IHRydWU7XHJcbiAgICAgICAgfSwgXHJcbiAgICAgICAgZnVuY3Rpb24gKHJlc3ApIHtcclxuICAgICAgICAgICAgdm0ubG9hZGluZyAgPSBmYWxzZTtcclxuICAgICAgICAgICAgc3Bpbm5lci5zdG9wKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvcicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5zYXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgdXNlcl9pZCA9IEpTT04ucGFyc2UoZ2V0Q29va2llKCd1c2VyJykpLnVzZXJJZDtcclxuICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IHZtLnNvbmduYW1lLFxyXG4gICAgICAgICAgICBmaWxlX3VybDogdm0uZmlsZW5hbWUsXHJcbiAgICAgICAgICAgIHRyYWNrX2xlbmd0aDogdm0udHJhY2tsZW5ndGgsXHJcbiAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJfaWQsXHJcbiAgICAgICAgICAgIGluc3RydW1lbnRfaWQ6IHZtLmluc3RydW1lbnRzZHJvcGRvd24sXHJcbiAgICAgICAgICAgIGFydGlzdF9pZCA6IHZtLmFydGlzdHNkcm9wZG93blxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIHNvbG9TdmMuaW5zZXJ0VHJhY2soZGF0YSlcclxuICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICRzdGF0ZS5nbyhcInNvbG9cIik7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Q29va2llKGNuYW1lKSB7XHJcbiAgICAgICAgICB2YXIgbmFtZSA9IGNuYW1lICsgXCI9XCI7XHJcbiAgICAgICAgICB2YXIgZGVjb2RlZENvb2tpZSA9IGRlY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5jb29raWUpO1xyXG4gICAgICAgICAgdmFyIGNhID0gZGVjb2RlZENvb2tpZS5zcGxpdCgnOycpO1xyXG4gICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8Y2EubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICB2YXIgYyA9IGNhW2ldO1xyXG4gICAgICAgICAgICAgIHdoaWxlIChjLmNoYXJBdCgwKSA9PSAnICcpIHtcclxuICAgICAgICAgICAgICAgICAgYyA9IGMuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAoYy5pbmRleE9mKG5hbWUpID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGMuc3Vic3RyaW5nKG5hbWUubGVuZ3RoLCBjLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgIH1cclxuICBfaW5pdCgpO1xyXG59KTsiLCJhcHAuZmlsdGVyKFwiYmFuZFwiLCBmdW5jdGlvbigpIHtcblx0cmV0dXJuIGZ1bmN0aW9uKHRyYWNrSWQsIGxpc3QpIHtcblx0XHR2YXIgcmV0dXJuVmFsdWUgPSBmYWxzZTtcblx0XHRcblx0XHRhbmd1bGFyLmZvckVhY2gobGlzdCwgZnVuY3Rpb24oaWQsIGluZGV4KSB7XG5cdFx0XHRpZihpZCA9PSB0cmFja0lkKSB7XG5cdFx0XHRcdHJldHVyblZhbHVlID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRyZXR1cm4gcmV0dXJuVmFsdWU7XG5cdH1cbn0pOyIsImFwcC5zZXJ2aWNlKFwiYXJ0aXN0U2VydmljZVwiLCBmdW5jdGlvbigkaHR0cCkge1xyXG5cdFxyXG5cdC8vR2xvYmFsc1xyXG5cdHZhciBzdmMgXHRcdFx0PSB0aGlzO1xyXG5cclxuXHQvL1ByaXZhdGUgZnVuY3Rpb25zXHJcblx0ZnVuY3Rpb24gZ2V0RGF0YSAodXJsLCBvcHRpb25zKSB7XHJcblxyXG5cdFx0IW9wdGlvbnMgPyBvcHRpb25zID0ge30gOiBcIlwiO1xyXG5cclxuXHRcdHJldHVybiAkaHR0cC5nZXQodXJsLCBvcHRpb25zKVxyXG5cdH1cclxuXHJcblx0Ly9TdmMgZnVuY3Rpb25zXHJcblx0c3ZjLmdldEFydGlzdHMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi9hcnRpc3RzXCI7XHJcblx0XHRcclxuXHRcdHJldHVybiBnZXREYXRhKHVybCk7XHJcblx0fVxyXG59KSIsImFwcC5zZXJ2aWNlKFwiYXV0aFNlcnZpY2VcIiwgZnVuY3Rpb24gKCRhdXRoLCAkcm9vdFNjb3BlLCAkY29va2llcywgJHN0YXRlLCB1c2VyU2VydmljZSkge1xyXG5cdFxyXG5cdHZhciBzdmMgXHRcdD0gdGhpcztcclxuXHR2YXIgdXNlclN2YyBcdD0gdXNlclNlcnZpY2U7XHJcblxyXG5cdHN2Yy5pc0xvZ2dlZEluIFx0PSBmYWxzZTtcclxuXHJcblx0Ly9Qcml2YXRlIGZ1bmN0aW9uc1xyXG5cdGZ1bmN0aW9uIGxvZ2luICh0b2tlbiwgaWQsIHVzZXJuYW1lLCBlbWFpbCkge1xyXG5cclxuXHRcdHZhciBleHBpcmF0aW9uVGltZSA9IG5ldyBEYXRlKCk7XHJcblx0XHRleHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lLnNldFRpbWUoZXhwaXJhdGlvblRpbWUuZ2V0VGltZSgpICsgKHRva2VuW1wiZXhwaXJlc19pblwiXSAqIDEwMDApKTtcclxuXHRcdGV4cGlyYXRpb25UaW1lID0gbmV3IERhdGUoZXhwaXJhdGlvblRpbWUpO1xyXG5cclxuXHRcdHZhciB1c2VyRGF0YSA9IHtcclxuXHJcblx0XHRcdHRva2VuOiB0b2tlbixcclxuXHRcdFx0dXNlcklkOiBpZCxcclxuXHRcdFx0dXNlcm5hbWU6IHVzZXJuYW1lLFxyXG5cdFx0XHRlbWFpbDogZW1haWwsXHJcblx0XHRcdC8vaXNBZG1pbjogZGF0YS5kYXRhLmlzQWRtaW5cclxuXHRcdH1cclxuXHJcblx0XHQvL2NvbnNvbGUubG9nKHVzZXJEYXRhLnRva2VuKTtcclxuXHJcblx0XHRzdmMudXNlciA9IHVzZXJEYXRhO1xyXG5cclxuXHRcdCRjb29raWVzLnB1dE9iamVjdChcInVzZXJcIiwgdXNlckRhdGEsIHsgZXhwaXJlczogZXhwaXJhdGlvblRpbWUgfSk7XHJcblx0XHQkcm9vdFNjb3BlLmlzTG9nZ2VkSW4gPSB0cnVlO1xyXG5cdFx0XHJcblx0XHQvL0NoZWNrIGlmIHJldHVybmVkIHVzZXIgaXMgQWRtaW5cclxuXHRcdHVzZXJEYXRhLmlzQWRtaW4gPT0gXCIxXCIgPyAkcm9vdFNjb3BlLmlzQWRtaW4gPSB0cnVlIDogJHJvb3RTY29wZS5pc0FkbWluID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvL1N2YyBmdW5jdGlvbnNcclxuXHRzdmMubG9naW4gPSBmdW5jdGlvbiAoY3JlZGVudGlhbHMpIHtcclxuXHJcblx0XHQkYXV0aC5sb2dpbihjcmVkZW50aWFscykudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgXHQvLyBBdXRoZW50aWNhdGlvbiBzdWNjZXNzXHJcbiAgICAgICAgXHR0b2tlbiBcdFx0PSBkYXRhLmRhdGEudG9rZW47XHJcbiAgICAgICAgXHRpZCBcdFx0XHQ9IDA7XHJcbiAgICAgICAgXHR1c2VybmFtZSBcdD0gXCJcIjtcclxuICAgICAgICBcdGVtYWlsIFx0XHQ9IFwiXCI7XHJcblxyXG5cdFx0XHR1c2VyU3ZjLmdldFVzZXIoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0aWQgXHRcdFx0PSBkYXRhLmRhdGEuaWQ7XHJcblx0XHRcdFx0dXNlcm5hbWUgXHQ9IGRhdGEuZGF0YS51c2VybmFtZTtcclxuXHRcdFx0XHRlbWFpbCBcdFx0PSBkYXRhLmRhdGEuZW1haWw7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0bG9naW4odG9rZW4sIGlkLCB1c2VybmFtZSwgZW1haWwpO1xyXG5cdFx0XHRcdHN2Yy5pc0xvZ2dlZEluID0gdHJ1ZTtcclxuXHRcdFx0fSwgZnVuY3Rpb24oZXJyb3IpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdFx0c3ZjLmlzTG9nZ2VkSW4gPSBmYWxzZTtcclxuXHRcdFx0fSk7XHJcbiAgICAgICAgfSwgXHJcbiAgICAgICAgZnVuY3Rpb24oZXJyb3Ipe1xyXG4gICAgICAgIFx0Ly8gQXV0aGVudGljYXRpb24gZmFpbGVkXHJcbiAgICAgICAgXHRjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgXHRzdmMuaXNMb2dnZWRJbiA9IGZhbHNlOyBcclxuICAgICAgICB9KTtcclxuXHR9XHJcblxyXG5cdHN2Yy5sb2dvdXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHQkYXV0aC5sb2dvdXQoKVxyXG5cdFx0XHQudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuXHRcdFx0XHQkcm9vdFNjb3BlLmlzTG9nZ2VkSW4gPSBmYWxzZTtcclxuXHRcdFx0XHQkcm9vdFNjb3BlLmlzQWRtaW4gPSBmYWxzZTtcclxuXHRcdFx0XHRzdmMudXNlciA9IG51bGw7XHJcblx0XHRcdFx0c3ZjLmlzTG9nZ2VkSW4gPSBudWxsO1xyXG5cclxuXHRcdFx0XHQkY29va2llcy5yZW1vdmUoXCJ1c2VyXCIpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdCRzdGF0ZS5nbyhcImhvbWVcIik7XHJcblx0XHRcdH0sIGZ1bmN0aW9uIChlcnJvcikge1xyXG5cclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdmMucmVnaXN0ZXIgPSBmdW5jdGlvbiAodXNlcikge1xyXG5cclxuXHRcdHZhciB1cmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvdXNlclwiO1xyXG5cclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KHVybCwgdXNlcik7XHJcblx0fVxyXG59KTsiLCJhcHAuc2VydmljZShcImJhbmRTZXJ2aWNlXCIsIGZ1bmN0aW9uKCkge1xyXG5cdFxyXG5cdHZhciBzdmMgPSB0aGlzO1xyXG5cclxuXHR0cmFja0FycmF5ID0gW107XHJcblx0dHJhY2tJZEFycmF5ID0gW107XHJcblx0dHJhY2tBcnJheUNvdW50ID0gMDtcclxuXHJcblx0Ly9Qcml2YXRlIGZ1bmN0aW9uc1xyXG5cdGZ1bmN0aW9uIGFycmF5T2JqZWN0SW5kZXhPZihteUFycmF5LCBzZWFyY2hUZXJtLCBwcm9wZXJ0eSkge1xyXG4gICAgXHRcclxuICAgIFx0Zm9yKHZhciBpID0gMCwgbGVuID0gbXlBcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIFx0aWYgKG15QXJyYXlbaV1bcHJvcGVydHldID09PSBzZWFyY2hUZXJtKSByZXR1cm4gaTtcclxuICAgIFx0fVxyXG5cclxuICAgIFx0cmV0dXJuIC0xO1xyXG5cdH1cclxuXHQvL1RyYWNrQXJyYXlDb3VudFxyXG5cdGZ1bmN0aW9uIGluY3JlbWVudFRyYWNrQXJyYXlDb3VudCgpIHtcclxuXHRcdHRyYWNrQXJyYXlDb3VudCArKztcclxuXHRcdHJldHVybiB0cmFja0FycmF5Q291bnQ7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBkZWNyZW1lbnRUcmFja0FycmF5Q291bnQoKSB7XHJcblx0XHR0cmFja0FycmF5Q291bnQgLS07XHJcblx0XHRyZXR1cm4gdHJhY2tBcnJheUNvdW50O1xyXG5cdH1cclxuXHJcblx0Ly9UcmFja0lkQXJyYXlcclxuXHRmdW5jdGlvbiBhZGRUb1RyYWNrSWRBcnJheSh0cmFja0lkKSB7XHJcblx0XHR0cmFja0lkQXJyYXkucHVzaCh0cmFja0lkKTtcclxuXHRcdHJldHVybiB0cmFja0lkQXJyYXk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiByZW1vdmVGcm9tVHJhY2tJZEFycmF5KHRyYWNrSWQpIHtcclxuXHRcdGluZGV4ID0gdHJhY2tJZEFycmF5LmluZGV4T2YodHJhY2tJZCk7XHJcblx0XHRpZihpbmRleCA+IC0xKSB7XHJcblx0XHRcdHRyYWNrSWRBcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cmFja0lkQXJyYXk7XHJcblx0fVxyXG5cclxuXHQvL1N2YyBmdW5jdGlvbnNcclxuXHRzdmMuZ2V0VHJhY2tBcnJheUNvdW50ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdHJhY2tBcnJheUNvdW50O1xyXG5cdH1cclxuXHJcblx0c3ZjLmdldFRyYWNrSWRBcnJheSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRyYWNrSWRBcnJheTtcclxuXHR9XHJcblxyXG5cclxuXHRzdmMuYWRkVG9UcmFja0FycmF5ID0gZnVuY3Rpb24odHJhY2spIHtcclxuXHRcdHRyYWNrQXJyYXkucHVzaCh0cmFjayk7XHJcblx0XHRpbmNyZW1lbnRUcmFja0FycmF5Q291bnQoKTtcclxuXHRcdGFkZFRvVHJhY2tJZEFycmF5KHRyYWNrLmlkKTtcclxuXHRcdHJldHVybiB0cmFja0FycmF5O1xyXG5cdH1cclxuXHJcblx0c3ZjLnJlbW92ZUZyb21UcmFja0FycmF5ID0gZnVuY3Rpb24odHJhY2spIHtcclxuXHRcdGluZGV4ID0gYXJyYXlPYmplY3RJbmRleE9mKHRyYWNrQXJyYXksIHRyYWNrLmlkLCBcImlkXCIpO1xyXG5cdFx0aWYoaW5kZXggPiAtMSkge1xyXG5cdFx0XHR0cmFja0FycmF5LnNwbGljZShpbmRleCwgMSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGRlY3JlbWVudFRyYWNrQXJyYXlDb3VudCgpO1xyXG5cdFx0cmVtb3ZlRnJvbVRyYWNrSWRBcnJheSh0cmFjay5pZCk7XHJcblx0XHRyZXR1cm4gdHJhY2tBcnJheTtcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRUcmFja0FycmF5ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdHJhY2tBcnJheTtcclxuXHR9XHJcblxyXG5cdFxyXG5cclxuXHJcblxyXG5cclxuXHRzdmMudGVzdEZ1bmN0aW9uID0gZnVuY3Rpb24oKSB7XHJcblx0XHRhbGVydChcIlRlc3QgZnVuY3Rpb24gY2FsbGVkIGZyb20gaW5zaWRlIHNlcnZpY2UhXCIpO1xyXG5cdH1cclxufSkiLCJhcHAuc2VydmljZShcImZpbHRlclNlcnZpY2VcIiwgZnVuY3Rpb24oaW5zdHJ1bWVudFNlcnZpY2UpIHtcblx0XG5cdHZhciBzdmMgPSB0aGlzO1xuXHR2YXIgaW5zdFN2YyA9IGluc3RydW1lbnRTZXJ2aWNlO1xuXG5cblx0c3ZjLmNyZWF0ZVNvbG9GaWx0ZXJEYXRhID0gZnVuY3Rpb24oKVxuXHR7XG5cdFx0c3ZjLnNvbG9GaWx0ZXJEYXRhID0ge1x0XCJhcnRpc3RcIjogXCJcIixcblx0XHRcdFx0XHRcdFx0XHRcInRpdGxlXCI6IFwiXCIsXG5cdFx0XHRcdFx0XHRcdFx0fTtcblxuXHRcdGFuZ3VsYXIuZm9yRWFjaChpbnN0U3ZjLmluc3RydW1lbnRzLCBmdW5jdGlvbih2YWx1ZSwga2V5KVxuXHRcdHtcblx0XHRcdHN2Yy5zb2xvRmlsdGVyRGF0YVt2YWx1ZS5pZF0gPSB0cnVlO1xuXHRcdH0pO1xuXHR9XG5cblx0c3ZjLmNyZWF0ZU1lcmdlZEZpbHRlckRhdGEgPSBmdW5jdGlvbigpXG5cdHtcblx0XHRzdmMubWVyZ2VkRmlsdGVyRGF0YSA9IHtcdFwiYXJ0aXN0XCI6IFwiXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcInRpdGxlXCI6IFwiXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xuXHR9XG5cblx0ZnVuY3Rpb24gX2luaXQoKSB7XG5cdFx0c3ZjLmNyZWF0ZVNvbG9GaWx0ZXJEYXRhKCk7XG5cdFx0c3ZjLmNyZWF0ZU1lcmdlZEZpbHRlckRhdGEoKTtcblx0fVxuXG5cdF9pbml0KCk7XG59KSIsImFwcC5zZXJ2aWNlKFwiaW5zdHJ1bWVudFNlcnZpY2VcIiwgZnVuY3Rpb24oJGh0dHApIHtcclxuXHRcclxuXHQvL0dsb2JhbHNcclxuXHR2YXIgc3ZjID0gdGhpcztcclxuXHJcblx0Ly9Qcml2YXRlIGZ1bmN0aW9uc1xyXG5cdGZ1bmN0aW9uIGdldERhdGEgKHVybCwgb3B0aW9ucykge1xyXG5cclxuXHRcdCFvcHRpb25zID8gb3B0aW9ucyA9IHt9IDogXCJcIjtcclxuXHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KHVybCwgb3B0aW9ucylcclxuXHR9XHJcblxyXG5cdC8vU3ZjIGZ1bmN0aW9uc1xyXG5cdHN2Yy5nZXRJbnN0cnVtZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHR2YXIgdXJsID0gQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArIFwiL2luc3RydW1lbnRzXCI7XHJcblx0XHRcclxuXHRcdHJldHVybiBnZXREYXRhKHVybCk7XHJcblx0fVxyXG5cclxuXHQvLyBJbml0aWFsIHZhbHVlcyAod2lsbCBiZSBvdmVyd3JpdHRlIGJ5IGRiIHZhbHVlcylcclxuXHRzdmMuaW5zdHJ1bWVudHMgPSBbe1xyXG4gXHRcdFx0XHRcdFx0XHRcIm5hbWVcIjpcIkxlYWQtZ3VpdGFyXCIsXHJcbiBcdFx0XHRcdFx0XHRcdFwiaWRcIjoxXHJcbiBcdFx0XHRcdFx0XHR9LFxyXG4gXHRcdFx0XHRcdFx0e1xyXG4gXHRcdFx0XHRcdFx0XHRcIm5hbWVcIjpcIkRydW1cIixcclxuIFx0XHRcdFx0XHRcdFx0XCJpZFwiOjJcclxuIFx0XHRcdFx0XHRcdH0sXHJcbiBcdFx0XHRcdFx0XHR7XHJcbiBcdFx0XHRcdFx0XHRcdFwibmFtZVwiOlwiQmFzc1wiLFxyXG5cdFx0XHRcdFx0XHRcdFwiaWRcIjozXHJcbiBcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XCJuYW1lXCI6XCJLZXlzXCIsXHJcbiBcdFx0XHRcdFx0XHRcdFwiaWRcIjo0XHJcbiBcdFx0XHRcdFx0XHR9XTtcclxufSkiLCJhcHAuc2VydmljZShcIm1lcmdlZFNlcnZpY2VcIiwgZnVuY3Rpb24oJGh0dHApIHtcclxuXHRcclxuXHQvL0dsb2JhbHNcclxuXHR2YXIgc3ZjID0gdGhpcztcclxuXHJcblx0Ly9Qcml2YXRlIGZ1bmN0aW9uc1xyXG5cdGZ1bmN0aW9uIGdldERhdGEgKHVybCwgb3B0aW9ucykge1xyXG5cclxuXHRcdCFvcHRpb25zID8gb3B0aW9ucyA9IHt9IDogXCJcIjtcclxuXHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KHVybCwgb3B0aW9ucylcclxuXHR9XHJcblxyXG5cdC8vU3ZjIGZ1bmN0aW9uc1xyXG5cdHN2Yy5nZXRUcmFja3MgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi9tZXJnZWR0cmFja3NcIjtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIGdldERhdGEodXJsKTtcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRUcmFja0J5SWQgPSBmdW5jdGlvbiAoaWQpIHtcclxuXHJcblx0XHR2YXIgdXJsID0gQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArIFwiL21lcmdlZHRyYWNrcy9cIiArIGlkO1xyXG5cclxuXHRcdHJldHVybiBnZXREYXRhKHVybCk7XHJcblx0fVxyXG5cclxuXHRzdmMubWVyZ2VUcmFja3MgPSBmdW5jdGlvbihkYXRhKVxyXG5cdHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi9tZXJnZWR0cmFja3MvY3JlYXRlXCIsIGRhdGEpO1xyXG5cdH1cclxuXHJcblx0c3ZjLmRvd25sb2FkID0gZnVuY3Rpb24gKGlkKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi9tZXJnZWR0cmFja3MvXCIgKyBpZCArIFwiL2Rvd25sb2FkXCI7XHJcblx0XHRcclxuXHRcdHJldHVybiBnZXREYXRhKHVybCk7XHJcblx0fVxyXG59KSIsImFwcC5zZXJ2aWNlKFwic29sb1NlcnZpY2VcIiwgZnVuY3Rpb24oJGh0dHApIHtcclxuXHRcclxuXHQvL0dsb2JhbHNcclxuXHR2YXIgc3ZjID0gdGhpcztcclxuXHJcblx0Ly9Qcml2YXRlIGZ1bmN0aW9uc1xyXG5cdGZ1bmN0aW9uIGdldERhdGEgKHVybCwgb3B0aW9ucykge1xyXG5cclxuXHRcdCFvcHRpb25zID8gb3B0aW9ucyA9IHt9IDogXCJcIjtcclxuXHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KHVybCwgb3B0aW9ucylcclxuXHR9XHJcblxyXG5cdC8vU3ZjIGZ1bmN0aW9uc1xyXG5cdHN2Yy5nZXRUcmFja3MgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi90cmFja3NcIjtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIGdldERhdGEodXJsKTtcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRUcmFja0J5SWQgPSBmdW5jdGlvbiAoaWQpIHtcclxuXHJcblx0XHR2YXIgdXJsID0gQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArIFwiL3RyYWNrcy9cIiArIGlkO1xyXG5cclxuXHRcdHJldHVybiBnZXREYXRhKHVybCk7XHJcblx0fVxyXG5cclxuXHRzdmMuaW5zZXJ0VHJhY2sgPSBmdW5jdGlvbihkYXRhKVxyXG5cdHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi90cmFja3MvY3JlYXRlXCIsIGRhdGEpO1xyXG5cdH1cclxufSkiLCJhcHAuc2VydmljZShcInVzZXJTZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwKSB7XHRcclxuXHRcclxuXHR2YXIgc3ZjID0gdGhpcztcclxuXHJcblx0c3ZjLmdldFVzZXIgPSBmdW5jdGlvbigpXHJcblx0e1xyXG5cdFx0cmV0dXJuICRodHRwLmdldChDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvdXNlclwiKTtcclxuXHR9XHJcblxyXG5cdHN2Yy51cGRhdGVVc2VyID0gZnVuY3Rpb24oZGF0YSlcclxuXHR7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdChDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvdXNlclwiLCBkYXRhKTtcclxuXHR9XHJcbn0pIiwiYXBwLmRpcmVjdGl2ZShcImRjYkJhbmRcIiwgZnVuY3Rpb24oYmFuZFNlcnZpY2UpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0cmVzdHJpY3Q6IFwiRVwiLFxyXG5cdFx0dGVtcGxhdGVVcmw6IFwiYXBwL2RpcmVjdGl2ZXMvZGNiLWJhbmQvZGNiLWJhbmQuaHRtbFwiLFxyXG5cdFx0cmVwbGFjZTogdHJ1ZSxcclxuXHRcdHNjb3BlOiB7fSxcclxuXHRcdGNvbnRyb2xsZXJBczogXCJiYW5kXCIsXHJcblx0XHRjb250cm9sbGVyOiBmdW5jdGlvbigkYXV0aCwgJHNjb3BlLCAkcm9vdFNjb3BlKSB7XHJcblx0XHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHRcdHZhciBiYW5kU3ZjID0gYmFuZFNlcnZpY2U7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdFx0XHR2bS50cmFja0FycmF5IFx0XHRcdD0gYmFuZFN2Yy5nZXRUcmFja0FycmF5O1xyXG5cdFx0XHRcdHZtLmJhbmRUcmFja0lkQXJyYXkgXHQ9IGJhbmRTdmMuZ2V0VHJhY2tJZEFycmF5O1xyXG5cdFx0XHRcdHZtLnRyYWNrQXJyYXlDb3VudCBcdFx0PSBiYW5kU3ZjLmdldFRyYWNrQXJyYXlDb3VudDtcclxuXHJcblx0XHRcdFx0Y29uc29sZS5sb2codm0udHJhY2tBcnJheUNvdW50KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dm0ucmVtb3ZlRnJvbUJhbmQgPSBmdW5jdGlvbih0cmFjaykge1xyXG5cdFx0XHJcblx0XHRcdFx0YmFuZFN2Yy5yZW1vdmVGcm9tVHJhY2tBcnJheSh0cmFjayk7XHJcblxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiVHJhY2sgcmVtb3ZlZCBmcm9tIG5ldyBiYW5kOiBcIiArIHRyYWNrKTtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKGJhbmRTdmMudHJhY2tBcnJheSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdF9pbml0KCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSIsImFwcC5kaXJlY3RpdmUoXCJkY2JIZWFkZXJcIiwgZnVuY3Rpb24oYmFuZFNlcnZpY2UpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0cmVzdHJpY3Q6IFwiRVwiLFxyXG5cdFx0dGVtcGxhdGVVcmw6IFwiYXBwL2RpcmVjdGl2ZXMvZGNiLWhlYWRlci9kY2ItaGVhZGVyLmh0bWxcIixcclxuXHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRzY29wZToge30sXHJcblx0XHRjb250cm9sbGVyQXM6IFwiaGVhZFwiLFxyXG5cdFx0Y29udHJvbGxlcjogZnVuY3Rpb24oJHNjb3BlLCB1c2VyU2VydmljZSwgYXV0aFNlcnZpY2UsICRhdXRoLCAkcm9vdFNjb3BlKSB7XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgdm0gXHRcdFx0PSB0aGlzO1xyXG5cdFx0XHR2YXIgdXNlclN2YyBcdD0gdXNlclNlcnZpY2U7XHJcblx0XHRcdHZhciBhdXRoU3ZjIFx0PSBhdXRoU2VydmljZTtcclxuXHRcdFx0dmFyIGJhbmRTdmMgXHQ9IGJhbmRTZXJ2aWNlO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gX2luaXQoKSB7XHJcblx0XHRcdFx0dm0udHJhY2tBcnJheSA9IGJhbmRTdmMuZ2V0VHJhY2tBcnJheTtcclxuXHRcdFx0XHR2bS50cmFja0FycmF5Q291bnQgPSBiYW5kU3ZjLmdldFRyYWNrQXJyYXlDb3VudDtcclxuXHJcblx0XHRcdFx0aWYoJGF1dGguaXNBdXRoZW50aWNhdGVkKCkpXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0dXNlclN2Yy5nZXRVc2VyKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLnVzZXJuYW1lID0gZGF0YS5kYXRhLnVzZXJuYW1lO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2bS5zaG93TG9naW4gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JCgnI2xvZ2luX21vZGFsJykubW9kYWwoKTtcclxuXHRcdFx0XHQkKCcjbG9naW5fbW9kYWwnKS5tb2RhbCgnb3BlbicpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2bS5sb2dvdXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0YXV0aFN2Yy5sb2dvdXQoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dm0uc2hvd1JlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCQoJyNyZWdpc3Rlcl9tb2RhbCcpLm1vZGFsKCk7XHJcblx0XHRcdFx0JCgnI3JlZ2lzdGVyX21vZGFsJykubW9kYWwoJ29wZW4nKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dm0uc2hvd0JhbmQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JCgnI2JhbmRfbW9kYWwnKS5tb2RhbCgpO1xyXG5cdFx0XHRcdCQoJyNiYW5kX21vZGFsJykubW9kYWwoJ29wZW4nKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dm0uaXNBdXRoZW50aWNhdGVkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuICRhdXRoLmlzQXV0aGVudGljYXRlZCgpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0X2luaXQoKTtcclxuXHJcblx0XHRcdC8vV2F0Y2hlc1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKFxyXG5cdFx0XHRcdGZ1bmN0aW9uICgpIHsgcmV0dXJuIGF1dGhTdmMudXNlciB9LCBcclxuXHRcdFx0XHRmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRcdFx0dm0udXNlciA9IGF1dGhTdmMudXNlcjtcclxuXHRcdFx0XHRcdC8vY29uc29sZS5sb2codm0udXNlcik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSIsImFwcC5kaXJlY3RpdmUoXCJkY2JSZWdpc3RlclwiLCBmdW5jdGlvbih1c2VyU2VydmljZSkge1xyXG5cdHJldHVybiB7XHJcblx0XHRyZXN0cmljdDogXCJFXCIsXHJcblx0XHR0ZW1wbGF0ZVVybDogXCJhcHAvZGlyZWN0aXZlcy9kY2ItcmVnaXN0ZXIvZGNiLXJlZ2lzdGVyLmh0bWxcIixcclxuXHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRzY29wZToge30sXHJcblx0XHRjb250cm9sbGVyQXM6IFwicmVnaXN0ZXJcIixcclxuXHRcdGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRhdXRoLCAkc2NvcGUsICRyb290U2NvcGUsIHVzZXJTZXJ2aWNlLCBhdXRoU2VydmljZSkge1xyXG5cdFx0XHR2YXIgdm0gXHRcdFx0PSB0aGlzO1xyXG5cdFx0XHR2YXIgdXNlclN2YyBcdD0gdXNlclNlcnZpY2U7XHJcblx0XHRcdHZhciBhdXRoU3ZjIFx0PSBhdXRoU2VydmljZTtcclxuXHRcdFx0dmFyIHRhcmdldCBcdFx0PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaXN0ZXItc3Bpbm5lcicpO1xyXG5cclxuXHRcdFx0dmFyIG9wdHMgPSB7XHJcblx0ICBcdFx0XHRsaW5lczogMTMgLy8gVGhlIG51bWJlciBvZiBsaW5lcyB0byBkcmF3XHJcblx0XHRcdFx0LCBsZW5ndGg6IDI4IC8vIFRoZSBsZW5ndGggb2YgZWFjaCBsaW5lXHJcblx0XHRcdFx0LCB3aWR0aDogMTQgLy8gVGhlIGxpbmUgdGhpY2tuZXNzXHJcblx0XHRcdFx0LCByYWRpdXM6IDQyIC8vIFRoZSByYWRpdXMgb2YgdGhlIGlubmVyIGNpcmNsZVxyXG5cdFx0XHRcdCwgc2NhbGU6IDAuNCAvLyBTY2FsZXMgb3ZlcmFsbCBzaXplIG9mIHRoZSBzcGlubmVyXHJcblx0XHRcdFx0LCBjb3JuZXJzOiAxIC8vIENvcm5lciByb3VuZG5lc3MgKDAuLjEpXHJcblx0XHRcdFx0LCBjb2xvcjogJyMwMDAnIC8vICNyZ2Igb3IgI3JyZ2diYiBvciBhcnJheSBvZiBjb2xvcnNcclxuXHRcdFx0XHQsIG9wYWNpdHk6IDAuMjUgLy8gT3BhY2l0eSBvZiB0aGUgbGluZXNcclxuXHRcdFx0XHQsIHJvdGF0ZTogMCAvLyBUaGUgcm90YXRpb24gb2Zmc2V0XHJcblx0XHRcdFx0LCBkaXJlY3Rpb246IDEgLy8gMTogY2xvY2t3aXNlLCAtMTogY291bnRlcmNsb2Nrd2lzZVxyXG5cdFx0XHRcdCwgc3BlZWQ6IDEgLy8gUm91bmRzIHBlciBzZWNvbmRcclxuXHRcdFx0XHQsIHRyYWlsOiA2MCAvLyBBZnRlcmdsb3cgcGVyY2VudGFnZVxyXG5cdFx0XHRcdCwgZnBzOiAyMCAvLyBGcmFtZXMgcGVyIHNlY29uZCB3aGVuIHVzaW5nIHNldFRpbWVvdXQoKSBhcyBhIGZhbGxiYWNrIGZvciBDU1NcclxuXHRcdFx0XHQsIHpJbmRleDogMmU5IC8vIFRoZSB6LWluZGV4IChkZWZhdWx0cyB0byAyMDAwMDAwMDAwKVxyXG5cdFx0XHRcdCwgY2xhc3NOYW1lOiAnc3Bpbm5lcicgLy8gVGhlIENTUyBjbGFzcyB0byBhc3NpZ24gdG8gdGhlIHNwaW5uZXJcclxuXHRcdFx0XHQsIHRvcDogJzYwJScgLy8gVG9wIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG5cdFx0XHRcdCwgbGVmdDogJzUwJScgLy8gTGVmdCBwb3NpdGlvbiByZWxhdGl2ZSB0byBwYXJlbnRcclxuXHRcdFx0XHQsIHNoYWRvdzogZmFsc2UgLy8gV2hldGhlciB0byByZW5kZXIgYSBzaGFkb3dcclxuXHRcdFx0XHQsIGh3YWNjZWw6IGZhbHNlIC8vIFdoZXRoZXIgdG8gdXNlIGhhcmR3YXJlIGFjY2VsZXJhdGlvblxyXG5cdFx0XHRcdCwgcG9zaXRpb246ICdhYnNvbHV0ZScgLy8gRWxlbWVudCBwb3NpdGlvbmluZ1xyXG5cdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0XHJcblx0XHRcdHZtLnJlZ2lzdGVyID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyIHNwaW5uZXIgPSBuZXcgU3Bpbm5lcihvcHRzKS5zcGluKHRhcmdldCk7XHJcblx0ICAgICAgICBcdHZtLmxvYWRpbmcgXHQ9IHRydWU7XHJcblxyXG5cdFx0XHRcdHZhciB1c2VyID0ge1xyXG5cdFx0XHRcdCAgXHR1c2VybmFtZTogdm0udXNlcm5hbWUsXHJcblx0XHRcdFx0ICBcdGVtYWlsOiB2bS5lbWFpbCxcclxuXHRcdFx0XHQgIFx0cGFzc3dvcmQ6IHZtLnBhc3N3b3JkXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0JGF1dGguc2lnbnVwKHVzZXIpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdC8vIFJlZ2lzdHJhdGlvbiBzdWNjZXNzXHJcblx0XHRcdFx0XHRhdXRoU3ZjLmxvZ2luKHVzZXIpO1xyXG5cclxuXHRcdCAgICAgICAgICAgIC8vV2F0Y2hlc1xyXG5cdFx0XHRcdFx0dmFyIHVucmVnaXN0ZXIgPSAkc2NvcGUuJHdhdGNoKFxyXG5cdFx0XHRcdFx0XHRmdW5jdGlvbiAoKSB7IHJldHVybiBhdXRoU3ZjLmlzTG9nZ2VkSW4gfSwgXHJcblx0XHRcdFx0XHRcdGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYoYXV0aFN2Yy5pc0xvZ2dlZEluKSBcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0XHQgICAgICAgIFx0JCgnI3JlZ2lzdGVyX21vZGFsJykubW9kYWwoKTtcclxuXHRcdFx0XHRcdFx0XHRcdCQoJyNyZWdpc3Rlcl9tb2RhbCcpLm1vZGFsKCdjbG9zZScpO1xyXG5cdFx0XHRcdFx0ICAgICAgICBcdHNwaW5uZXIuc3RvcCgpO1xyXG5cdFx0XHRcdFx0ICAgICAgICBcdHVucmVnaXN0ZXIoKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0aWYoYXV0aFN2Yy5pc0xvZ2dlZEluID09PSBmYWxzZSlcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRzcGlubmVyLnN0b3AoKTtcclxuXHQgICAgICAgIFx0XHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0ICAgICAgICBcdFx0XHRcdFx0dW5yZWdpc3RlcigpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSwgdHJ1ZSk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuY2F0Y2goZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdC8vIFJlZ2lzdHJhdGlvbiBmYWlsZWRcclxuXHRcdFx0XHQgIFx0c3Bpbm5lci5zdG9wKCk7XHJcblx0XHRcdFx0ICBcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHQgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSIsImFwcC5kaXJlY3RpdmUoXCJkY2JMb2dpblwiLCBmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0cmVzdHJpY3Q6IFwiRVwiLFxyXG5cdFx0dGVtcGxhdGVVcmw6IFwiYXBwL2RpcmVjdGl2ZXMvZGNiLWxvZ2luL2RjYi1sb2dpbi5odG1sXCIsXHJcblx0XHRyZXBsYWNlOiB0cnVlLFxyXG5cdFx0c2NvcGU6IHt9LFxyXG5cdFx0Y29udHJvbGxlckFzOiBcImxvZ2luXCIsXHJcblx0XHRjb250cm9sbGVyOiBmdW5jdGlvbigkYXV0aCwgJHNjb3BlLCAkcm9vdFNjb3BlLCB1c2VyU2VydmljZSwgYXV0aFNlcnZpY2UsICRjb29raWVzKSB7XHJcblx0XHRcdHZhciB2bSBcdFx0XHQ9IHRoaXM7XHJcblx0XHRcdHZhciB1c2VyU3ZjIFx0PSB1c2VyU2VydmljZTtcclxuXHRcdFx0dmFyIGF1dGhTdmMgXHQ9IGF1dGhTZXJ2aWNlO1xyXG5cdFx0XHR2YXIgdGFyZ2V0IFx0XHQ9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbi1zcGlubmVyJyk7XHJcblxyXG5cdFx0XHR2YXIgb3B0cyA9IHtcclxuXHQgIFx0XHRcdGxpbmVzOiAxMyAvLyBUaGUgbnVtYmVyIG9mIGxpbmVzIHRvIGRyYXdcclxuXHRcdFx0XHQsIGxlbmd0aDogMjggLy8gVGhlIGxlbmd0aCBvZiBlYWNoIGxpbmVcclxuXHRcdFx0XHQsIHdpZHRoOiAxNCAvLyBUaGUgbGluZSB0aGlja25lc3NcclxuXHRcdFx0XHQsIHJhZGl1czogNDIgLy8gVGhlIHJhZGl1cyBvZiB0aGUgaW5uZXIgY2lyY2xlXHJcblx0XHRcdFx0LCBzY2FsZTogMC40IC8vIFNjYWxlcyBvdmVyYWxsIHNpemUgb2YgdGhlIHNwaW5uZXJcclxuXHRcdFx0XHQsIGNvcm5lcnM6IDEgLy8gQ29ybmVyIHJvdW5kbmVzcyAoMC4uMSlcclxuXHRcdFx0XHQsIGNvbG9yOiAnIzAwMCcgLy8gI3JnYiBvciAjcnJnZ2JiIG9yIGFycmF5IG9mIGNvbG9yc1xyXG5cdFx0XHRcdCwgb3BhY2l0eTogMC4yNSAvLyBPcGFjaXR5IG9mIHRoZSBsaW5lc1xyXG5cdFx0XHRcdCwgcm90YXRlOiAwIC8vIFRoZSByb3RhdGlvbiBvZmZzZXRcclxuXHRcdFx0XHQsIGRpcmVjdGlvbjogMSAvLyAxOiBjbG9ja3dpc2UsIC0xOiBjb3VudGVyY2xvY2t3aXNlXHJcblx0XHRcdFx0LCBzcGVlZDogMSAvLyBSb3VuZHMgcGVyIHNlY29uZFxyXG5cdFx0XHRcdCwgdHJhaWw6IDYwIC8vIEFmdGVyZ2xvdyBwZXJjZW50YWdlXHJcblx0XHRcdFx0LCBmcHM6IDIwIC8vIEZyYW1lcyBwZXIgc2Vjb25kIHdoZW4gdXNpbmcgc2V0VGltZW91dCgpIGFzIGEgZmFsbGJhY2sgZm9yIENTU1xyXG5cdFx0XHRcdCwgekluZGV4OiAyZTkgLy8gVGhlIHotaW5kZXggKGRlZmF1bHRzIHRvIDIwMDAwMDAwMDApXHJcblx0XHRcdFx0LCBjbGFzc05hbWU6ICdzcGlubmVyJyAvLyBUaGUgQ1NTIGNsYXNzIHRvIGFzc2lnbiB0byB0aGUgc3Bpbm5lclxyXG5cdFx0XHRcdCwgdG9wOiAnNjAlJyAvLyBUb3AgcG9zaXRpb24gcmVsYXRpdmUgdG8gcGFyZW50XHJcblx0XHRcdFx0LCBsZWZ0OiAnNTAlJyAvLyBMZWZ0IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG5cdFx0XHRcdCwgc2hhZG93OiBmYWxzZSAvLyBXaGV0aGVyIHRvIHJlbmRlciBhIHNoYWRvd1xyXG5cdFx0XHRcdCwgaHdhY2NlbDogZmFsc2UgLy8gV2hldGhlciB0byB1c2UgaGFyZHdhcmUgYWNjZWxlcmF0aW9uXHJcblx0XHRcdFx0LCBwb3NpdGlvbjogJ2Fic29sdXRlJyAvLyBFbGVtZW50IHBvc2l0aW9uaW5nXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRcdFx0ZnVuY3Rpb24gbG9naW4gKHRva2VuLCBpZCwgdXNlcm5hbWUsIGVtYWlsKSB7XHJcblxyXG5cdFx0XHRcdHZhciBleHBpcmF0aW9uVGltZSA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdFx0ZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZS5zZXRUaW1lKGV4cGlyYXRpb25UaW1lLmdldFRpbWUoKSArICh0b2tlbltcImV4cGlyZXNfaW5cIl0gKiAxMDAwKSk7XHJcblx0XHRcdFx0ZXhwaXJhdGlvblRpbWUgPSBuZXcgRGF0ZShleHBpcmF0aW9uVGltZSk7XHJcblxyXG5cdFx0XHRcdHZhciB1c2VyRGF0YSA9IHtcclxuXHJcblx0XHRcdFx0XHR0b2tlbjogdG9rZW4sXHJcblx0XHRcdFx0XHR1c2VySWQ6IGlkLFxyXG5cdFx0XHRcdFx0dXNlcm5hbWU6IHVzZXJuYW1lLFxyXG5cdFx0XHRcdFx0ZW1haWw6IGVtYWlsLFxyXG5cdFx0XHRcdFx0Ly9pc0FkbWluOiBkYXRhLmRhdGEuaXNBZG1pblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Y29uc29sZS5sb2codXNlckRhdGEudG9rZW4pO1xyXG5cclxuXHRcdFx0XHRhdXRoU3ZjLnVzZXIgPSB1c2VyRGF0YTtcclxuXHJcblx0XHRcdFx0JGNvb2tpZXMucHV0T2JqZWN0KFwidXNlclwiLCB1c2VyRGF0YSwgeyBleHBpcmVzOiBleHBpcmF0aW9uVGltZSB9KTtcclxuXHRcdFx0XHQkcm9vdFNjb3BlLmlzTG9nZ2VkSW4gPSB0cnVlO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vQ2hlY2sgaWYgcmV0dXJuZWQgdXNlciBpcyBBZG1pblxyXG5cdFx0XHRcdHVzZXJEYXRhLmlzQWRtaW4gPT0gXCIxXCIgPyAkcm9vdFNjb3BlLmlzQWRtaW4gPSB0cnVlIDogJHJvb3RTY29wZS5pc0FkbWluID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHQvL1ZtIGZ1bmN0aW9uc1xyXG5cdCAgICAgICAgdm0ubG9naW4gPSBmdW5jdGlvbigpIHtcclxuXHQgICAgICAgIFx0dmFyIHNwaW5uZXIgPSBuZXcgU3Bpbm5lcihvcHRzKS5zcGluKHRhcmdldCk7XHJcblx0ICAgICAgICBcdHZtLmxvYWRpbmcgXHQ9IHRydWU7XHJcblx0ICAgICAgICBcdGNvbnNvbGUubG9nKHZtLmxvYWRpbmcpO1xyXG5cclxuXHQgICAgICAgICAgICB2YXIgY3JlZGVudGlhbHMgPSB7XHJcblx0ICAgICAgICAgICAgICAgIGVtYWlsOiB2bS5lbWFpbCxcclxuXHQgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHZtLnBhc3N3b3JkXHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIFxyXG5cdCAgICAgICAgICAgIGF1dGhTdmMubG9naW4oY3JlZGVudGlhbHMpO1xyXG5cdCAgICAgICAgICAgIFxyXG5cdCAgICAgICAgICAgIC8vV2F0Y2hlc1xyXG5cdFx0XHRcdHZhciB1bnJlZ2lzdGVyID0gJHNjb3BlLiR3YXRjaChcclxuXHRcdFx0XHQgXHRmdW5jdGlvbiAoKSB7IHJldHVybiBhdXRoU3ZjLmlzTG9nZ2VkSW4gfSwgXHJcblx0XHRcdFx0IFx0ZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRpZihhdXRoU3ZjLmlzTG9nZ2VkSW4pIFxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdCAgICAgICAgXHQkKCcjbG9naW5fbW9kYWwnKS5tb2RhbCgpO1xyXG5cdFx0XHRcdFx0XHRcdCQoJyNsb2dpbl9tb2RhbCcpLm1vZGFsKCdjbG9zZScpO1xyXG5cdFx0XHRcdCAgICAgICAgXHRzcGlubmVyLnN0b3AoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZighYXV0aFN2Yy5pc0xvZ2dlZEluKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0c3Bpbm5lci5zdG9wKCk7XHJcblx0XHRcdFx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LCB0cnVlKTtcclxuXHQgICAgICAgIH1cclxuXHRcdH1cclxuXHR9XHJcbn0pIiwiYXBwLmRpcmVjdGl2ZShcImRjYlN0aWNreVwiLCBmdW5jdGlvbigkd2luZG93KSB7XHJcblx0dmFyICR3aW4gPSBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdyk7IC8vIHdyYXAgd2luZG93IG9iamVjdCBhcyBqUXVlcnkgb2JqZWN0XHJcblxyXG5cdHJldHVybiB7XHJcblx0XHRyZXN0cmljdDogXCJBXCIsXHJcblx0XHRsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcblx0ICAgICAgXHR2YXIgdG9wQ2xhc3MgPSBhdHRycy5kY2JTdGlja3ksIC8vIGdldCBDU1MgY2xhc3MgZnJvbSBkaXJlY3RpdmUncyBhdHRyaWJ1dGUgdmFsdWVcclxuXHQgICAgICAgICAgXHRvZmZzZXRUb3AgPSBlbGVtZW50Lm9mZnNldCgpLnRvcDsgLy8gZ2V0IGVsZW1lbnQncyBvZmZzZXQgdG9wIHJlbGF0aXZlIHRvIGRvY3VtZW50XHJcblxyXG5cdCAgICAgIFx0JHdpbi5vbignc2Nyb2xsJywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdCAgICAgICAgaWYgKCR3aW4uc2Nyb2xsVG9wKCkgPj0gb2Zmc2V0VG9wKSB7XHJcblx0XHQgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyh0b3BDbGFzcyk7XHJcblx0XHQgICAgICAgIH0gZWxzZSB7XHJcblx0XHQgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyh0b3BDbGFzcyk7XHJcblx0XHQgICAgICAgIH1cclxuXHQgICAgICBcdH0pO1xyXG5cdCAgXHR9XHJcblx0fVxyXG59KSJdfQ==