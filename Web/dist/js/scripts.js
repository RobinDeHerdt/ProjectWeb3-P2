var app=angular.module("app",["ui.router","satellizer","ngCookies","ngFileUpload"]),CONSTANTS=function(){var e={};return e.API_BASE_URL="http://discoverbandapi.int/public/api",e}();app.config(["$stateProvider","$urlRouterProvider","$authProvider",function(e,r,t){t.loginUrl=CONSTANTS.API_BASE_URL+"/login",t.signupUrl=CONSTANTS.API_BASE_URL+"/register",r.otherwise("/"),e.state("home",{url:"/",templateUrl:"app/pages/home.html",controller:"homeController as home"}).state("solo",{url:"/solo",templateUrl:"app/pages/solo.html",controller:"soloController as solo"}).state("merged",{url:"/merged",templateUrl:"app/pages/merged.html",controller:"mergedController as merged"}).state("band",{url:"/band",templateUrl:"app/pages/band.html",controller:"bandController as band"}).state("merge",{url:"/merge",templateUrl:"app/pages/merge.html",controller:"mergeController as merge"}).state("profile",{url:"/profile",templateUrl:"app/pages/profile.html",controller:"profileController as profile"}).state("upload",{url:"/upload",templateUrl:"app/pages/upload.html",controller:"uploadController as upload"})}]),app.controller("bandController",["bandService",function(e){function r(){t.trackArray=n.getTrackArray}var t=this,n=e;r()}]),app.controller("homeController",["instrumentService","filterService",function(e,r){function t(){n.filterData=a.soloFilterData}var n=this,a=r;t()}]),app.controller("mergeController",["bandService","mergedService","$state",function(e,r,t){function n(){a.tracks=o.getTrackArray(),a.showTracks=!1,a.thereAreTracks=!1,a.loadedTracks=[],a.savedTime=[],a.trimAmounts=[],a.tracks.length>0&&(a.thereAreTracks=!0)}var a=this,o=e,i=r,c=[];a.load=function(){if(a.thereAreTracks){for(var e=a.tracks.length-1;e>=0;e--){var r=a.tracks[e].id;document.getElementById(r).checked&&(c[r]=WaveSurfer.create({container:"#waveform"+r,waveColor:"green",progressColor:"purple"}),c[r].load("http://discoverbandapi.int/public/api/audio/"+a.tracks[e].file_url),a.loadedTracks.push({track_id:r,trim_amount:0}))}a.showTracks=!0}},a.playPause=function(e){c[e].isPlaying()||(a.savedTime[e]=c[e].getCurrentTime(),console.log(a.savedTime)),c[e].playPause(),c[e].zoom(50)},a.trim=function(e){for(var r=c[e].getCurrentTime(),t=a.loadedTracks.length-1;t>=0;t--)a.loadedTracks[t].track_id===e&&(a.loadedTracks[t].trim_amount=r,a.trimAmounts[e]=Math.round(100*r)/100)},a.playPauseAll=function(){for(var e=a.loadedTracks.length-1;e>=0;e--){var r=a.loadedTracks[e].track_id;c[r].isPlaying()||(a.savedTime[r]=c[r].getCurrentTime(),console.log(a.savedTime)),c[r].playPause(),c[r].zoom(50)}},a.toPrevious=function(){for(var e=a.loadedTracks.length-1;e>=0;e--){var r=a.loadedTracks[e].track_id,t=a.savedTime[r],n=c[r].getDuration(),o=t/n;c[r].seekAndCenter(o)}},a.save=function(){i.mergeTracks(a.loadedTracks).then(function(e){console.log(e),t.go("merged")},function(e){console.log(e)})},n()}]),app.controller("mergedController",["$scope","mergedService","filterService",function(e,r,t){function n(){r.getTracks().then(function(e){i.mergedTracks=e.data,i.filteredTracks=i.mergedTracks,a(),angular.forEach(i.mergedTracks,function(e,r){newTrack=new Audio("http://discoverbandapi.int/public/audio/"+e.file_url),i.mergedTrackAudio[e.id]=newTrack})},function(e){console.log(e)})}function a(){i.filteredTracks=[],angular.forEach(i.mergedTracks,function(e,r){goodSearch=!0,""!=!i.filterData.artist||e.artist.name.match(new RegExp(i.filterData.artist,"i"))||(goodSearch=!1),""!=!i.filterData.title||e.songname.match(new RegExp(i.filterData.title,"i"))||(goodSearch=!1),goodSearch&&i.filteredTracks.push(e)})}function o(){i.mergedTrackAudio=[],i.currentAudioTrackId="",n(),i.filterData=c.mergedFilterData}var i=this,c=t;i.play=function(e){""!=i.currentAudioTrackId&&i.pause(i.currentAudioTrackId),i.currentAudioTrackId=e,i.mergedTrackAudio[e].play()},i.pause=function(e){i.mergedTrackAudio[e].pause(),i.currentAudioTrackId=""},i.download=function(e){window.open(CONSTANTS.API_BASE_URL+"/mergedtracks/"+e+"/download","_blank","")},e.$watch(function(){return i.filterData},function(){i.filterData&&a()},!0),o()}]),app.controller("profileController",["userService",function(e){function r(){n.getUser().then(function(e){t.username=e.data.username,t.email=e.data.email})}var t=this,n=e,a=document.getElementById("update-profile-spinner"),o={lines:13,length:28,width:12,radius:42,scale:.15,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"89%",left:"25.5%",shadow:!1,hwaccel:!1,position:"absolute"};t.update=function(){var e=new Spinner(o).spin(a);t.loading=!0;var r={username:t.username,email:t.email};n.updateUser(r).then(function(r){e.stop(),t.loading=!1},function(r){e.stop(),t.loading=!1})},r()}]),app.controller("soloController",["$scope","bandService","soloService","instrumentService","filterService",function(e,r,t,n,a){function o(){u.getTracks().then(function(e){s.soloTracks=e.data,s.filteredTracks=s.soloTracks,i(),angular.forEach(s.soloTracks,function(e,r){newTrack=new Audio("http://discoverbandapi.int/public/audio/"+e.file_url),s.soloTrackAudio[e.id]=newTrack})},function(e){console.log(e)})}function i(){s.filteredTracks=[],angular.forEach(s.soloTracks,function(e,r){goodSearch=!0,""!=!s.filterData.artist||e.artist.name.match(new RegExp(s.filterData.artist,"i"))||(goodSearch=!1),""!=!s.filterData.title||e.songname.match(new RegExp(s.filterData.title,"i"))||(goodSearch=!1),s.filterData[e.instrument_id]||(goodSearch=!1),goodSearch&&s.filteredTracks.push(e)}),0===s.filteredTracks.length?s.showNoResultsFound=!0:s.showNoResultsFound=!1}function c(){s.soloTrackAudio=[],s.currentAudioTrackId="",s.showNoResultsFound=!1,d.getInstruments().then(function(e){s.instruments=e.data},function(e){console.log(e)}),o(),s.filterData=p.soloFilterData,s.trackArray=l.getTrackArray,s.bandTrackIdArray=l.getTrackIdArray,s.trackArrayCount=l.getTrackArrayCount}var s=this,l=r,u=t,d=n,p=a;s.addToBand=function(e){l.addToTrackArray(e),console.log(e)},s.removeFromBand=function(e){l.removeFromTrackArray(e),console.log("Track removed from new band: "+e)},s.play=function(e){""!=s.currentAudioTrackId&&s.pause(s.currentAudioTrackId),s.currentAudioTrackId=e,s.soloTrackAudio[e].play()},s.pause=function(e){s.soloTrackAudio[e].pause(),s.currentAudioTrackId=""},e.$watch(function(){return s.filterData},function(){s.filterData&&i()},!0),c()}]),app.controller("uploadController",["Upload","artistService","instrumentService","soloService","$state",function(e,r,t,n,a){function o(){c.uploaded=!1,c.showform=!1,c.instruments=u.getInstruments().then(function(e){c.instruments=e.data,console.log(e.data)},function(e){console.log(e)}),c.artists=l.getArtists().then(function(e){console.log(e.data),c.artists=e.data},function(e){console.log(e)})}function i(e){for(var r=e+"=",t=decodeURIComponent(document.cookie),n=t.split(";"),a=0;a<n.length;a++){for(var o=n[a];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(r))return o.substring(r.length,o.length)}return""}var c=this,s=n,l=r,u=t,d=document.getElementById("upload-spinner"),p={lines:13,length:28,width:12,radius:42,scale:.3,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"40%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};c.uploadFile=function(r){var t=new Spinner(p).spin(d);c.loading=!0,c.uploaded=!1,c.showform=!0,$("select").material_select(),e.upload({url:CONSTANTS.API_BASE_URL+"/upload",fileFormDataName:"song",sendFieldsAs:"form",data:{song:r}}).then(function(e){c.filename=e.data.name,c.tracklength=e.data.length,t.stop(),c.loading=!1,c.uploaded=!0},function(e){c.loading=!1,t.stop(),console.log("Error")})},c.save=function(){var e=JSON.parse(i("user")).userId,r={name:c.songname,file_url:c.filename,track_length:c.tracklength,user_id:e,instrument_id:c.instrumentsdropdown,artist_id:c.artistsdropdown};s.insertTrack(r).then(function(e){a.go("solo"),console.log(e)},function(e){console.log(e)})},o()}]),app.filter("band",function(){return function(e,r){var t=!1;return angular.forEach(r,function(r,n){r==e&&(t=!0)}),t}}),app.service("artistService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getArtists=function(){var e=CONSTANTS.API_BASE_URL+"/artists";return r(e)}}]),app.service("authService",["$auth","$rootScope","$cookies","$state","userService",function(e,r,t,n,a){function o(e,n,a,o){var c=new Date;c=c.setTime(c.getTime()+1e3*e.expires_in),c=new Date(c);var s={token:e,userId:n,username:a,email:o};i.user=s,t.putObject("user",s,{expires:c}),r.isLoggedIn=!0,"1"==s.isAdmin?r.isAdmin=!0:r.isAdmin=!1}var i=this,c=a;i.isLoggedIn=!1,i.login=function(r){e.login(r).then(function(e){token=e.data.token,id=0,username="",email="",c.getUser().then(function(e){id=e.data.id,username=e.data.username,email=e.data.email,o(token,id,username,email),i.isLoggedIn=!0},function(e){console.log(e),i.isLoggedIn=!1})},function(e){console.log(e),i.isLoggedIn=!1})},i.logout=function(){e.logout().then(function(e){r.isLoggedIn=!1,r.isAdmin=!1,i.user=null,i.isLoggedIn=null,t.remove("user"),n.go("home")},function(e){console.log(e)})},i.register=function(e){var r=CONSTANTS.API_BASE_URL+"/user";return $http.post(r,e)}}]),app.service("bandService",function(){function e(e,r,t){for(var n=0,a=e.length;n<a;n++)if(e[n][t]===r)return n;return-1}function r(){return trackArrayCount++,trackArrayCount}function t(){return trackArrayCount--,trackArrayCount}function n(e){return trackIdArray.push(e),trackIdArray}function a(e){return index=trackIdArray.indexOf(e),index>-1&&trackIdArray.splice(index,1),trackIdArray}var o=this;trackArray=[],trackIdArray=[],trackArrayCount=0,o.getTrackArrayCount=function(){return trackArrayCount},o.getTrackIdArray=function(){return trackIdArray},o.addToTrackArray=function(e){return trackArray.push(e),r(),n(e.id),trackArray},o.removeFromTrackArray=function(r){return index=e(trackArray,r.id,"id"),index>-1&&trackArray.splice(index,1),t(),a(r.id),trackArray},o.getTrackArray=function(){return trackArray},o.testFunction=function(){alert("Test function called from inside service!")}}),app.service("filterService",["instrumentService",function(e){function r(){t.createSoloFilterData(),t.createMergedFilterData()}var t=this,n=e;t.createSoloFilterData=function(){t.soloFilterData={artist:"",title:""},angular.forEach(n.instruments,function(e,r){t.soloFilterData[e.id]=!0})},t.createMergedFilterData=function(){t.mergedFilterData={artist:"",title:""}},r()}]),app.service("instrumentService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getInstruments=function(){var e=CONSTANTS.API_BASE_URL+"/instruments";return r(e)},t.instruments=[{name:"Lead-guitar",id:1},{name:"Drum",id:2},{name:"Bass",id:3},{name:"Keys",id:4}]}]),app.service("mergedService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getTracks=function(){var e=CONSTANTS.API_BASE_URL+"/mergedtracks";return r(e)},t.getTrackById=function(e){var t=CONSTANTS.API_BASE_URL+"/mergedtracks/"+e;return r(t)},t.mergeTracks=function(r){return e.post(CONSTANTS.API_BASE_URL+"/mergedtracks/create",r)},t.download=function(e){var t=CONSTANTS.API_BASE_URL+"/mergedtracks/"+e+"/download";return r(t)}}]),app.service("soloService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getTracks=function(){var e=CONSTANTS.API_BASE_URL+"/tracks";return r(e)},t.getTrackById=function(e){var t=CONSTANTS.API_BASE_URL+"/tracks/"+e;return r(t)},t.insertTrack=function(r){return e.post(CONSTANTS.API_BASE_URL+"/tracks/create",r)}}]),app.service("userService",["$http",function(e){var r=this;r.getUser=function(){return e.get(CONSTANTS.API_BASE_URL+"/user")},r.updateUser=function(r){return e.post(CONSTANTS.API_BASE_URL+"/user",r)}}]),app.directive("dcbBand",["bandService",function(e){return{restrict:"E",templateUrl:"app/directives/dcb-band/dcb-band.html",replace:!0,scope:{},controllerAs:"band",controller:function(){function e(){r.value="NewBand"}var r=this;e()}}}]),app.directive("dcbLogin",function(){return{restrict:"E",templateUrl:"app/directives/dcb-login/dcb-login.html",replace:!0,scope:{},controllerAs:"login",controller:["$auth","$scope","$rootScope","userService","authService","$cookies",function(e,r,t,n,a,o){var i=this,c=a,s=document.getElementById("login-spinner"),l={lines:13,length:28,width:14,radius:42,scale:.4,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"60%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};i.login=function(){var e=new Spinner(l).spin(s);i.loading=!0;var t={email:i.email,password:i.password};c.login(t);r.$watch(function(){return c.isLoggedIn},function(){c.isLoggedIn&&(i.loading=!1,$("#login_modal").modal(),$("#login_modal").modal("close"),e.stop()),c.isLoggedIn||(e.stop(),i.loading=!1)},!0)}}]}}),app.directive("dcbHeader",["bandService",function(e){return{restrict:"E",templateUrl:"app/directives/dcb-header/dcb-header.html",replace:!0,scope:{},controllerAs:"head",controller:["$scope","userService","authService","$auth","$rootScope",function(r,t,n,a,o){function i(){c.trackArray=u.getTrackArray,c.trackArrayCount=u.getTrackArrayCount,a.isAuthenticated()&&s.getUser().then(function(e){o.username=e.data.username})}var c=this,s=t,l=n,u=e;c.showLogin=function(){$("#login_modal").modal(),$("#login_modal").modal("open")},c.logout=function(){l.logout()},c.showRegister=function(){$("#register_modal").modal(),$("#register_modal").modal("open")},c.isAuthenticated=function(){return a.isAuthenticated()},i(),r.$watch(function(){return l.user},function(){c.user=l.user})}]}}]),app.directive("dcbRegister",["userService",function(e){return{restrict:"E",templateUrl:"app/directives/dcb-register/dcb-register.html",replace:!0,scope:{},controllerAs:"register",controller:["$auth","$scope","$rootScope","userService","authService",function(e,r,t,n,a){var o=this,i=a,c=document.getElementById("register-spinner"),s={lines:13,length:28,width:14,radius:42,scale:.4,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"60%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};o.register=function(){var t=new Spinner(s).spin(c);o.loading=!0;var n={username:o.username,email:o.email,password:o.password};e.signup(n).then(function(e){i.login(n);var a=r.$watch(function(){return i.isLoggedIn},function(){i.isLoggedIn&&(o.loading=!1,$("#register_modal").modal(),$("#register_modal").modal("close"),t.stop(),a()),i.isLoggedIn===!1&&(t.stop(),o.loading=!1,a())},!0)})["catch"](function(e){t.stop(),o.loading=!1,console.log(e)})}}]}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbmZpZy5qcyIsInJvdXRlcy5qcyIsImJhbmRDb250cm9sbGVyLmpzIiwiaG9tZUNvbnRyb2xsZXIuanMiLCJtZXJnZUNvbnRyb2xsZXIuanMiLCJtZXJnZWRDb250cm9sbGVyLmpzIiwicHJvZmlsZUNvbnRyb2xsZXIuanMiLCJzb2xvQ29udHJvbGxlci5qcyIsInVwbG9hZENvbnRyb2xsZXIuanMiLCJiYW5kRmlsdGVyLmpzIiwiYXJ0aXN0U2VydmljZS5qcyIsImF1dGhTZXJ2aWNlLmpzIiwiYmFuZFNlcnZpY2UuanMiLCJmaWx0ZXJTZXJ2aWNlLmpzIiwiaW5zdHJ1bWVudFNlcnZpY2UuanMiLCJtZXJnZWRTZXJ2aWNlLmpzIiwic29sb1NlcnZpY2UuanMiLCJ1c2VyU2VydmljZS5qcyIsImRjYi1iYW5kL2RjYi1iYW5kLmpzIiwiZGNiLWxvZ2luL2RjYi1sb2dpbi5qcyIsImRjYi1oZWFkZXIvZGNiLWhlYWRlci5qcyIsImRjYi1yZWdpc3Rlci9kY2ItcmVnaXN0ZXIuanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsIkNPTlNUQU5UUyIsIkFQSV9CQVNFX1VSTCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGF1dGhQcm92aWRlciIsImxvZ2luVXJsIiwic2lnbnVwVXJsIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJiYW5kU2VydmljZSIsIl9pbml0Iiwidm0iLCJ0cmFja0FycmF5IiwiYmFuZFN2YyIsImdldFRyYWNrQXJyYXkiLCJ0aGlzIiwiaW5zdHJ1bWVudFNlcnZpY2UiLCJmaWx0ZXJTZXJ2aWNlIiwiZmlsdGVyRGF0YSIsImZsdFN2YyIsInNvbG9GaWx0ZXJEYXRhIiwibWVyZ2VkU2VydmljZSIsIiRzdGF0ZSIsInRyYWNrcyIsInNob3dUcmFja3MiLCJ0aGVyZUFyZVRyYWNrcyIsImxvYWRlZFRyYWNrcyIsInNhdmVkVGltZSIsInRyaW1BbW91bnRzIiwibGVuZ3RoIiwibWVyZ2VkU3ZjIiwid2F2ZXN1cmZlciIsImxvYWQiLCJpIiwidHJhY2tfaWQiLCJpZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjaGVja2VkIiwiV2F2ZVN1cmZlciIsImNyZWF0ZSIsImNvbnRhaW5lciIsIndhdmVDb2xvciIsInByb2dyZXNzQ29sb3IiLCJmaWxlX3VybCIsInB1c2giLCJ0cmltX2Ftb3VudCIsInBsYXlQYXVzZSIsImlzUGxheWluZyIsImdldEN1cnJlbnRUaW1lIiwiY29uc29sZSIsImxvZyIsInpvb20iLCJ0cmltIiwidGltZVRvVHJpbSIsIk1hdGgiLCJyb3VuZCIsInBsYXlQYXVzZUFsbCIsInRvUHJldmlvdXMiLCJwcmV2aW91c1RpbWUiLCJ0b3RhbFRpbWUiLCJnZXREdXJhdGlvbiIsInByb2dyZXNzIiwic2Vla0FuZENlbnRlciIsInNhdmUiLCJtZXJnZVRyYWNrcyIsInRoZW4iLCJkYXRhIiwiZ28iLCJlcnJvciIsIiRzY29wZSIsImdldE1lcmdlZFRyYWNrcyIsImdldFRyYWNrcyIsIm1lcmdlZFRyYWNrcyIsImZpbHRlcmVkVHJhY2tzIiwiZmlsdGVyIiwiZm9yRWFjaCIsInRyYWNrIiwia2V5IiwibmV3VHJhY2siLCJBdWRpbyIsIm1lcmdlZFRyYWNrQXVkaW8iLCJnb29kU2VhcmNoIiwiYXJ0aXN0IiwibmFtZSIsIm1hdGNoIiwiUmVnRXhwIiwidGl0bGUiLCJzb25nbmFtZSIsImN1cnJlbnRBdWRpb1RyYWNrSWQiLCJtZXJnZWRGaWx0ZXJEYXRhIiwicGxheSIsInRyYWNrSWQiLCJwYXVzZSIsImRvd25sb2FkIiwid2luZG93Iiwib3BlbiIsIiR3YXRjaCIsInVzZXJTZXJ2aWNlIiwidXNlclN2YyIsImdldFVzZXIiLCJ1c2VybmFtZSIsImVtYWlsIiwidGFyZ2V0Iiwib3B0cyIsImxpbmVzIiwid2lkdGgiLCJyYWRpdXMiLCJzY2FsZSIsImNvcm5lcnMiLCJjb2xvciIsIm9wYWNpdHkiLCJyb3RhdGUiLCJkaXJlY3Rpb24iLCJzcGVlZCIsInRyYWlsIiwiZnBzIiwiekluZGV4IiwiY2xhc3NOYW1lIiwidG9wIiwibGVmdCIsInNoYWRvdyIsImh3YWNjZWwiLCJwb3NpdGlvbiIsInVwZGF0ZSIsInNwaW5uZXIiLCJTcGlubmVyIiwic3BpbiIsImxvYWRpbmciLCJ1c2VyaW5mbyIsInVwZGF0ZVVzZXIiLCJzdG9wIiwic29sb1NlcnZpY2UiLCJnZXRTb2xvVHJhY2tzIiwic29sb1N2YyIsInNvbG9UcmFja3MiLCJzb2xvVHJhY2tBdWRpbyIsImluc3RydW1lbnRfaWQiLCJzaG93Tm9SZXN1bHRzRm91bmQiLCJpbnN0U3ZjIiwiZ2V0SW5zdHJ1bWVudHMiLCJpbnN0cnVtZW50cyIsImJhbmRUcmFja0lkQXJyYXkiLCJnZXRUcmFja0lkQXJyYXkiLCJ0cmFja0FycmF5Q291bnQiLCJnZXRUcmFja0FycmF5Q291bnQiLCJhZGRUb0JhbmQiLCJhZGRUb1RyYWNrQXJyYXkiLCJyZW1vdmVGcm9tQmFuZCIsInJlbW92ZUZyb21UcmFja0FycmF5IiwiVXBsb2FkIiwiYXJ0aXN0U2VydmljZSIsInVwbG9hZGVkIiwic2hvd2Zvcm0iLCJpbnN0cnVtZW50U3ZjIiwiYXJ0aXN0cyIsImFydGlzdFN2YyIsImdldEFydGlzdHMiLCJnZXRDb29raWUiLCJjbmFtZSIsImRlY29kZWRDb29raWUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjb29raWUiLCJjYSIsInNwbGl0IiwiYyIsImNoYXJBdCIsInN1YnN0cmluZyIsImluZGV4T2YiLCJ1cGxvYWRGaWxlIiwiZmlsZSIsIiQiLCJtYXRlcmlhbF9zZWxlY3QiLCJ1cGxvYWQiLCJmaWxlRm9ybURhdGFOYW1lIiwic2VuZEZpZWxkc0FzIiwic29uZyIsInJlc3AiLCJmaWxlbmFtZSIsInRyYWNrbGVuZ3RoIiwidXNlcl9pZCIsIkpTT04iLCJwYXJzZSIsInVzZXJJZCIsInRyYWNrX2xlbmd0aCIsImluc3RydW1lbnRzZHJvcGRvd24iLCJhcnRpc3RfaWQiLCJhcnRpc3RzZHJvcGRvd24iLCJpbnNlcnRUcmFjayIsImxpc3QiLCJyZXR1cm5WYWx1ZSIsImluZGV4Iiwic2VydmljZSIsIiRodHRwIiwiZ2V0RGF0YSIsIm9wdGlvbnMiLCJnZXQiLCJzdmMiLCIkYXV0aCIsIiRyb290U2NvcGUiLCIkY29va2llcyIsImxvZ2luIiwidG9rZW4iLCJleHBpcmF0aW9uVGltZSIsIkRhdGUiLCJzZXRUaW1lIiwiZ2V0VGltZSIsInVzZXJEYXRhIiwidXNlciIsInB1dE9iamVjdCIsImV4cGlyZXMiLCJpc0xvZ2dlZEluIiwiaXNBZG1pbiIsImNyZWRlbnRpYWxzIiwibG9nb3V0IiwicmVtb3ZlIiwicmVnaXN0ZXIiLCJwb3N0IiwiYXJyYXlPYmplY3RJbmRleE9mIiwibXlBcnJheSIsInNlYXJjaFRlcm0iLCJwcm9wZXJ0eSIsImxlbiIsImluY3JlbWVudFRyYWNrQXJyYXlDb3VudCIsImRlY3JlbWVudFRyYWNrQXJyYXlDb3VudCIsImFkZFRvVHJhY2tJZEFycmF5IiwidHJhY2tJZEFycmF5IiwicmVtb3ZlRnJvbVRyYWNrSWRBcnJheSIsInNwbGljZSIsInRlc3RGdW5jdGlvbiIsImFsZXJ0IiwiY3JlYXRlU29sb0ZpbHRlckRhdGEiLCJjcmVhdGVNZXJnZWRGaWx0ZXJEYXRhIiwidmFsdWUiLCJnZXRUcmFja0J5SWQiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInJlcGxhY2UiLCJzY29wZSIsImNvbnRyb2xsZXJBcyIsImF1dGhTZXJ2aWNlIiwiYXV0aFN2YyIsInBhc3N3b3JkIiwibW9kYWwiLCJpc0F1dGhlbnRpY2F0ZWQiLCJzaG93TG9naW4iLCJzaG93UmVnaXN0ZXIiLCJzaWdudXAiLCJyZXNwb25zZSIsInVucmVnaXN0ZXIiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUlBLEtBQU1DLFFBQVFDLE9BQU8sT0FDdkIsWUFDQSxhQUNBLFlBQ0EsaUJDSkVDLFVBQWEsV0FFaEIsR0FBSUQsS0FJSixPQUZBQSxHQUFPRSxhQUFlLHdDQUVmRixJQ05SRixLQUFJSyxR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QUFNdUIsS0FBS3hCLEVBQy9CNUYsR0FBR3FILFNBQVcsQ0FFcEIsSUFBSWdGLElBQ0QzRyxTQUFVMUYsRUFBRzBGLFNBQ2JDLE1BQU8zRixFQUFHMkYsTUFDVjRJLFNBQVV2TyxFQUFHdU8sU0FHaEI1QyxHQUFNaUQsT0FBT3ZDLEdBQU05SSxLQUFLLFNBQVNzTCxHQUVoQ1AsRUFBUXhDLE1BQU1PLEVBR2QsSUFBSXlDLEdBQWFuTCxFQUFPMkIsT0FDdkIsV0FBYyxNQUFPZ0osR0FBUTlCLFlBQzdCLFdBRUk4QixFQUFROUIsYUFFVnhNLEVBQUdxSCxTQUFVLEVBQ1AyQyxFQUFFLG1CQUFtQndFLFFBQzNCeEUsRUFBRSxtQkFBbUJ3RSxNQUFNLFNBQ3JCdEgsRUFBUU0sT0FDUnNILEtBRUpSLEVBQVE5QixjQUFlLElBRXpCdEYsRUFBUU0sT0FDRnhILEVBQUdxSCxTQUFVLEVBQ2J5SCxPQUVMLEtBdkJMbkQsU0F5Qk8sU0FBU2tELEdBRWIzSCxFQUFRTSxPQUNSeEgsRUFBR3FILFNBQVUsRUFDWjlFLFFBQVFDLElBQUlxTSIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIsIFtcclxuXHRcdFwidWkucm91dGVyXCIsXHJcblx0XHRcInNhdGVsbGl6ZXJcIixcclxuXHRcdFwibmdDb29raWVzXCIsXHJcblx0XHRcIm5nRmlsZVVwbG9hZFwiXHJcblx0XSk7IiwidmFyIENPTlNUQU5UUyA9IChmdW5jdGlvbiAoKSB7XG5cdFxuXHR2YXIgbW9kdWxlID0ge307XG5cblx0bW9kdWxlLkFQSV9CQVNFX1VSTCA9IFwiaHR0cDovL2Rpc2NvdmVyYmFuZGFwaS5pbnQvcHVibGljL2FwaVwiO1xuXG5cdHJldHVybiBtb2R1bGU7XG59KCkpOyIsImFwcC5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGF1dGhQcm92aWRlcikge1xyXG4gICRhdXRoUHJvdmlkZXIubG9naW5VcmwgICAgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgJy9sb2dpbic7XHJcbiAgJGF1dGhQcm92aWRlci5zaWdudXBVcmwgICA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyAnL3JlZ2lzdGVyJztcclxuICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKFwiL1wiKTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXJcclxuICAgIC5zdGF0ZSgnaG9tZScsIHtcclxuICAgICAgdXJsOiBcIi9cIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL2hvbWUuaHRtbFwiLFxyXG4gICAgICBjb250cm9sbGVyOiBcImhvbWVDb250cm9sbGVyIGFzIGhvbWVcIlxyXG4gICAgfSlcclxuICBcdC5zdGF0ZSgnc29sbycsIHtcclxuICAgICAgdXJsOiBcIi9zb2xvXCIsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wYWdlcy9zb2xvLmh0bWxcIixcclxuICAgICAgY29udHJvbGxlcjogXCJzb2xvQ29udHJvbGxlciBhcyBzb2xvXCJcclxuICAgIH0pXHJcbiAgICAuc3RhdGUoJ21lcmdlZCcsIHtcclxuICAgICAgdXJsOiBcIi9tZXJnZWRcIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL21lcmdlZC5odG1sXCIsXHJcbiAgICAgIGNvbnRyb2xsZXI6IFwibWVyZ2VkQ29udHJvbGxlciBhcyBtZXJnZWRcIlxyXG4gICAgfSlcclxuICAgIC5zdGF0ZSgnYmFuZCcsIHtcclxuICAgICAgdXJsOiBcIi9iYW5kXCIsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wYWdlcy9iYW5kLmh0bWxcIixcclxuICAgICAgY29udHJvbGxlcjogXCJiYW5kQ29udHJvbGxlciBhcyBiYW5kXCJcclxuICAgIH0pXHJcbiAgICAuc3RhdGUoJ21lcmdlJywge1xyXG4gICAgICB1cmw6IFwiL21lcmdlXCIsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wYWdlcy9tZXJnZS5odG1sXCIsXHJcbiAgICAgIGNvbnRyb2xsZXI6IFwibWVyZ2VDb250cm9sbGVyIGFzIG1lcmdlXCJcclxuICAgIH0pXHJcbiAgICAuc3RhdGUoJ3Byb2ZpbGUnLCB7XHJcbiAgICAgIHVybDogXCIvcHJvZmlsZVwiLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogXCJhcHAvcGFnZXMvcHJvZmlsZS5odG1sXCIsXHJcbiAgICAgIGNvbnRyb2xsZXI6IFwicHJvZmlsZUNvbnRyb2xsZXIgYXMgcHJvZmlsZVwiXHJcbiAgICB9KVxyXG4gICAgLnN0YXRlKCd1cGxvYWQnLCB7XHJcbiAgICAgIHVybDogXCIvdXBsb2FkXCIsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wYWdlcy91cGxvYWQuaHRtbFwiLFxyXG4gICAgICBjb250cm9sbGVyOiBcInVwbG9hZENvbnRyb2xsZXIgYXMgdXBsb2FkXCJcclxuICAgIH0pXHJcbn0pOyIsImFwcC5jb250cm9sbGVyKFwiYmFuZENvbnRyb2xsZXJcIiwgZnVuY3Rpb24oYmFuZFNlcnZpY2UpIHtcclxuXHRcclxuXHR2YXIgdm0gXHRcdD0gdGhpcztcclxuXHR2YXIgYmFuZFN2YyA9IGJhbmRTZXJ2aWNlO1xyXG5cclxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdHZtLnRyYWNrQXJyYXkgPSBiYW5kU3ZjLmdldFRyYWNrQXJyYXk7XHJcblx0fVxyXG5cclxuXHRfaW5pdCgpO1xyXG59KTsiLCJhcHAuY29udHJvbGxlcihcImhvbWVDb250cm9sbGVyXCIsIGZ1bmN0aW9uKGluc3RydW1lbnRTZXJ2aWNlLCBmaWx0ZXJTZXJ2aWNlKSB7XG5cdFxuXHR2YXIgdm0gPSB0aGlzO1xuXHR2YXIgaW5zdFN2YyA9IGluc3RydW1lbnRTZXJ2aWNlO1xuXHR2YXIgZmx0U3ZjID0gZmlsdGVyU2VydmljZTtcblxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcblx0XHQvL2luc3RTdmMuZ2V0SW5zdHJ1bWVudHMoKTtcblxuXHRcdHZtLmZpbHRlckRhdGEgPSBmbHRTdmMuc29sb0ZpbHRlckRhdGE7XG5cdH1cblxuXHRfaW5pdCgpO1xufSk7IiwiYXBwLmNvbnRyb2xsZXIoXCJtZXJnZUNvbnRyb2xsZXJcIiwgZnVuY3Rpb24oYmFuZFNlcnZpY2UsIG1lcmdlZFNlcnZpY2UsICRzdGF0ZSkge1xyXG5cdHZhciB2bSBcdFx0XHQ9IHRoaXM7XHJcblx0dmFyIGJhbmRTdmMgXHQ9IGJhbmRTZXJ2aWNlO1xyXG5cdHZhciBtZXJnZWRTdmMgXHQ9IG1lcmdlZFNlcnZpY2U7XHJcblx0dmFyIHdhdmVzdXJmZXIgXHQ9IFtdO1xyXG5cclxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdHZtLnRyYWNrcyBcdFx0XHQ9IGJhbmRTdmMuZ2V0VHJhY2tBcnJheSgpO1xyXG5cdFx0dm0uc2hvd1RyYWNrcyBcdFx0PSBmYWxzZTtcclxuXHRcdHZtLnRoZXJlQXJlVHJhY2tzXHQ9IGZhbHNlO1xyXG5cdFx0dm0ubG9hZGVkVHJhY2tzIFx0PSBbXTtcclxuXHRcdHZtLnNhdmVkVGltZSBcdFx0PSBbXTtcclxuXHRcdHZtLnRyaW1BbW91bnRzICBcdD0gW107XHJcblxyXG5cdFx0aWYodm0udHJhY2tzLmxlbmd0aCA+IDApXHJcblx0XHR7XHJcblx0XHRcdHZtLnRoZXJlQXJlVHJhY2tzXHQ9IHRydWU7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR2bS5sb2FkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRpZih2bS50aGVyZUFyZVRyYWNrcylcclxuXHRcdHtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IHZtLnRyYWNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG5cdFx0XHRcdHZhciB0cmFja19pZCA9IHZtLnRyYWNrc1tpXS5pZDtcclxuXHJcblx0XHRcdFx0aWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodHJhY2tfaWQpLmNoZWNrZWQpIFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdHdhdmVzdXJmZXJbdHJhY2tfaWRdID0gV2F2ZVN1cmZlci5jcmVhdGUoe1xyXG5cdFx0XHQgICAgXHRcdGNvbnRhaW5lcjogJyN3YXZlZm9ybScrdHJhY2tfaWQsXHJcblx0XHRcdCAgICBcdFx0d2F2ZUNvbG9yOiAnZ3JlZW4nLFxyXG5cdFx0XHQgICAgXHRcdHByb2dyZXNzQ29sb3I6ICdwdXJwbGUnXHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHR3YXZlc3VyZmVyW3RyYWNrX2lkXS5sb2FkKCdodHRwOi8vZGlzY292ZXJiYW5kYXBpLmludC9wdWJsaWMvYXBpL2F1ZGlvLycgKyB2bS50cmFja3NbaV0uZmlsZV91cmwpO1xyXG5cclxuXHRcdFx0XHRcdHZtLmxvYWRlZFRyYWNrcy5wdXNoKHtcclxuXHRcdCAgICAgICAgICAgIFx0dHJhY2tfaWQ6IHRyYWNrX2lkLFxyXG5cdFx0ICAgICAgICAgICAgXHR0cmltX2Ftb3VudDogMFxyXG5cdFx0ICAgICAgICBcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHR2bS5zaG93VHJhY2tzID0gdHJ1ZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZtLnBsYXlQYXVzZSA9IGZ1bmN0aW9uKGlkKSB7XHJcblx0XHRpZighd2F2ZXN1cmZlcltpZF0uaXNQbGF5aW5nKCkpXHJcblx0XHR7XHJcblx0XHRcdHZtLnNhdmVkVGltZVtpZF0gPSB3YXZlc3VyZmVyW2lkXS5nZXRDdXJyZW50VGltZSgpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyh2bS5zYXZlZFRpbWUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHdhdmVzdXJmZXJbaWRdLnBsYXlQYXVzZSgpO1xyXG5cdFx0d2F2ZXN1cmZlcltpZF0uem9vbSg1MCk7XHJcblx0fVxyXG5cclxuXHR2bS50cmltID0gZnVuY3Rpb24oaWQpIHtcclxuXHRcdHZhciB0aW1lVG9UcmltID0gd2F2ZXN1cmZlcltpZF0uZ2V0Q3VycmVudFRpbWUoKTtcclxuXHRcdGZvciAodmFyIGkgPSB2bS5sb2FkZWRUcmFja3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuXHRcdFx0aWYodm0ubG9hZGVkVHJhY2tzW2ldLnRyYWNrX2lkID09PSBpZClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHZtLmxvYWRlZFRyYWNrc1tpXS50cmltX2Ftb3VudCBcdD0gdGltZVRvVHJpbTtcclxuXHRcdFx0XHR2bS50cmltQW1vdW50c1tpZF0gXHRcdFx0XHQ9IE1hdGgucm91bmQodGltZVRvVHJpbSAqIDEwMCkgLyAxMDA7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHR2bS5wbGF5UGF1c2VBbGwgPSBmdW5jdGlvbigpIHtcclxuXHRcdGZvciAodmFyIGkgPSB2bS5sb2FkZWRUcmFja3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuXHRcdFx0dmFyIGlkID0gdm0ubG9hZGVkVHJhY2tzW2ldLnRyYWNrX2lkO1xyXG5cdFx0XHRpZighd2F2ZXN1cmZlcltpZF0uaXNQbGF5aW5nKCkpXHJcblx0XHRcdHtcclxuXHRcdFx0XHR2bS5zYXZlZFRpbWVbaWRdID0gd2F2ZXN1cmZlcltpZF0uZ2V0Q3VycmVudFRpbWUoKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyh2bS5zYXZlZFRpbWUpO1xyXG5cdFx0XHR9XHJcblxyXG4gICAgXHRcdHdhdmVzdXJmZXJbaWRdLnBsYXlQYXVzZSgpO1xyXG4gICAgXHRcdHdhdmVzdXJmZXJbaWRdLnpvb20oNTApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0dm0udG9QcmV2aW91cyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0Zm9yICh2YXIgaSA9IHZtLmxvYWRlZFRyYWNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG5cdFx0XHR2YXIgaWQgPSB2bS5sb2FkZWRUcmFja3NbaV0udHJhY2tfaWQ7XHJcblx0XHRcdHZhciBwcmV2aW91c1RpbWUgXHQ9IHZtLnNhdmVkVGltZVtpZF07XHJcblx0XHRcdHZhciB0b3RhbFRpbWVcdFx0PSB3YXZlc3VyZmVyW2lkXS5nZXREdXJhdGlvbigpO1xyXG5cdFx0XHR2YXIgcHJvZ3Jlc3MgPSBwcmV2aW91c1RpbWUgLyB0b3RhbFRpbWU7XHJcblx0XHRcdHdhdmVzdXJmZXJbaWRdLnNlZWtBbmRDZW50ZXIocHJvZ3Jlc3MpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0XHJcblx0dm0uc2F2ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0bWVyZ2VkU3ZjLm1lcmdlVHJhY2tzKHZtLmxvYWRlZFRyYWNrcylcclxuXHRcdC50aGVuKGZ1bmN0aW9uKGRhdGEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oXCJtZXJnZWRcIik7XHJcblxyXG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9KTtcclxuXHR9XHJcblxyXG5cdF9pbml0KCk7XHJcbn0pOyIsImFwcC5jb250cm9sbGVyKFwibWVyZ2VkQ29udHJvbGxlclwiLCBmdW5jdGlvbigkc2NvcGUsIG1lcmdlZFNlcnZpY2UsIGZpbHRlclNlcnZpY2UpIHtcclxuXHRcclxuXHR2YXIgdm0gIFx0XHQ9IHRoaXM7XHJcblx0dmFyIG1nZFN2YyBcdFx0PSBtZXJnZWRTZXJ2aWNlO1xyXG5cdHZhciBmbHRTdmMgXHRcdD0gZmlsdGVyU2VydmljZTtcclxuXHJcblx0Ly9Qcml2YXRlIGZ1bmN0aW9uc1xyXG5cdGZ1bmN0aW9uIHBsYXlBdWRpb0ZpbGUodHJhY2spXHJcblx0e1xyXG5cdFx0dHJhY2sucGxheSgpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZ2V0TWVyZ2VkVHJhY2tzKCkge1xyXG5cdFx0bWVyZ2VkU2VydmljZS5nZXRUcmFja3MoKVxyXG5cdFx0XHQudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0dm0ubWVyZ2VkVHJhY2tzID0gZGF0YS5kYXRhO1xyXG5cdFx0XHRcdHZtLmZpbHRlcmVkVHJhY2tzID0gdm0ubWVyZ2VkVHJhY2tzO1xyXG5cdFx0XHRcdGZpbHRlcigpO1xyXG5cclxuXHRcdFx0XHRhbmd1bGFyLmZvckVhY2godm0ubWVyZ2VkVHJhY2tzLCBmdW5jdGlvbih0cmFjaywga2V5KSB7XHJcblx0XHRcdFx0XHRcdG5ld1RyYWNrID0gbmV3IEF1ZGlvKCdodHRwOi8vZGlzY292ZXJiYW5kYXBpLmludC9wdWJsaWMvYXVkaW8vJyArIHRyYWNrLmZpbGVfdXJsKTtcclxuXHRcdFx0XHRcdFx0dm0ubWVyZ2VkVHJhY2tBdWRpb1t0cmFjay5pZF0gPSBuZXdUcmFjaztcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9LCBmdW5jdGlvbihlcnJvcikge1xyXG5cclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZmlsdGVyKCkge1xyXG5cdFx0XHJcblx0XHR2bS5maWx0ZXJlZFRyYWNrcyA9IFtdO1xyXG5cclxuXHRcdGFuZ3VsYXIuZm9yRWFjaCh2bS5tZXJnZWRUcmFja3MsIGZ1bmN0aW9uKHRyYWNrLCBrZXkpIHtcclxuXHJcblx0XHRcdGdvb2RTZWFyY2ggPSB0cnVlO1xyXG5cclxuXHRcdFx0aWYoIXZtLmZpbHRlckRhdGEuYXJ0aXN0ID09IFwiXCIgJiYgIXRyYWNrLmFydGlzdC5uYW1lLm1hdGNoKG5ldyBSZWdFeHAodm0uZmlsdGVyRGF0YS5hcnRpc3QsIFwiaVwiKSkpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRnb29kU2VhcmNoID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKCF2bS5maWx0ZXJEYXRhLnRpdGxlID09IFwiXCIgJiYgIXRyYWNrLnNvbmduYW1lLm1hdGNoKG5ldyBSZWdFeHAodm0uZmlsdGVyRGF0YS50aXRsZSwgXCJpXCIpKSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGdvb2RTZWFyY2ggPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdGlmKGdvb2RTZWFyY2gpXHJcblx0XHRcdHtcclxuXHRcdFx0XHR2bS5maWx0ZXJlZFRyYWNrcy5wdXNoKHRyYWNrKTtcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIF9pbml0KCkge1xyXG5cdFx0dm0ubWVyZ2VkVHJhY2tBdWRpbyA9IFtdO1xyXG5cdFx0dm0uY3VycmVudEF1ZGlvVHJhY2tJZCA9IFwiXCI7XHJcblxyXG5cdFx0Z2V0TWVyZ2VkVHJhY2tzKCk7XHJcblx0XHR2bS5maWx0ZXJEYXRhID0gZmx0U3ZjLm1lcmdlZEZpbHRlckRhdGE7XHJcblx0fVxyXG5cclxuXHQvL1ZtIGZ1bmN0aW9uc1xyXG5cdHZtLnBsYXkgPSBmdW5jdGlvbih0cmFja0lkKSB7XHJcblxyXG5cdFx0aWYodm0uY3VycmVudEF1ZGlvVHJhY2tJZCAhPSBcIlwiKSB7XHJcblx0XHRcdHZtLnBhdXNlKHZtLmN1cnJlbnRBdWRpb1RyYWNrSWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZtLmN1cnJlbnRBdWRpb1RyYWNrSWQgPSB0cmFja0lkO1xyXG5cdFx0dm0ubWVyZ2VkVHJhY2tBdWRpb1t0cmFja0lkXS5wbGF5KCk7XHJcblx0fVxyXG5cclxuXHR2bS5wYXVzZSA9IGZ1bmN0aW9uKHRyYWNrSWQpIHtcclxuXHRcdHZtLm1lcmdlZFRyYWNrQXVkaW9bdHJhY2tJZF0ucGF1c2UoKTtcclxuXHRcdHZtLmN1cnJlbnRBdWRpb1RyYWNrSWQgPSBcIlwiO1xyXG5cdH1cclxuXHJcblx0dm0uZG93bmxvYWQgPSBmdW5jdGlvbihpZCkge1xyXG4gICAgXHR3aW5kb3cub3BlbihDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgJy9tZXJnZWR0cmFja3MvJyArIGlkICsgJy9kb3dubG9hZCcsICdfYmxhbmsnLCAnJyk7ICBcclxuXHR9XHJcblxyXG5cclxuXHQvL1dhdGNoZXNcclxuXHQkc2NvcGUuJHdhdGNoKFxyXG5cdFx0ZnVuY3Rpb24gKCkgeyByZXR1cm4gdm0uZmlsdGVyRGF0YSB9LCBcclxuXHRcdGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdGlmKHZtLmZpbHRlckRhdGEpIFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZmlsdGVyKCk7XHJcblx0XHRcdH1cclxuXHRcdH0sIHRydWUpO1xyXG5cclxuXHJcblxyXG5cdC8vdm0udHJhY2sxID0gbmV3IEF1ZGlvKFwiZGlzdC9hdWRpby9CZWhlbW90aCAtIENvbnF1ZXIgQWxsIC0gRHJ1bS5tcDNcIik7XHJcblx0Ly92bS50cmFjazIgPSBuZXcgQXVkaW8oXCJkaXN0L2F1ZGlvL0JlaGVtb3RoIC0gQ29ucXVlciBBbGwgLSBHdWl0YXIubXAzXCIpO1xyXG5cclxuXHJcblx0X2luaXQoKTtcclxufSk7IiwiYXBwLmNvbnRyb2xsZXIoXCJwcm9maWxlQ29udHJvbGxlclwiLCBmdW5jdGlvbih1c2VyU2VydmljZSkge1xyXG5cdFxyXG5cdHZhciB2bSBcdFx0PSB0aGlzO1xyXG5cdHZhciB1c2VyU3ZjID0gdXNlclNlcnZpY2U7XHJcblx0dmFyIHRhcmdldCBcdD0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwZGF0ZS1wcm9maWxlLXNwaW5uZXInKTtcclxuXHJcblx0dmFyIG9wdHMgPSB7XHJcblx0XHRcdGxpbmVzOiAxMyAvLyBUaGUgbnVtYmVyIG9mIGxpbmVzIHRvIGRyYXdcclxuXHRcdCwgbGVuZ3RoOiAyOCAvLyBUaGUgbGVuZ3RoIG9mIGVhY2ggbGluZVxyXG5cdFx0LCB3aWR0aDogMTIgLy8gVGhlIGxpbmUgdGhpY2tuZXNzXHJcblx0XHQsIHJhZGl1czogNDIgLy8gVGhlIHJhZGl1cyBvZiB0aGUgaW5uZXIgY2lyY2xlXHJcblx0XHQsIHNjYWxlOiAwLjE1IC8vIFNjYWxlcyBvdmVyYWxsIHNpemUgb2YgdGhlIHNwaW5uZXJcclxuXHRcdCwgY29ybmVyczogMSAvLyBDb3JuZXIgcm91bmRuZXNzICgwLi4xKVxyXG5cdFx0LCBjb2xvcjogJyMwMDAnIC8vICNyZ2Igb3IgI3JyZ2diYiBvciBhcnJheSBvZiBjb2xvcnNcclxuXHRcdCwgb3BhY2l0eTogMC4yNSAvLyBPcGFjaXR5IG9mIHRoZSBsaW5lc1xyXG5cdFx0LCByb3RhdGU6IDAgLy8gVGhlIHJvdGF0aW9uIG9mZnNldFxyXG5cdFx0LCBkaXJlY3Rpb246IDEgLy8gMTogY2xvY2t3aXNlLCAtMTogY291bnRlcmNsb2Nrd2lzZVxyXG5cdFx0LCBzcGVlZDogMSAvLyBSb3VuZHMgcGVyIHNlY29uZFxyXG5cdFx0LCB0cmFpbDogNjAgLy8gQWZ0ZXJnbG93IHBlcmNlbnRhZ2VcclxuXHRcdCwgZnBzOiAyMCAvLyBGcmFtZXMgcGVyIHNlY29uZCB3aGVuIHVzaW5nIHNldFRpbWVvdXQoKSBhcyBhIGZhbGxiYWNrIGZvciBDU1NcclxuXHRcdCwgekluZGV4OiAyZTkgLy8gVGhlIHotaW5kZXggKGRlZmF1bHRzIHRvIDIwMDAwMDAwMDApXHJcblx0XHQsIGNsYXNzTmFtZTogJ3NwaW5uZXInIC8vIFRoZSBDU1MgY2xhc3MgdG8gYXNzaWduIHRvIHRoZSBzcGlubmVyXHJcblx0XHQsIHRvcDogJzg5JScgLy8gVG9wIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG5cdFx0LCBsZWZ0OiAnMjUuNSUnIC8vIExlZnQgcG9zaXRpb24gcmVsYXRpdmUgdG8gcGFyZW50XHJcblx0XHQsIHNoYWRvdzogZmFsc2UgLy8gV2hldGhlciB0byByZW5kZXIgYSBzaGFkb3dcclxuXHRcdCwgaHdhY2NlbDogZmFsc2UgLy8gV2hldGhlciB0byB1c2UgaGFyZHdhcmUgYWNjZWxlcmF0aW9uXHJcblx0XHQsIHBvc2l0aW9uOiAnYWJzb2x1dGUnIC8vIEVsZW1lbnQgcG9zaXRpb25pbmdcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIF9pbml0KCkge1xyXG5cdFx0dXNlclN2Yy5nZXRVc2VyKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHR2bS51c2VybmFtZSA9IGRhdGEuZGF0YS51c2VybmFtZTtcclxuXHRcdFx0dm0uZW1haWwgXHQ9IGRhdGEuZGF0YS5lbWFpbDtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0dm0udXBkYXRlID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgc3Bpbm5lciA9IG5ldyBTcGlubmVyKG9wdHMpLnNwaW4odGFyZ2V0KTtcclxuXHQgICAgdm0ubG9hZGluZyBcdD0gdHJ1ZTtcclxuXHJcblx0XHR2YXIgdXNlcmluZm8gPSB7XHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiB2bS51c2VybmFtZSxcclxuICAgICAgICAgICAgZW1haWw6IHZtLmVtYWlsXHJcbiAgICAgICAgfVxyXG5cclxuXHRcdHVzZXJTdmMudXBkYXRlVXNlcih1c2VyaW5mbylcclxuXHRcdFx0LnRoZW4oZnVuY3Rpb24oZGF0YSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHNwaW5uZXIuc3RvcCgpO1xyXG5cdFx0XHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0fSwgZnVuY3Rpb24oZXJyb3IpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRzcGlubmVyLnN0b3AoKTtcclxuXHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0X2luaXQoKTtcclxufSk7IiwiYXBwLmNvbnRyb2xsZXIoXCJzb2xvQ29udHJvbGxlclwiLCBmdW5jdGlvbigkc2NvcGUsIGJhbmRTZXJ2aWNlLCBzb2xvU2VydmljZSwgaW5zdHJ1bWVudFNlcnZpY2UsIGZpbHRlclNlcnZpY2UpIHtcclxuXHRcclxuXHR2YXIgdm0gPSB0aGlzO1xyXG5cdHZhciBiYW5kU3ZjID0gYmFuZFNlcnZpY2U7XHJcblx0dmFyIHNvbG9TdmMgPSBzb2xvU2VydmljZTtcclxuXHR2YXIgaW5zdFN2YyA9IGluc3RydW1lbnRTZXJ2aWNlO1xyXG5cdHZhciBmbHRTdmMgPSBmaWx0ZXJTZXJ2aWNlO1xyXG5cclxuXHQvL1ByaXZhdGUgZnVuY3Rpb25zXHJcblx0ZnVuY3Rpb24gcGxheUF1ZGlvRmlsZSh0cmFjaylcclxuXHR7XHJcblx0XHR0cmFjay5wbGF5KCk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBnZXRTb2xvVHJhY2tzKClcclxuXHR7XHJcblx0XHRzb2xvU3ZjLmdldFRyYWNrcygpXHJcblx0XHRcdC50aGVuKGZ1bmN0aW9uKGRhdGEpXHJcblx0XHRcdHtcclxuXHRcdFx0XHR2bS5zb2xvVHJhY2tzID0gZGF0YS5kYXRhO1xyXG5cdFx0XHRcdHZtLmZpbHRlcmVkVHJhY2tzID0gdm0uc29sb1RyYWNrcztcclxuXHRcdFx0XHRmaWx0ZXIoKTtcclxuXHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHZtLnNvbG9UcmFja3MsIGZ1bmN0aW9uKHRyYWNrLCBrZXkpIHtcclxuXHRcdFx0XHRcdFx0Ly9uZXdUcmFjayA9IG5ldyBBdWRpbyh0cmFjay5maWxlX3VybCk7XHJcblx0XHRcdFx0XHRcdG5ld1RyYWNrID0gbmV3IEF1ZGlvKCdodHRwOi8vZGlzY292ZXJiYW5kYXBpLmludC9wdWJsaWMvYXVkaW8vJyArIHRyYWNrLmZpbGVfdXJsKTtcclxuXHRcdFx0XHRcdFx0dm0uc29sb1RyYWNrQXVkaW9bdHJhY2suaWRdID0gbmV3VHJhY2s7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdH0sIGZ1bmN0aW9uKGVycm9yKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGZpbHRlcigpXHJcblx0e1xyXG5cdFx0dm0uZmlsdGVyZWRUcmFja3MgPSBbXTtcclxuXHJcblx0XHRhbmd1bGFyLmZvckVhY2godm0uc29sb1RyYWNrcywgZnVuY3Rpb24odHJhY2ssIGtleSlcclxuXHRcdHtcclxuXHRcdFx0Z29vZFNlYXJjaCA9IHRydWU7XHJcblxyXG5cdFx0XHRpZighdm0uZmlsdGVyRGF0YS5hcnRpc3QgPT0gXCJcIiAmJiAhdHJhY2suYXJ0aXN0Lm5hbWUubWF0Y2gobmV3IFJlZ0V4cCh2bS5maWx0ZXJEYXRhLmFydGlzdCwgXCJpXCIpKSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGdvb2RTZWFyY2ggPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYoIXZtLmZpbHRlckRhdGEudGl0bGUgPT0gXCJcIiAmJiAhdHJhY2suc29uZ25hbWUubWF0Y2gobmV3IFJlZ0V4cCh2bS5maWx0ZXJEYXRhLnRpdGxlLCBcImlcIikpKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Z29vZFNlYXJjaCA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZighdm0uZmlsdGVyRGF0YVt0cmFjay5pbnN0cnVtZW50X2lkXSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGdvb2RTZWFyY2ggPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdGlmKGdvb2RTZWFyY2gpXHJcblx0XHRcdHtcclxuXHRcdFx0XHR2bS5maWx0ZXJlZFRyYWNrcy5wdXNoKHRyYWNrKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYodm0uZmlsdGVyZWRUcmFja3MubGVuZ3RoID09PSAwKSBcclxuXHRcdHtcclxuXHRcdFx0dm0uc2hvd05vUmVzdWx0c0ZvdW5kID0gdHJ1ZTtcclxuXHRcdH1cclxuXHRcdGVsc2VcclxuXHRcdHtcclxuXHRcdFx0dm0uc2hvd05vUmVzdWx0c0ZvdW5kID0gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKmZ1bmN0aW9uIGFycmF5T2JqZWN0SW5kZXhPZihteUFycmF5LCBzZWFyY2hUZXJtLCBwcm9wZXJ0eSkge1xyXG4gICAgXHRcclxuICAgIFx0Zm9yKHZhciBpID0gMCwgbGVuID0gbXlBcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIFx0aWYgKG15QXJyYXlbaV1bcHJvcGVydHldID09PSBzZWFyY2hUZXJtKSByZXR1cm4gaTtcclxuICAgIFx0fVxyXG5cclxuICAgIFx0cmV0dXJuIC0xO1xyXG5cdH0qL1xyXG5cclxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdHZtLnNvbG9UcmFja0F1ZGlvIFx0XHQ9IFtdO1xyXG5cdFx0dm0uY3VycmVudEF1ZGlvVHJhY2tJZCBcdD0gXCJcIjtcclxuXHRcdHZtLnNob3dOb1Jlc3VsdHNGb3VuZCBcdD0gZmFsc2U7XHJcblxyXG5cdFx0aW5zdFN2Yy5nZXRJbnN0cnVtZW50cygpXHJcblx0XHRcdC50aGVuKGZ1bmN0aW9uKGRhdGEpXHJcblx0XHRcdHtcclxuXHRcdFx0XHR2bS5pbnN0cnVtZW50cyA9IGRhdGEuZGF0YTtcclxuXHRcdFx0fSwgZnVuY3Rpb24oZXJyb3IpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdGdldFNvbG9UcmFja3MoKTtcclxuXHRcdHZtLmZpbHRlckRhdGEgXHRcdFx0PSBmbHRTdmMuc29sb0ZpbHRlckRhdGE7XHJcblx0XHR2bS50cmFja0FycmF5IFx0XHRcdD0gYmFuZFN2Yy5nZXRUcmFja0FycmF5O1xyXG5cdFx0dm0uYmFuZFRyYWNrSWRBcnJheSBcdD0gYmFuZFN2Yy5nZXRUcmFja0lkQXJyYXk7XHJcblx0XHR2bS50cmFja0FycmF5Q291bnQgXHRcdD0gYmFuZFN2Yy5nZXRUcmFja0FycmF5Q291bnQ7XHRcclxuXHR9XHJcblxyXG5cdC8vVm0gZnVuY3Rpb25zXHJcblx0dm0uYWRkVG9CYW5kID0gZnVuY3Rpb24odHJhY2spIHtcclxuXHJcblx0XHRiYW5kU3ZjLmFkZFRvVHJhY2tBcnJheSh0cmFjayk7XHJcblx0XHQvKnZtLmJhbmRUcmFja0lkQXJyYXkgPSBbXTtcclxuXHJcblx0XHRiYW5kU3ZjLnRyYWNrQXJyYXkucHVzaCh0cmFjayk7XHJcblx0XHRiYW5kU3ZjLnRyYWNrQXJyYXlDb3VudCArKztcclxuXHRcdGFuZ3VsYXIuZm9yRWFjaChiYW5kU3ZjLnRyYWNrQXJyYXksIGZ1bmN0aW9uKHRyYWNrLCBrZXkpIHtcclxuXHRcdFx0dm0uYmFuZFRyYWNrSWRBcnJheS5wdXNoKHRyYWNrLmlkKTtcclxuXHRcdH0pOyovXHJcblxyXG5cdFx0Y29uc29sZS5sb2codHJhY2spO1xyXG5cdH1cclxuXHJcblx0dm0ucmVtb3ZlRnJvbUJhbmQgPSBmdW5jdGlvbih0cmFjaykge1xyXG5cdFx0XHJcblx0XHRiYW5kU3ZjLnJlbW92ZUZyb21UcmFja0FycmF5KHRyYWNrKTtcclxuXHRcdC8qaW5kZXggPSBhcnJheU9iamVjdEluZGV4T2YoYmFuZFN2Yy50cmFja0FycmF5LCB0cmFjay5pZCwgXCJpZFwiKTtcclxuXHRcdGlmIChpbmRleCA+IC0xKSB7XHJcblx0XHRcdGJhbmRTdmMudHJhY2tBcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHRiYW5kU3ZjLnRyYWNrQXJyYXlDb3VudCAtLTtcclxuXHRcdFx0dm0uYmFuZFRyYWNrQXJyYXkgPSBiYW5kU3ZjLnRyYWNrQXJyYXk7XHJcblxyXG5cdFx0XHRpbnRJbmRleCA9IHZtLmJhbmRUcmFja0lkQXJyYXkuaW5kZXhPZih0cmFjay5pZCk7XHJcblx0XHRcdGlmIChpbnRJbmRleCA+IC0xKSB7XHJcblx0XHRcdFx0dm0uYmFuZFRyYWNrSWRBcnJheS5zcGxpY2UoaW50SW5kZXgsIDEpO1xyXG5cdFx0XHR9XHJcblx0XHR9Ki9cclxuXHJcblx0XHRjb25zb2xlLmxvZyhcIlRyYWNrIHJlbW92ZWQgZnJvbSBuZXcgYmFuZDogXCIgKyB0cmFjayk7XHJcblx0XHQvL2NvbnNvbGUubG9nKGJhbmRTdmMudHJhY2tBcnJheSk7XHJcblx0fVxyXG5cclxuXHR2bS5wbGF5ID0gZnVuY3Rpb24odHJhY2tJZCkge1xyXG5cclxuXHRcdGlmKHZtLmN1cnJlbnRBdWRpb1RyYWNrSWQgIT0gXCJcIikge1xyXG5cdFx0XHR2bS5wYXVzZSh2bS5jdXJyZW50QXVkaW9UcmFja0lkKTtcclxuXHRcdH1cclxuXHJcblx0XHR2bS5jdXJyZW50QXVkaW9UcmFja0lkID0gdHJhY2tJZDtcclxuXHRcdHZtLnNvbG9UcmFja0F1ZGlvW3RyYWNrSWRdLnBsYXkoKTtcclxuXHR9XHJcblxyXG5cdHZtLnBhdXNlID0gZnVuY3Rpb24odHJhY2tJZCkge1xyXG5cdFx0dm0uc29sb1RyYWNrQXVkaW9bdHJhY2tJZF0ucGF1c2UoKTtcclxuXHRcdHZtLmN1cnJlbnRBdWRpb1RyYWNrSWQgPSBcIlwiO1xyXG5cdH1cclxuXHJcblx0Ly9XYXRjaGVzXHJcblx0JHNjb3BlLiR3YXRjaChcclxuXHRcdGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZtLmZpbHRlckRhdGEgfSwgXHJcblx0XHRmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmKHZtLmZpbHRlckRhdGEpIFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZmlsdGVyKCk7XHRcdFxyXG5cdFx0XHR9XHJcblx0XHR9LCB0cnVlKTtcclxuXHJcblx0X2luaXQoKTtcclxufSk7IiwiYXBwLmNvbnRyb2xsZXIoXCJ1cGxvYWRDb250cm9sbGVyXCIsIGZ1bmN0aW9uKFVwbG9hZCwgYXJ0aXN0U2VydmljZSwgaW5zdHJ1bWVudFNlcnZpY2UsIHNvbG9TZXJ2aWNlLCAkc3RhdGUpIHtcclxuICBcclxuICB2YXIgdm0gICAgICAgICAgICA9IHRoaXM7XHJcbiAgdmFyIHNvbG9TdmMgICAgICAgPSBzb2xvU2VydmljZTtcclxuICB2YXIgYXJ0aXN0U3ZjICAgICA9IGFydGlzdFNlcnZpY2U7XHJcbiAgdmFyIGluc3RydW1lbnRTdmMgPSBpbnN0cnVtZW50U2VydmljZTtcclxuICB2YXIgdGFyZ2V0ICAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGxvYWQtc3Bpbm5lcicpO1xyXG4gIFxyXG4gIHZhciBvcHRzID0ge1xyXG4gICAgICBsaW5lczogMTMgLy8gVGhlIG51bWJlciBvZiBsaW5lcyB0byBkcmF3XHJcbiAgICAsIGxlbmd0aDogMjggLy8gVGhlIGxlbmd0aCBvZiBlYWNoIGxpbmVcclxuICAgICwgd2lkdGg6IDEyIC8vIFRoZSBsaW5lIHRoaWNrbmVzc1xyXG4gICAgLCByYWRpdXM6IDQyIC8vIFRoZSByYWRpdXMgb2YgdGhlIGlubmVyIGNpcmNsZVxyXG4gICAgLCBzY2FsZTogMC4zMCAvLyBTY2FsZXMgb3ZlcmFsbCBzaXplIG9mIHRoZSBzcGlubmVyXHJcbiAgICAsIGNvcm5lcnM6IDEgLy8gQ29ybmVyIHJvdW5kbmVzcyAoMC4uMSlcclxuICAgICwgY29sb3I6ICcjMDAwJyAvLyAjcmdiIG9yICNycmdnYmIgb3IgYXJyYXkgb2YgY29sb3JzXHJcbiAgICAsIG9wYWNpdHk6IDAuMjUgLy8gT3BhY2l0eSBvZiB0aGUgbGluZXNcclxuICAgICwgcm90YXRlOiAwIC8vIFRoZSByb3RhdGlvbiBvZmZzZXRcclxuICAgICwgZGlyZWN0aW9uOiAxIC8vIDE6IGNsb2Nrd2lzZSwgLTE6IGNvdW50ZXJjbG9ja3dpc2VcclxuICAgICwgc3BlZWQ6IDEgLy8gUm91bmRzIHBlciBzZWNvbmRcclxuICAgICwgdHJhaWw6IDYwIC8vIEFmdGVyZ2xvdyBwZXJjZW50YWdlXHJcbiAgICAsIGZwczogMjAgLy8gRnJhbWVzIHBlciBzZWNvbmQgd2hlbiB1c2luZyBzZXRUaW1lb3V0KCkgYXMgYSBmYWxsYmFjayBmb3IgQ1NTXHJcbiAgICAsIHpJbmRleDogMmU5IC8vIFRoZSB6LWluZGV4IChkZWZhdWx0cyB0byAyMDAwMDAwMDAwKVxyXG4gICAgLCBjbGFzc05hbWU6ICdzcGlubmVyJyAvLyBUaGUgQ1NTIGNsYXNzIHRvIGFzc2lnbiB0byB0aGUgc3Bpbm5lclxyXG4gICAgLCB0b3A6ICc0MCUnIC8vIFRvcCBwb3NpdGlvbiByZWxhdGl2ZSB0byBwYXJlbnRcclxuICAgICwgbGVmdDogJzUwJScgLy8gTGVmdCBwb3NpdGlvbiByZWxhdGl2ZSB0byBwYXJlbnRcclxuICAgICwgc2hhZG93OiBmYWxzZSAvLyBXaGV0aGVyIHRvIHJlbmRlciBhIHNoYWRvd1xyXG4gICAgLCBod2FjY2VsOiBmYWxzZSAvLyBXaGV0aGVyIHRvIHVzZSBoYXJkd2FyZSBhY2NlbGVyYXRpb25cclxuICAgICwgcG9zaXRpb246ICdhYnNvbHV0ZScgLy8gRWxlbWVudCBwb3NpdGlvbmluZ1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gX2luaXQoKSB7XHJcbiAgICAgIHZtLnVwbG9hZGVkICAgICAgID0gZmFsc2U7XHJcbiAgICAgIHZtLnNob3dmb3JtICAgICAgID0gZmFsc2U7XHJcblxyXG4gICAgICB2bS5pbnN0cnVtZW50cyAgICA9IGluc3RydW1lbnRTdmMuZ2V0SW5zdHJ1bWVudHMoKVxyXG4gICAgICAudGhlbihmdW5jdGlvbihkYXRhKVxyXG4gICAgICB7XHJcbiAgICAgICAgdm0uaW5zdHJ1bWVudHMgID0gZGF0YS5kYXRhO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YSk7XHJcbiAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKVxyXG4gICAgICB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHZtLmFydGlzdHMgICAgICAgID0gYXJ0aXN0U3ZjLmdldEFydGlzdHMoKVxyXG4gICAgICAudGhlbihmdW5jdGlvbihkYXRhKVxyXG4gICAgICB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhKTtcclxuICAgICAgICB2bS5hcnRpc3RzICAgICAgPSBkYXRhLmRhdGE7XHJcbiAgICAgIFxyXG4gICAgICB9LCBmdW5jdGlvbihlcnJvcilcclxuICAgICAge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICB2bS51cGxvYWRGaWxlID0gZnVuY3Rpb24gKGZpbGUpIHtcclxuICAgICAgICB2YXIgc3Bpbm5lciA9IG5ldyBTcGlubmVyKG9wdHMpLnNwaW4odGFyZ2V0KTtcclxuICAgICAgICB2bS5sb2FkaW5nICA9IHRydWU7XHJcbiAgICAgICAgdm0udXBsb2FkZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBmb3JtXHJcbiAgICAgICAgdm0uc2hvd2Zvcm0gICAgID0gdHJ1ZTtcclxuICAgICAgICAkKCdzZWxlY3QnKS5tYXRlcmlhbF9zZWxlY3QoKTtcclxuXHJcbiAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArIFwiL3VwbG9hZFwiLFxyXG4gICAgICAgICAgICBmaWxlRm9ybURhdGFOYW1lOiAnc29uZycsXHJcbiAgICAgICAgICAgIHNlbmRGaWVsZHNBczogJ2Zvcm0nLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgc29uZzogZmlsZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcCkge1xyXG4gICAgICAgICAgICB2bS5maWxlbmFtZSAgICAgPSByZXNwLmRhdGEubmFtZTtcclxuICAgICAgICAgICAgdm0udHJhY2tsZW5ndGggID0gcmVzcC5kYXRhLmxlbmd0aDtcclxuICAgICAgICAgICAgc3Bpbm5lci5zdG9wKCk7XHJcbiAgICAgICAgICAgIHZtLmxvYWRpbmcgICAgICA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2bS51cGxvYWRlZCAgICAgPSB0cnVlO1xyXG4gICAgICAgIH0sIFxyXG4gICAgICAgIGZ1bmN0aW9uIChyZXNwKSB7XHJcbiAgICAgICAgICAgIHZtLmxvYWRpbmcgID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHNwaW5uZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3InKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uc2F2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHVzZXJfaWQgPSBKU09OLnBhcnNlKGdldENvb2tpZSgndXNlcicpKS51c2VySWQ7XHJcbiAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICAgICBuYW1lOiB2bS5zb25nbmFtZSxcclxuICAgICAgICAgICAgZmlsZV91cmw6IHZtLmZpbGVuYW1lLFxyXG4gICAgICAgICAgICB0cmFja19sZW5ndGg6IHZtLnRyYWNrbGVuZ3RoLFxyXG4gICAgICAgICAgICB1c2VyX2lkOiB1c2VyX2lkLFxyXG4gICAgICAgICAgICBpbnN0cnVtZW50X2lkOiB2bS5pbnN0cnVtZW50c2Ryb3Bkb3duLFxyXG4gICAgICAgICAgICBhcnRpc3RfaWQgOiB2bS5hcnRpc3RzZHJvcGRvd25cclxuICAgICAgICB9XHJcblxyXG4gICAgICBzb2xvU3ZjLmluc2VydFRyYWNrKGRhdGEpXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oXCJzb2xvXCIpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldENvb2tpZShjbmFtZSkge1xyXG4gICAgICAgICAgdmFyIG5hbWUgPSBjbmFtZSArIFwiPVwiO1xyXG4gICAgICAgICAgdmFyIGRlY29kZWRDb29raWUgPSBkZWNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQuY29va2llKTtcclxuICAgICAgICAgIHZhciBjYSA9IGRlY29kZWRDb29raWUuc3BsaXQoJzsnKTtcclxuICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPGNhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGMgPSBjYVtpXTtcclxuICAgICAgICAgICAgICB3aGlsZSAoYy5jaGFyQXQoMCkgPT0gJyAnKSB7XHJcbiAgICAgICAgICAgICAgICAgIGMgPSBjLnN1YnN0cmluZygxKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKGMuaW5kZXhPZihuYW1lKSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjLnN1YnN0cmluZyhuYW1lLmxlbmd0aCwgYy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICB9XHJcbiAgX2luaXQoKTtcclxufSk7IiwiYXBwLmZpbHRlcihcImJhbmRcIiwgZnVuY3Rpb24oKSB7XG5cdHJldHVybiBmdW5jdGlvbih0cmFja0lkLCBsaXN0KSB7XG5cdFx0dmFyIHJldHVyblZhbHVlID0gZmFsc2U7XG5cdFx0XG5cdFx0YW5ndWxhci5mb3JFYWNoKGxpc3QsIGZ1bmN0aW9uKGlkLCBpbmRleCkge1xuXHRcdFx0aWYoaWQgPT0gdHJhY2tJZCkge1xuXHRcdFx0XHRyZXR1cm5WYWx1ZSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHJldHVyblZhbHVlO1xuXHR9XG59KTsiLCJhcHAuc2VydmljZShcImFydGlzdFNlcnZpY2VcIiwgZnVuY3Rpb24oJGh0dHApIHtcclxuXHRcclxuXHQvL0dsb2JhbHNcclxuXHR2YXIgc3ZjIFx0XHRcdD0gdGhpcztcclxuXHJcblx0Ly9Qcml2YXRlIGZ1bmN0aW9uc1xyXG5cdGZ1bmN0aW9uIGdldERhdGEgKHVybCwgb3B0aW9ucykge1xyXG5cclxuXHRcdCFvcHRpb25zID8gb3B0aW9ucyA9IHt9IDogXCJcIjtcclxuXHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KHVybCwgb3B0aW9ucylcclxuXHR9XHJcblxyXG5cdC8vU3ZjIGZ1bmN0aW9uc1xyXG5cdHN2Yy5nZXRBcnRpc3RzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdHZhciB1cmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvYXJ0aXN0c1wiO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gZ2V0RGF0YSh1cmwpO1xyXG5cdH1cclxufSkiLCJhcHAuc2VydmljZShcImF1dGhTZXJ2aWNlXCIsIGZ1bmN0aW9uICgkYXV0aCwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRzdGF0ZSwgdXNlclNlcnZpY2UpIHtcclxuXHRcclxuXHR2YXIgc3ZjIFx0XHQ9IHRoaXM7XHJcblx0dmFyIHVzZXJTdmMgXHQ9IHVzZXJTZXJ2aWNlO1xyXG5cclxuXHRzdmMuaXNMb2dnZWRJbiBcdD0gZmFsc2U7XHJcblxyXG5cdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRmdW5jdGlvbiBsb2dpbiAodG9rZW4sIGlkLCB1c2VybmFtZSwgZW1haWwpIHtcclxuXHJcblx0XHR2YXIgZXhwaXJhdGlvblRpbWUgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0ZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZS5zZXRUaW1lKGV4cGlyYXRpb25UaW1lLmdldFRpbWUoKSArICh0b2tlbltcImV4cGlyZXNfaW5cIl0gKiAxMDAwKSk7XHJcblx0XHRleHBpcmF0aW9uVGltZSA9IG5ldyBEYXRlKGV4cGlyYXRpb25UaW1lKTtcclxuXHJcblx0XHR2YXIgdXNlckRhdGEgPSB7XHJcblxyXG5cdFx0XHR0b2tlbjogdG9rZW4sXHJcblx0XHRcdHVzZXJJZDogaWQsXHJcblx0XHRcdHVzZXJuYW1lOiB1c2VybmFtZSxcclxuXHRcdFx0ZW1haWw6IGVtYWlsLFxyXG5cdFx0XHQvL2lzQWRtaW46IGRhdGEuZGF0YS5pc0FkbWluXHJcblx0XHR9XHJcblxyXG5cdFx0Ly9jb25zb2xlLmxvZyh1c2VyRGF0YS50b2tlbik7XHJcblxyXG5cdFx0c3ZjLnVzZXIgPSB1c2VyRGF0YTtcclxuXHJcblx0XHQkY29va2llcy5wdXRPYmplY3QoXCJ1c2VyXCIsIHVzZXJEYXRhLCB7IGV4cGlyZXM6IGV4cGlyYXRpb25UaW1lIH0pO1xyXG5cdFx0JHJvb3RTY29wZS5pc0xvZ2dlZEluID0gdHJ1ZTtcclxuXHRcdFxyXG5cdFx0Ly9DaGVjayBpZiByZXR1cm5lZCB1c2VyIGlzIEFkbWluXHJcblx0XHR1c2VyRGF0YS5pc0FkbWluID09IFwiMVwiID8gJHJvb3RTY29wZS5pc0FkbWluID0gdHJ1ZSA6ICRyb290U2NvcGUuaXNBZG1pbiA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0Ly9TdmMgZnVuY3Rpb25zXHJcblx0c3ZjLmxvZ2luID0gZnVuY3Rpb24gKGNyZWRlbnRpYWxzKSB7XHJcblxyXG5cdFx0JGF1dGgubG9naW4oY3JlZGVudGlhbHMpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIFx0Ly8gQXV0aGVudGljYXRpb24gc3VjY2Vzc1xyXG4gICAgICAgIFx0dG9rZW4gXHRcdD0gZGF0YS5kYXRhLnRva2VuO1xyXG4gICAgICAgIFx0aWQgXHRcdFx0PSAwO1xyXG4gICAgICAgIFx0dXNlcm5hbWUgXHQ9IFwiXCI7XHJcbiAgICAgICAgXHRlbWFpbCBcdFx0PSBcIlwiO1xyXG5cclxuXHRcdFx0dXNlclN2Yy5nZXRVc2VyKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHRcdGlkIFx0XHRcdD0gZGF0YS5kYXRhLmlkO1xyXG5cdFx0XHRcdHVzZXJuYW1lIFx0PSBkYXRhLmRhdGEudXNlcm5hbWU7XHJcblx0XHRcdFx0ZW1haWwgXHRcdD0gZGF0YS5kYXRhLmVtYWlsO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGxvZ2luKHRva2VuLCBpZCwgdXNlcm5hbWUsIGVtYWlsKTtcclxuXHRcdFx0XHRzdmMuaXNMb2dnZWRJbiA9IHRydWU7XHJcblx0XHRcdH0sIGZ1bmN0aW9uKGVycm9yKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xyXG5cdFx0XHRcdHN2Yy5pc0xvZ2dlZEluID0gZmFsc2U7XHJcblx0XHRcdH0pO1xyXG4gICAgICAgIH0sIFxyXG4gICAgICAgIGZ1bmN0aW9uKGVycm9yKXtcclxuICAgICAgICBcdC8vIEF1dGhlbnRpY2F0aW9uIGZhaWxlZFxyXG4gICAgICAgIFx0Y29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIFx0c3ZjLmlzTG9nZ2VkSW4gPSBmYWxzZTsgXHJcbiAgICAgICAgfSk7XHJcblx0fVxyXG5cclxuXHRzdmMubG9nb3V0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0JGF1dGgubG9nb3V0KClcclxuXHRcdFx0LnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcblx0XHRcdFx0JHJvb3RTY29wZS5pc0xvZ2dlZEluID0gZmFsc2U7XHJcblx0XHRcdFx0JHJvb3RTY29wZS5pc0FkbWluID0gZmFsc2U7XHJcblx0XHRcdFx0c3ZjLnVzZXIgPSBudWxsO1xyXG5cdFx0XHRcdHN2Yy5pc0xvZ2dlZEluID0gbnVsbDtcclxuXHJcblx0XHRcdFx0JGNvb2tpZXMucmVtb3ZlKFwidXNlclwiKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQkc3RhdGUuZ28oXCJob21lXCIpO1xyXG5cdFx0XHR9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuXHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xyXG5cdFx0XHR9KVxyXG5cdH1cclxuXHJcblx0c3ZjLnJlZ2lzdGVyID0gZnVuY3Rpb24gKHVzZXIpIHtcclxuXHJcblx0XHR2YXIgdXJsID0gQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArIFwiL3VzZXJcIjtcclxuXHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdCh1cmwsIHVzZXIpO1xyXG5cdH1cclxufSk7IiwiYXBwLnNlcnZpY2UoXCJiYW5kU2VydmljZVwiLCBmdW5jdGlvbigpIHtcclxuXHRcclxuXHR2YXIgc3ZjID0gdGhpcztcclxuXHJcblx0dHJhY2tBcnJheSA9IFtdO1xyXG5cdHRyYWNrSWRBcnJheSA9IFtdO1xyXG5cdHRyYWNrQXJyYXlDb3VudCA9IDA7XHJcblxyXG5cdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRmdW5jdGlvbiBhcnJheU9iamVjdEluZGV4T2YobXlBcnJheSwgc2VhcmNoVGVybSwgcHJvcGVydHkpIHtcclxuICAgIFx0XHJcbiAgICBcdGZvcih2YXIgaSA9IDAsIGxlbiA9IG15QXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBcdGlmIChteUFycmF5W2ldW3Byb3BlcnR5XSA9PT0gc2VhcmNoVGVybSkgcmV0dXJuIGk7XHJcbiAgICBcdH1cclxuXHJcbiAgICBcdHJldHVybiAtMTtcclxuXHR9XHJcblx0Ly9UcmFja0FycmF5Q291bnRcclxuXHRmdW5jdGlvbiBpbmNyZW1lbnRUcmFja0FycmF5Q291bnQoKSB7XHJcblx0XHR0cmFja0FycmF5Q291bnQgKys7XHJcblx0XHRyZXR1cm4gdHJhY2tBcnJheUNvdW50O1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZGVjcmVtZW50VHJhY2tBcnJheUNvdW50KCkge1xyXG5cdFx0dHJhY2tBcnJheUNvdW50IC0tO1xyXG5cdFx0cmV0dXJuIHRyYWNrQXJyYXlDb3VudDtcclxuXHR9XHJcblxyXG5cdC8vVHJhY2tJZEFycmF5XHJcblx0ZnVuY3Rpb24gYWRkVG9UcmFja0lkQXJyYXkodHJhY2tJZCkge1xyXG5cdFx0dHJhY2tJZEFycmF5LnB1c2godHJhY2tJZCk7XHJcblx0XHRyZXR1cm4gdHJhY2tJZEFycmF5O1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gcmVtb3ZlRnJvbVRyYWNrSWRBcnJheSh0cmFja0lkKSB7XHJcblx0XHRpbmRleCA9IHRyYWNrSWRBcnJheS5pbmRleE9mKHRyYWNrSWQpO1xyXG5cdFx0aWYoaW5kZXggPiAtMSkge1xyXG5cdFx0XHR0cmFja0lkQXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJhY2tJZEFycmF5O1xyXG5cdH1cclxuXHJcblx0Ly9TdmMgZnVuY3Rpb25zXHJcblx0c3ZjLmdldFRyYWNrQXJyYXlDb3VudCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRyYWNrQXJyYXlDb3VudDtcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRUcmFja0lkQXJyYXkgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiB0cmFja0lkQXJyYXk7XHJcblx0fVxyXG5cclxuXHJcblx0c3ZjLmFkZFRvVHJhY2tBcnJheSA9IGZ1bmN0aW9uKHRyYWNrKSB7XHJcblx0XHR0cmFja0FycmF5LnB1c2godHJhY2spO1xyXG5cdFx0aW5jcmVtZW50VHJhY2tBcnJheUNvdW50KCk7XHJcblx0XHRhZGRUb1RyYWNrSWRBcnJheSh0cmFjay5pZCk7XHJcblx0XHRyZXR1cm4gdHJhY2tBcnJheTtcclxuXHR9XHJcblxyXG5cdHN2Yy5yZW1vdmVGcm9tVHJhY2tBcnJheSA9IGZ1bmN0aW9uKHRyYWNrKSB7XHJcblx0XHRpbmRleCA9IGFycmF5T2JqZWN0SW5kZXhPZih0cmFja0FycmF5LCB0cmFjay5pZCwgXCJpZFwiKTtcclxuXHRcdGlmKGluZGV4ID4gLTEpIHtcclxuXHRcdFx0dHJhY2tBcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRkZWNyZW1lbnRUcmFja0FycmF5Q291bnQoKTtcclxuXHRcdHJlbW92ZUZyb21UcmFja0lkQXJyYXkodHJhY2suaWQpO1xyXG5cdFx0cmV0dXJuIHRyYWNrQXJyYXk7XHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0VHJhY2tBcnJheSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRyYWNrQXJyYXk7XHJcblx0fVxyXG5cclxuXHRcclxuXHJcblxyXG5cclxuXHJcblx0c3ZjLnRlc3RGdW5jdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0YWxlcnQoXCJUZXN0IGZ1bmN0aW9uIGNhbGxlZCBmcm9tIGluc2lkZSBzZXJ2aWNlIVwiKTtcclxuXHR9XHJcbn0pIiwiYXBwLnNlcnZpY2UoXCJmaWx0ZXJTZXJ2aWNlXCIsIGZ1bmN0aW9uKGluc3RydW1lbnRTZXJ2aWNlKSB7XG5cdFxuXHR2YXIgc3ZjID0gdGhpcztcblx0dmFyIGluc3RTdmMgPSBpbnN0cnVtZW50U2VydmljZTtcblxuXG5cdHN2Yy5jcmVhdGVTb2xvRmlsdGVyRGF0YSA9IGZ1bmN0aW9uKClcblx0e1xuXHRcdHN2Yy5zb2xvRmlsdGVyRGF0YSA9IHtcdFwiYXJ0aXN0XCI6IFwiXCIsXG5cdFx0XHRcdFx0XHRcdFx0XCJ0aXRsZVwiOiBcIlwiLFxuXHRcdFx0XHRcdFx0XHRcdH07XG5cblx0XHRhbmd1bGFyLmZvckVhY2goaW5zdFN2Yy5pbnN0cnVtZW50cywgZnVuY3Rpb24odmFsdWUsIGtleSlcblx0XHR7XG5cdFx0XHRzdmMuc29sb0ZpbHRlckRhdGFbdmFsdWUuaWRdID0gdHJ1ZTtcblx0XHR9KTtcblx0fVxuXG5cdHN2Yy5jcmVhdGVNZXJnZWRGaWx0ZXJEYXRhID0gZnVuY3Rpb24oKVxuXHR7XG5cdFx0c3ZjLm1lcmdlZEZpbHRlckRhdGEgPSB7XHRcImFydGlzdFwiOiBcIlwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XCJ0aXRsZVwiOiBcIlwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcblx0fVxuXG5cdGZ1bmN0aW9uIF9pbml0KCkge1xuXHRcdHN2Yy5jcmVhdGVTb2xvRmlsdGVyRGF0YSgpO1xuXHRcdHN2Yy5jcmVhdGVNZXJnZWRGaWx0ZXJEYXRhKCk7XG5cdH1cblxuXHRfaW5pdCgpO1xufSkiLCJhcHAuc2VydmljZShcImluc3RydW1lbnRTZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwKSB7XHJcblx0XHJcblx0Ly9HbG9iYWxzXHJcblx0dmFyIHN2YyA9IHRoaXM7XHJcblxyXG5cdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRmdW5jdGlvbiBnZXREYXRhICh1cmwsIG9wdGlvbnMpIHtcclxuXHJcblx0XHQhb3B0aW9ucyA/IG9wdGlvbnMgPSB7fSA6IFwiXCI7XHJcblxyXG5cdFx0cmV0dXJuICRodHRwLmdldCh1cmwsIG9wdGlvbnMpXHJcblx0fVxyXG5cclxuXHQvL1N2YyBmdW5jdGlvbnNcclxuXHRzdmMuZ2V0SW5zdHJ1bWVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi9pbnN0cnVtZW50c1wiO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gZ2V0RGF0YSh1cmwpO1xyXG5cdH1cclxuXHJcblx0Ly8gSW5pdGlhbCB2YWx1ZXMgKHdpbGwgYmUgb3ZlcndyaXR0ZSBieSBkYiB2YWx1ZXMpXHJcblx0c3ZjLmluc3RydW1lbnRzID0gW3tcclxuIFx0XHRcdFx0XHRcdFx0XCJuYW1lXCI6XCJMZWFkLWd1aXRhclwiLFxyXG4gXHRcdFx0XHRcdFx0XHRcImlkXCI6MVxyXG4gXHRcdFx0XHRcdFx0fSxcclxuIFx0XHRcdFx0XHRcdHtcclxuIFx0XHRcdFx0XHRcdFx0XCJuYW1lXCI6XCJEcnVtXCIsXHJcbiBcdFx0XHRcdFx0XHRcdFwiaWRcIjoyXHJcbiBcdFx0XHRcdFx0XHR9LFxyXG4gXHRcdFx0XHRcdFx0e1xyXG4gXHRcdFx0XHRcdFx0XHRcIm5hbWVcIjpcIkJhc3NcIixcclxuXHRcdFx0XHRcdFx0XHRcImlkXCI6M1xyXG4gXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFwibmFtZVwiOlwiS2V5c1wiLFxyXG4gXHRcdFx0XHRcdFx0XHRcImlkXCI6NFxyXG4gXHRcdFx0XHRcdFx0fV07XHJcbn0pIiwiYXBwLnNlcnZpY2UoXCJtZXJnZWRTZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwKSB7XHJcblx0XHJcblx0Ly9HbG9iYWxzXHJcblx0dmFyIHN2YyA9IHRoaXM7XHJcblxyXG5cdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRmdW5jdGlvbiBnZXREYXRhICh1cmwsIG9wdGlvbnMpIHtcclxuXHJcblx0XHQhb3B0aW9ucyA/IG9wdGlvbnMgPSB7fSA6IFwiXCI7XHJcblxyXG5cdFx0cmV0dXJuICRodHRwLmdldCh1cmwsIG9wdGlvbnMpXHJcblx0fVxyXG5cclxuXHQvL1N2YyBmdW5jdGlvbnNcclxuXHRzdmMuZ2V0VHJhY2tzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdHZhciB1cmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvbWVyZ2VkdHJhY2tzXCI7XHJcblx0XHRcclxuXHRcdHJldHVybiBnZXREYXRhKHVybCk7XHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0VHJhY2tCeUlkID0gZnVuY3Rpb24gKGlkKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi9tZXJnZWR0cmFja3MvXCIgKyBpZDtcclxuXHJcblx0XHRyZXR1cm4gZ2V0RGF0YSh1cmwpO1xyXG5cdH1cclxuXHJcblx0c3ZjLm1lcmdlVHJhY2tzID0gZnVuY3Rpb24oZGF0YSlcclxuXHR7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdChDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvbWVyZ2VkdHJhY2tzL2NyZWF0ZVwiLCBkYXRhKTtcclxuXHR9XHJcblxyXG5cdHN2Yy5kb3dubG9hZCA9IGZ1bmN0aW9uIChpZCkge1xyXG5cclxuXHRcdHZhciB1cmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvbWVyZ2VkdHJhY2tzL1wiICsgaWQgKyBcIi9kb3dubG9hZFwiO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gZ2V0RGF0YSh1cmwpO1xyXG5cdH1cclxufSkiLCJhcHAuc2VydmljZShcInNvbG9TZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwKSB7XHJcblx0XHJcblx0Ly9HbG9iYWxzXHJcblx0dmFyIHN2YyA9IHRoaXM7XHJcblxyXG5cdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRmdW5jdGlvbiBnZXREYXRhICh1cmwsIG9wdGlvbnMpIHtcclxuXHJcblx0XHQhb3B0aW9ucyA/IG9wdGlvbnMgPSB7fSA6IFwiXCI7XHJcblxyXG5cdFx0cmV0dXJuICRodHRwLmdldCh1cmwsIG9wdGlvbnMpXHJcblx0fVxyXG5cclxuXHQvL1N2YyBmdW5jdGlvbnNcclxuXHRzdmMuZ2V0VHJhY2tzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdHZhciB1cmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvdHJhY2tzXCI7XHJcblx0XHRcclxuXHRcdHJldHVybiBnZXREYXRhKHVybCk7XHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0VHJhY2tCeUlkID0gZnVuY3Rpb24gKGlkKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi90cmFja3MvXCIgKyBpZDtcclxuXHJcblx0XHRyZXR1cm4gZ2V0RGF0YSh1cmwpO1xyXG5cdH1cclxuXHJcblx0c3ZjLmluc2VydFRyYWNrID0gZnVuY3Rpb24oZGF0YSlcclxuXHR7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdChDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvdHJhY2tzL2NyZWF0ZVwiLCBkYXRhKTtcclxuXHR9XHJcbn0pIiwiYXBwLnNlcnZpY2UoXCJ1c2VyU2VydmljZVwiLCBmdW5jdGlvbigkaHR0cCkge1x0XHJcblx0XHJcblx0dmFyIHN2YyA9IHRoaXM7XHJcblxyXG5cdHN2Yy5nZXRVc2VyID0gZnVuY3Rpb24oKVxyXG5cdHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArIFwiL3VzZXJcIik7XHJcblx0fVxyXG5cclxuXHRzdmMudXBkYXRlVXNlciA9IGZ1bmN0aW9uKGRhdGEpXHJcblx0e1xyXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArIFwiL3VzZXJcIiwgZGF0YSk7XHJcblx0fVxyXG59KSIsImFwcC5kaXJlY3RpdmUoXCJkY2JCYW5kXCIsIGZ1bmN0aW9uKGJhbmRTZXJ2aWNlKSB7XHJcblx0cmV0dXJuIHtcclxuXHRcdHJlc3RyaWN0OiBcIkVcIixcclxuXHRcdHRlbXBsYXRlVXJsOiBcImFwcC9kaXJlY3RpdmVzL2RjYi1iYW5kL2RjYi1iYW5kLmh0bWxcIixcclxuXHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRzY29wZToge30sXHJcblx0XHRjb250cm9sbGVyQXM6IFwiYmFuZFwiLFxyXG5cdFx0Y29udHJvbGxlcjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHRcdHZhciBiYW5kU3ZjID0gYmFuZFNlcnZpY2U7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdFx0XHR2bS52YWx1ZSA9IFwiTmV3QmFuZFwiO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRfaW5pdCgpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkiLCJhcHAuZGlyZWN0aXZlKFwiZGNiTG9naW5cIiwgZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHtcclxuXHRcdHJlc3RyaWN0OiBcIkVcIixcclxuXHRcdHRlbXBsYXRlVXJsOiBcImFwcC9kaXJlY3RpdmVzL2RjYi1sb2dpbi9kY2ItbG9naW4uaHRtbFwiLFxyXG5cdFx0cmVwbGFjZTogdHJ1ZSxcclxuXHRcdHNjb3BlOiB7fSxcclxuXHRcdGNvbnRyb2xsZXJBczogXCJsb2dpblwiLFxyXG5cdFx0Y29udHJvbGxlcjogZnVuY3Rpb24oJGF1dGgsICRzY29wZSwgJHJvb3RTY29wZSwgdXNlclNlcnZpY2UsIGF1dGhTZXJ2aWNlLCAkY29va2llcykge1xyXG5cdFx0XHR2YXIgdm0gXHRcdFx0PSB0aGlzO1xyXG5cdFx0XHR2YXIgdXNlclN2YyBcdD0gdXNlclNlcnZpY2U7XHJcblx0XHRcdHZhciBhdXRoU3ZjIFx0PSBhdXRoU2VydmljZTtcclxuXHRcdFx0dmFyIHRhcmdldCBcdFx0PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW4tc3Bpbm5lcicpO1xyXG5cclxuXHRcdFx0dmFyIG9wdHMgPSB7XHJcblx0ICBcdFx0XHRsaW5lczogMTMgLy8gVGhlIG51bWJlciBvZiBsaW5lcyB0byBkcmF3XHJcblx0XHRcdFx0LCBsZW5ndGg6IDI4IC8vIFRoZSBsZW5ndGggb2YgZWFjaCBsaW5lXHJcblx0XHRcdFx0LCB3aWR0aDogMTQgLy8gVGhlIGxpbmUgdGhpY2tuZXNzXHJcblx0XHRcdFx0LCByYWRpdXM6IDQyIC8vIFRoZSByYWRpdXMgb2YgdGhlIGlubmVyIGNpcmNsZVxyXG5cdFx0XHRcdCwgc2NhbGU6IDAuNCAvLyBTY2FsZXMgb3ZlcmFsbCBzaXplIG9mIHRoZSBzcGlubmVyXHJcblx0XHRcdFx0LCBjb3JuZXJzOiAxIC8vIENvcm5lciByb3VuZG5lc3MgKDAuLjEpXHJcblx0XHRcdFx0LCBjb2xvcjogJyMwMDAnIC8vICNyZ2Igb3IgI3JyZ2diYiBvciBhcnJheSBvZiBjb2xvcnNcclxuXHRcdFx0XHQsIG9wYWNpdHk6IDAuMjUgLy8gT3BhY2l0eSBvZiB0aGUgbGluZXNcclxuXHRcdFx0XHQsIHJvdGF0ZTogMCAvLyBUaGUgcm90YXRpb24gb2Zmc2V0XHJcblx0XHRcdFx0LCBkaXJlY3Rpb246IDEgLy8gMTogY2xvY2t3aXNlLCAtMTogY291bnRlcmNsb2Nrd2lzZVxyXG5cdFx0XHRcdCwgc3BlZWQ6IDEgLy8gUm91bmRzIHBlciBzZWNvbmRcclxuXHRcdFx0XHQsIHRyYWlsOiA2MCAvLyBBZnRlcmdsb3cgcGVyY2VudGFnZVxyXG5cdFx0XHRcdCwgZnBzOiAyMCAvLyBGcmFtZXMgcGVyIHNlY29uZCB3aGVuIHVzaW5nIHNldFRpbWVvdXQoKSBhcyBhIGZhbGxiYWNrIGZvciBDU1NcclxuXHRcdFx0XHQsIHpJbmRleDogMmU5IC8vIFRoZSB6LWluZGV4IChkZWZhdWx0cyB0byAyMDAwMDAwMDAwKVxyXG5cdFx0XHRcdCwgY2xhc3NOYW1lOiAnc3Bpbm5lcicgLy8gVGhlIENTUyBjbGFzcyB0byBhc3NpZ24gdG8gdGhlIHNwaW5uZXJcclxuXHRcdFx0XHQsIHRvcDogJzYwJScgLy8gVG9wIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG5cdFx0XHRcdCwgbGVmdDogJzUwJScgLy8gTGVmdCBwb3NpdGlvbiByZWxhdGl2ZSB0byBwYXJlbnRcclxuXHRcdFx0XHQsIHNoYWRvdzogZmFsc2UgLy8gV2hldGhlciB0byByZW5kZXIgYSBzaGFkb3dcclxuXHRcdFx0XHQsIGh3YWNjZWw6IGZhbHNlIC8vIFdoZXRoZXIgdG8gdXNlIGhhcmR3YXJlIGFjY2VsZXJhdGlvblxyXG5cdFx0XHRcdCwgcG9zaXRpb246ICdhYnNvbHV0ZScgLy8gRWxlbWVudCBwb3NpdGlvbmluZ1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvL1ByaXZhdGUgZnVuY3Rpb25zXHJcblx0XHRcdGZ1bmN0aW9uIGxvZ2luICh0b2tlbiwgaWQsIHVzZXJuYW1lLCBlbWFpbCkge1xyXG5cclxuXHRcdFx0XHR2YXIgZXhwaXJhdGlvblRpbWUgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRcdGV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWUuc2V0VGltZShleHBpcmF0aW9uVGltZS5nZXRUaW1lKCkgKyAodG9rZW5bXCJleHBpcmVzX2luXCJdICogMTAwMCkpO1xyXG5cdFx0XHRcdGV4cGlyYXRpb25UaW1lID0gbmV3IERhdGUoZXhwaXJhdGlvblRpbWUpO1xyXG5cclxuXHRcdFx0XHR2YXIgdXNlckRhdGEgPSB7XHJcblxyXG5cdFx0XHRcdFx0dG9rZW46IHRva2VuLFxyXG5cdFx0XHRcdFx0dXNlcklkOiBpZCxcclxuXHRcdFx0XHRcdHVzZXJuYW1lOiB1c2VybmFtZSxcclxuXHRcdFx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0XHRcdC8vaXNBZG1pbjogZGF0YS5kYXRhLmlzQWRtaW5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKHVzZXJEYXRhLnRva2VuKTtcclxuXHJcblx0XHRcdFx0YXV0aFN2Yy51c2VyID0gdXNlckRhdGE7XHJcblxyXG5cdFx0XHRcdCRjb29raWVzLnB1dE9iamVjdChcInVzZXJcIiwgdXNlckRhdGEsIHsgZXhwaXJlczogZXhwaXJhdGlvblRpbWUgfSk7XHJcblx0XHRcdFx0JHJvb3RTY29wZS5pc0xvZ2dlZEluID0gdHJ1ZTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvL0NoZWNrIGlmIHJldHVybmVkIHVzZXIgaXMgQWRtaW5cclxuXHRcdFx0XHR1c2VyRGF0YS5pc0FkbWluID09IFwiMVwiID8gJHJvb3RTY29wZS5pc0FkbWluID0gdHJ1ZSA6ICRyb290U2NvcGUuaXNBZG1pbiA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0Ly9WbSBmdW5jdGlvbnNcclxuXHQgICAgICAgIHZtLmxvZ2luID0gZnVuY3Rpb24oKSB7XHJcblx0ICAgICAgICBcdHZhciBzcGlubmVyID0gbmV3IFNwaW5uZXIob3B0cykuc3Bpbih0YXJnZXQpO1xyXG5cdCAgICAgICAgXHR2bS5sb2FkaW5nIFx0PSB0cnVlO1xyXG5cclxuXHQgICAgICAgICAgICB2YXIgY3JlZGVudGlhbHMgPSB7XHJcblx0ICAgICAgICAgICAgICAgIGVtYWlsOiB2bS5lbWFpbCxcclxuXHQgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHZtLnBhc3N3b3JkXHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIFxyXG5cdCAgICAgICAgICAgIGF1dGhTdmMubG9naW4oY3JlZGVudGlhbHMpO1xyXG5cdCAgICAgICAgICAgIFxyXG5cdCAgICAgICAgICAgIC8vV2F0Y2hlc1xyXG5cdFx0XHRcdHZhciB1bnJlZ2lzdGVyID0gJHNjb3BlLiR3YXRjaChcclxuXHRcdFx0XHQgXHRmdW5jdGlvbiAoKSB7IHJldHVybiBhdXRoU3ZjLmlzTG9nZ2VkSW4gfSwgXHJcblx0XHRcdFx0IFx0ZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRpZihhdXRoU3ZjLmlzTG9nZ2VkSW4pIFxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdCAgICAgICAgXHQkKCcjbG9naW5fbW9kYWwnKS5tb2RhbCgpO1xyXG5cdFx0XHRcdFx0XHRcdCQoJyNsb2dpbl9tb2RhbCcpLm1vZGFsKCdjbG9zZScpO1xyXG5cdFx0XHRcdCAgICAgICAgXHRzcGlubmVyLnN0b3AoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZighYXV0aFN2Yy5pc0xvZ2dlZEluKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0c3Bpbm5lci5zdG9wKCk7XHJcblx0XHRcdFx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LCB0cnVlKTtcclxuXHQgICAgICAgIH1cclxuXHRcdH1cclxuXHR9XHJcbn0pIiwiYXBwLmRpcmVjdGl2ZShcImRjYkhlYWRlclwiLCBmdW5jdGlvbihiYW5kU2VydmljZSkge1xyXG5cdHJldHVybiB7XHJcblx0XHRyZXN0cmljdDogXCJFXCIsXHJcblx0XHR0ZW1wbGF0ZVVybDogXCJhcHAvZGlyZWN0aXZlcy9kY2ItaGVhZGVyL2RjYi1oZWFkZXIuaHRtbFwiLFxyXG5cdFx0cmVwbGFjZTogdHJ1ZSxcclxuXHRcdHNjb3BlOiB7fSxcclxuXHRcdGNvbnRyb2xsZXJBczogXCJoZWFkXCIsXHJcblx0XHRjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUsIHVzZXJTZXJ2aWNlLCBhdXRoU2VydmljZSwgJGF1dGgsICRyb290U2NvcGUpIHtcclxuXHRcdFx0XHJcblx0XHRcdHZhciB2bSBcdFx0XHQ9IHRoaXM7XHJcblx0XHRcdHZhciB1c2VyU3ZjIFx0PSB1c2VyU2VydmljZTtcclxuXHRcdFx0dmFyIGF1dGhTdmMgXHQ9IGF1dGhTZXJ2aWNlO1xyXG5cdFx0XHR2YXIgYmFuZFN2YyBcdD0gYmFuZFNlcnZpY2U7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdFx0XHR2bS50cmFja0FycmF5ID0gYmFuZFN2Yy5nZXRUcmFja0FycmF5O1xyXG5cdFx0XHRcdHZtLnRyYWNrQXJyYXlDb3VudCA9IGJhbmRTdmMuZ2V0VHJhY2tBcnJheUNvdW50O1xyXG5cclxuXHRcdFx0XHRpZigkYXV0aC5pc0F1dGhlbnRpY2F0ZWQoKSlcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHR1c2VyU3ZjLmdldFVzZXIoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdCRyb290U2NvcGUudXNlcm5hbWUgPSBkYXRhLmRhdGEudXNlcm5hbWU7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZtLnNob3dMb2dpbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQkKCcjbG9naW5fbW9kYWwnKS5tb2RhbCgpO1xyXG5cdFx0XHRcdCQoJyNsb2dpbl9tb2RhbCcpLm1vZGFsKCdvcGVuJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZtLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRhdXRoU3ZjLmxvZ291dCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2bS5zaG93UmVnaXN0ZXIgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JCgnI3JlZ2lzdGVyX21vZGFsJykubW9kYWwoKTtcclxuXHRcdFx0XHQkKCcjcmVnaXN0ZXJfbW9kYWwnKS5tb2RhbCgnb3BlbicpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2bS5pc0F1dGhlbnRpY2F0ZWQgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gJGF1dGguaXNBdXRoZW50aWNhdGVkKCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRfaW5pdCgpO1xyXG5cclxuXHRcdFx0Ly9XYXRjaGVzXHJcblx0XHRcdCRzY29wZS4kd2F0Y2goXHJcblx0XHRcdFx0ZnVuY3Rpb24gKCkgeyByZXR1cm4gYXV0aFN2Yy51c2VyIH0sIFxyXG5cdFx0XHRcdGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdFx0XHR2bS51c2VyID0gYXV0aFN2Yy51c2VyO1xyXG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyh2bS51c2VyKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pIiwiYXBwLmRpcmVjdGl2ZShcImRjYlJlZ2lzdGVyXCIsIGZ1bmN0aW9uKHVzZXJTZXJ2aWNlKSB7XHJcblx0cmV0dXJuIHtcclxuXHRcdHJlc3RyaWN0OiBcIkVcIixcclxuXHRcdHRlbXBsYXRlVXJsOiBcImFwcC9kaXJlY3RpdmVzL2RjYi1yZWdpc3Rlci9kY2ItcmVnaXN0ZXIuaHRtbFwiLFxyXG5cdFx0cmVwbGFjZTogdHJ1ZSxcclxuXHRcdHNjb3BlOiB7fSxcclxuXHRcdGNvbnRyb2xsZXJBczogXCJyZWdpc3RlclwiLFxyXG5cdFx0Y29udHJvbGxlcjogZnVuY3Rpb24oJGF1dGgsICRzY29wZSwgJHJvb3RTY29wZSwgdXNlclNlcnZpY2UsIGF1dGhTZXJ2aWNlKSB7XHJcblx0XHRcdHZhciB2bSBcdFx0XHQ9IHRoaXM7XHJcblx0XHRcdHZhciB1c2VyU3ZjIFx0PSB1c2VyU2VydmljZTtcclxuXHRcdFx0dmFyIGF1dGhTdmMgXHQ9IGF1dGhTZXJ2aWNlO1xyXG5cdFx0XHR2YXIgdGFyZ2V0IFx0XHQ9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWdpc3Rlci1zcGlubmVyJyk7XHJcblxyXG5cdFx0XHR2YXIgb3B0cyA9IHtcclxuXHQgIFx0XHRcdGxpbmVzOiAxMyAvLyBUaGUgbnVtYmVyIG9mIGxpbmVzIHRvIGRyYXdcclxuXHRcdFx0XHQsIGxlbmd0aDogMjggLy8gVGhlIGxlbmd0aCBvZiBlYWNoIGxpbmVcclxuXHRcdFx0XHQsIHdpZHRoOiAxNCAvLyBUaGUgbGluZSB0aGlja25lc3NcclxuXHRcdFx0XHQsIHJhZGl1czogNDIgLy8gVGhlIHJhZGl1cyBvZiB0aGUgaW5uZXIgY2lyY2xlXHJcblx0XHRcdFx0LCBzY2FsZTogMC40IC8vIFNjYWxlcyBvdmVyYWxsIHNpemUgb2YgdGhlIHNwaW5uZXJcclxuXHRcdFx0XHQsIGNvcm5lcnM6IDEgLy8gQ29ybmVyIHJvdW5kbmVzcyAoMC4uMSlcclxuXHRcdFx0XHQsIGNvbG9yOiAnIzAwMCcgLy8gI3JnYiBvciAjcnJnZ2JiIG9yIGFycmF5IG9mIGNvbG9yc1xyXG5cdFx0XHRcdCwgb3BhY2l0eTogMC4yNSAvLyBPcGFjaXR5IG9mIHRoZSBsaW5lc1xyXG5cdFx0XHRcdCwgcm90YXRlOiAwIC8vIFRoZSByb3RhdGlvbiBvZmZzZXRcclxuXHRcdFx0XHQsIGRpcmVjdGlvbjogMSAvLyAxOiBjbG9ja3dpc2UsIC0xOiBjb3VudGVyY2xvY2t3aXNlXHJcblx0XHRcdFx0LCBzcGVlZDogMSAvLyBSb3VuZHMgcGVyIHNlY29uZFxyXG5cdFx0XHRcdCwgdHJhaWw6IDYwIC8vIEFmdGVyZ2xvdyBwZXJjZW50YWdlXHJcblx0XHRcdFx0LCBmcHM6IDIwIC8vIEZyYW1lcyBwZXIgc2Vjb25kIHdoZW4gdXNpbmcgc2V0VGltZW91dCgpIGFzIGEgZmFsbGJhY2sgZm9yIENTU1xyXG5cdFx0XHRcdCwgekluZGV4OiAyZTkgLy8gVGhlIHotaW5kZXggKGRlZmF1bHRzIHRvIDIwMDAwMDAwMDApXHJcblx0XHRcdFx0LCBjbGFzc05hbWU6ICdzcGlubmVyJyAvLyBUaGUgQ1NTIGNsYXNzIHRvIGFzc2lnbiB0byB0aGUgc3Bpbm5lclxyXG5cdFx0XHRcdCwgdG9wOiAnNjAlJyAvLyBUb3AgcG9zaXRpb24gcmVsYXRpdmUgdG8gcGFyZW50XHJcblx0XHRcdFx0LCBsZWZ0OiAnNTAlJyAvLyBMZWZ0IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG5cdFx0XHRcdCwgc2hhZG93OiBmYWxzZSAvLyBXaGV0aGVyIHRvIHJlbmRlciBhIHNoYWRvd1xyXG5cdFx0XHRcdCwgaHdhY2NlbDogZmFsc2UgLy8gV2hldGhlciB0byB1c2UgaGFyZHdhcmUgYWNjZWxlcmF0aW9uXHJcblx0XHRcdFx0LCBwb3NpdGlvbjogJ2Fic29sdXRlJyAvLyBFbGVtZW50IHBvc2l0aW9uaW5nXHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRcclxuXHRcdFx0dm0ucmVnaXN0ZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgc3Bpbm5lciA9IG5ldyBTcGlubmVyKG9wdHMpLnNwaW4odGFyZ2V0KTtcclxuXHQgICAgICAgIFx0dm0ubG9hZGluZyBcdD0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0dmFyIHVzZXIgPSB7XHJcblx0XHRcdFx0ICBcdHVzZXJuYW1lOiB2bS51c2VybmFtZSxcclxuXHRcdFx0XHQgIFx0ZW1haWw6IHZtLmVtYWlsLFxyXG5cdFx0XHRcdCAgXHRwYXNzd29yZDogdm0ucGFzc3dvcmRcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHQkYXV0aC5zaWdudXAodXNlcikudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0Ly8gUmVnaXN0cmF0aW9uIHN1Y2Nlc3NcclxuXHRcdFx0XHRcdGF1dGhTdmMubG9naW4odXNlcik7XHJcblxyXG5cdFx0ICAgICAgICAgICAgLy9XYXRjaGVzXHJcblx0XHRcdFx0XHR2YXIgdW5yZWdpc3RlciA9ICRzY29wZS4kd2F0Y2goXHJcblx0XHRcdFx0XHRcdGZ1bmN0aW9uICgpIHsgcmV0dXJuIGF1dGhTdmMuaXNMb2dnZWRJbiB9LCBcclxuXHRcdFx0XHRcdFx0ZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZihhdXRoU3ZjLmlzTG9nZ2VkSW4pIFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHRcdCAgICAgICAgXHQkKCcjcmVnaXN0ZXJfbW9kYWwnKS5tb2RhbCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0JCgnI3JlZ2lzdGVyX21vZGFsJykubW9kYWwoJ2Nsb3NlJyk7XHJcblx0XHRcdFx0XHQgICAgICAgIFx0c3Bpbm5lci5zdG9wKCk7XHJcblx0XHRcdFx0XHQgICAgICAgIFx0dW5yZWdpc3RlcigpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRpZihhdXRoU3ZjLmlzTG9nZ2VkSW4gPT09IGZhbHNlKVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdHNwaW5uZXIuc3RvcCgpO1xyXG5cdCAgICAgICAgXHRcdFx0XHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHQgICAgICAgIFx0XHRcdFx0XHR1bnJlZ2lzdGVyKCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9LCB0cnVlKTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5jYXRjaChmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0Ly8gUmVnaXN0cmF0aW9uIGZhaWxlZFxyXG5cdFx0XHRcdCAgXHRzcGlubmVyLnN0b3AoKTtcclxuXHRcdFx0XHQgIFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdCAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pIl19
