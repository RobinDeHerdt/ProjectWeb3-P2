var app=angular.module("app",["ui.router","satellizer","ngCookies","ngFileUpload"]),CONSTANTS=function(){var e={};return e.API_BASE_URL="http://discoverbandapi.int/public/api",e}();app.config(["$stateProvider","$urlRouterProvider","$authProvider","$httpProvider",function(e,r,t,n){t.loginUrl=CONSTANTS.API_BASE_URL+"/login",t.signupUrl=CONSTANTS.API_BASE_URL+"/register",r.otherwise("/"),e.state("home",{url:"/",templateUrl:"app/pages/home.html",controller:"homeController as home"}).state("solo",{url:"/solo",templateUrl:"app/pages/solo.html",controller:"soloController as solo"}).state("merged",{url:"/merged",templateUrl:"app/pages/merged.html",controller:"mergedController as merged"}).state("band",{url:"/band",templateUrl:"app/pages/band.html",controller:"bandController as band"}).state("merge",{url:"/merge",templateUrl:"app/pages/merge.html",controller:"mergeController as merge"}).state("profile",{url:"/profile",templateUrl:"app/pages/profile.html",controller:"profileController as profile",data:{requiresLoggedIn:!0}}).state("upload",{url:"/upload",templateUrl:"app/pages/upload.html",controller:"uploadController as upload",data:{requiresLoggedIn:!0}})}]).run(["$rootScope","$location","$auth","$state",function(e,r,t,n){function a(e){return!e.data||!e.data.requiresLoggedIn||t.isAuthenticated()}var o="/";e.$on("$stateChangeStart",function(e,t,i,c,s){var l=t.url;i&&(l=n.href(t,i),l=l.replace("#","")),a(t)?r.path(l):(console.log("notLoggedIn"),r.path(o))})}]),app.controller("bandController",["bandService",function(e){function r(){t.trackArray=n.getTrackArray}var t=this,n=e;r()}]),app.controller("homeController",["instrumentService","filterService",function(e,r){function t(){n.filterData=a.soloFilterData}var n=this,a=r;t()}]),app.controller("mergeController",["bandService","mergedService","$state",function(e,r,t){function n(){a.tracks=o.getTrackArray(),a.showTracks=!1,a.thereAreTracks=!1,a.loadedTracks=[],a.savedTime=[],a.trimAmounts=[],a.tracks.length>0&&(a.thereAreTracks=!0)}var a=this,o=e,i=r,c=[];a.load=function(){if(a.thereAreTracks){for(var e=a.tracks.length-1;e>=0;e--){var r=a.tracks[e].id;c[r]=WaveSurfer.create({container:"#waveform"+r,waveColor:"green",progressColor:"purple"}),c[r].load("http://discoverbandapi.int/public/api/audio/"+a.tracks[e].file_url),a.loadedTracks.push({track_id:r,trim_amount:0})}a.showTracks=!0}},a.playPause=function(e){c[e].isPlaying()||(a.savedTime[e]=c[e].getCurrentTime(),console.log(a.savedTime)),c[e].playPause(),c[e].zoom(50)},a.trim=function(e){for(var r=c[e].getCurrentTime(),t=a.loadedTracks.length-1;t>=0;t--)a.loadedTracks[t].track_id===e&&(a.loadedTracks[t].trim_amount=r,a.trimAmounts[e]=Math.round(100*r)/100)},a.playPauseAll=function(){for(var e=a.loadedTracks.length-1;e>=0;e--){var r=a.loadedTracks[e].track_id;c[r].isPlaying()||(a.savedTime[r]=c[r].getCurrentTime(),console.log(a.savedTime)),c[r].playPause(),c[r].zoom(50)}},a.toPrevious=function(){for(var e=a.loadedTracks.length-1;e>=0;e--){var r=a.loadedTracks[e].track_id,t=a.savedTime[r],n=c[r].getDuration(),o=t/n;c[r].seekAndCenter(o)}},a.toStart=function(e){c[e].seekAndCenter(0)},a.save=function(){i.mergeTracks(a.loadedTracks).then(function(e){console.log(e),t.go("merged")},function(e){console.log(e)})},n()}]),app.controller("mergedController",["$scope","mergedService","filterService",function(e,r,t){function n(){r.getTracks().then(function(e){i.mergedTracks=e.data,i.filteredTracks=i.mergedTracks,a(),angular.forEach(i.mergedTracks,function(e,r){newTrack=new Audio("http://discoverbandapi.int/public/audio/"+e.file_url),i.mergedTrackAudio[e.id]=newTrack})},function(e){console.log(e)})}function a(){i.filteredTracks=[],angular.forEach(i.mergedTracks,function(e,r){goodSearch=!0,""!=!i.filterData.artist||e.artist.name.match(new RegExp(i.filterData.artist,"i"))||(goodSearch=!1),""!=!i.filterData.title||e.songname.match(new RegExp(i.filterData.title,"i"))||(goodSearch=!1),goodSearch&&i.filteredTracks.push(e)})}function o(){i.mergedTrackAudio=[],i.currentAudioTrackId="",n(),i.filterData=c.mergedFilterData}var i=this,c=t;i.play=function(e){""!=i.currentAudioTrackId&&i.pause(i.currentAudioTrackId),i.currentAudioTrackId=e,i.mergedTrackAudio[e].play()},i.pause=function(e){i.mergedTrackAudio[e].pause(),i.currentAudioTrackId=""},i.download=function(e){window.open(CONSTANTS.API_BASE_URL+"/mergedtracks/"+e+"/download","_blank","")},e.$watch(function(){return i.filterData},function(){i.filterData&&a()},!0),o()}]),app.controller("profileController",["userService",function(e){function r(){n.getUser().then(function(e){t.username=e.data.username,t.email=e.data.email})}var t=this,n=e,a=document.getElementById("update-profile-spinner"),o={lines:13,length:28,width:12,radius:42,scale:.15,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"89%",left:"25.5%",shadow:!1,hwaccel:!1,position:"absolute"};t.update=function(){var e=new Spinner(o).spin(a);t.loading=!0;var r={username:t.username,email:t.email};n.updateUser(r).then(function(r){e.stop(),t.loading=!1},function(r){e.stop(),t.loading=!1})},r()}]),app.controller("soloController",["$scope","bandService","soloService","instrumentService","filterService",function(e,r,t,n,a){function o(){u.getTracks().then(function(e){s.soloTracks=e.data,s.filteredTracks=s.soloTracks,i(),angular.forEach(s.soloTracks,function(e,r){newTrack=new Audio("http://discoverbandapi.int/public/audio/"+e.file_url),s.soloTrackAudio[e.id]=newTrack})},function(e){console.log(e)})}function i(){s.filteredTracks=[],angular.forEach(s.soloTracks,function(e,r){goodSearch=!0,""!=!s.filterData.artist||e.artist.name.match(new RegExp(s.filterData.artist,"i"))||(goodSearch=!1),""!=!s.filterData.title||e.songname.match(new RegExp(s.filterData.title,"i"))||(goodSearch=!1),s.filterData[e.instrument_id]||(goodSearch=!1),goodSearch&&s.filteredTracks.push(e)}),0===s.filteredTracks.length?s.showNoResultsFound=!0:s.showNoResultsFound=!1}function c(){s.soloTrackAudio=[],s.currentAudioTrackId="",s.showNoResultsFound=!1,d.getInstruments().then(function(e){s.instruments=e.data},function(e){console.log(e)}),o(),s.filterData=p.soloFilterData,s.trackArray=l.getTrackArray,s.bandTrackIdArray=l.getTrackIdArray,s.trackArrayCount=l.getTrackArrayCount}var s=this,l=r,u=t,d=n,p=a;s.addToBand=function(e){l.addToTrackArray(e),console.log(e)},s.removeFromBand=function(e){l.removeFromTrackArray(e),console.log("Track removed from new band: "+e)},s.play=function(e){""!=s.currentAudioTrackId&&s.pause(s.currentAudioTrackId),s.currentAudioTrackId=e,s.soloTrackAudio[e].play()},s.pause=function(e){s.soloTrackAudio[e].pause(),s.currentAudioTrackId=""},e.$watch(function(){return s.filterData},function(){s.filterData&&i()},!0),c()}]),app.controller("uploadController",["Upload","artistService","instrumentService","soloService","$state",function(e,r,t,n,a){function o(){c.uploaded=!1,c.showform=!1,c.instruments=u.getInstruments().then(function(e){c.instruments=e.data,console.log(e.data)},function(e){console.log(e)}),c.artists=l.getArtists().then(function(e){console.log(e.data),c.artists=e.data},function(e){console.log(e)})}function i(e){for(var r=e+"=",t=decodeURIComponent(document.cookie),n=t.split(";"),a=0;a<n.length;a++){for(var o=n[a];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(r))return o.substring(r.length,o.length)}return""}var c=this,s=n,l=r,u=t,d=document.getElementById("upload-spinner"),p={lines:13,length:28,width:12,radius:42,scale:.3,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"40%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};c.uploadFile=function(r){var t=new Spinner(p).spin(d);c.loading=!0,c.uploaded=!1,c.showform=!0,$("select").material_select(),e.upload({url:CONSTANTS.API_BASE_URL+"/upload",fileFormDataName:"song",sendFieldsAs:"form",data:{song:r}}).then(function(e){c.filename=e.data.name,c.tracklength=e.data.length,t.stop(),c.loading=!1,c.uploaded=!0},function(e){c.loading=!1,t.stop(),c.uploadfailed=!0})},c.save=function(){var e=JSON.parse(i("user")).userId,r={name:c.songname,file_url:c.filename,track_length:c.tracklength,user_id:e,instrument_id:c.instrumentsdropdown,artist_id:c.artistname};s.insertTrack(r).then(function(e){a.go("solo"),console.log(e)},function(e){console.log(e)})},o()}]),app.filter("band",function(){return function(e,r){var t=!1;return angular.forEach(r,function(r,n){r==e&&(t=!0)}),t}}),app.service("artistService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getArtists=function(){var e=CONSTANTS.API_BASE_URL+"/artists";return r(e)}}]),app.service("authService",["$auth","$rootScope","$cookies","$state","userService",function(e,r,t,n,a){function o(e,n,a,o){var c=new Date;c=c.setTime(c.getTime()+1e3*e.expires_in),c=new Date(c);var s={token:e,userId:n,username:a,email:o};i.user=s,t.putObject("user",s,{expires:c}),r.isLoggedIn=!0,"1"==s.isAdmin?r.isAdmin=!0:r.isAdmin=!1}var i=this,c=a;i.isLoggedIn=!1,i.login=function(r){e.login(r).then(function(e){token=e.data.token,id=0,username="",email="",c.getUser().then(function(e){id=e.data.id,username=e.data.username,email=e.data.email,o(token,id,username,email),i.isLoggedIn=!0},function(e){console.log(e),i.isLoggedIn=!1})},function(e){console.log(e),i.isLoggedIn=!1})},i.logout=function(){e.logout().then(function(e){r.isLoggedIn=!1,r.isAdmin=!1,i.user=null,i.isLoggedIn=null,t.remove("user"),n.go("home")},function(e){console.log(e)})},i.register=function(e){var r=CONSTANTS.API_BASE_URL+"/user";return $http.post(r,e)}}]),app.service("bandService",function(){function e(e,r,t){for(var n=0,a=e.length;n<a;n++)if(e[n][t]===r)return n;return-1}function r(){return trackArrayCount++,trackArrayCount}function t(){return trackArrayCount--,trackArrayCount}function n(e){return trackIdArray.push(e),trackIdArray}function a(e){return index=trackIdArray.indexOf(e),index>-1&&trackIdArray.splice(index,1),trackIdArray}var o=this;trackArray=[],trackIdArray=[],trackArrayCount=0,o.getTrackArrayCount=function(){return trackArrayCount},o.getTrackIdArray=function(){return trackIdArray},o.addToTrackArray=function(e){return trackArray.push(e),r(),n(e.id),trackArray},o.removeFromTrackArray=function(r){return index=e(trackArray,r.id,"id"),index>-1&&trackArray.splice(index,1),t(),a(r.id),trackArray},o.getTrackArray=function(){return trackArray},o.testFunction=function(){alert("Test function called from inside service!")}}),app.service("filterService",["instrumentService",function(e){function r(){t.createSoloFilterData(),t.createMergedFilterData()}var t=this,n=e;t.createSoloFilterData=function(){t.soloFilterData={artist:"",title:""},angular.forEach(n.instruments,function(e,r){t.soloFilterData[e.id]=!0})},t.createMergedFilterData=function(){t.mergedFilterData={artist:"",title:""}},r()}]),app.service("instrumentService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getInstruments=function(){var e=CONSTANTS.API_BASE_URL+"/instruments";return r(e)},t.instruments=[{name:"Lead-guitar",id:1},{name:"Rythm-guitar",id:2},{name:"Drum",id:3},{name:"Bass",id:4},{name:"Bass",id:5},{name:"Keys",id:6}]}]),app.service("mergedService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getTracks=function(){var e=CONSTANTS.API_BASE_URL+"/mergedtracks";return r(e)},t.getTrackById=function(e){var t=CONSTANTS.API_BASE_URL+"/mergedtracks/"+e;return r(t)},t.mergeTracks=function(r){return e.post(CONSTANTS.API_BASE_URL+"/mergedtracks/create",r)},t.download=function(e){var t=CONSTANTS.API_BASE_URL+"/mergedtracks/"+e+"/download";return r(t)}}]),app.service("soloService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getTracks=function(){var e=CONSTANTS.API_BASE_URL+"/tracks";return r(e)},t.getTrackById=function(e){var t=CONSTANTS.API_BASE_URL+"/tracks/"+e;return r(t)},t.insertTrack=function(r){return e.post(CONSTANTS.API_BASE_URL+"/tracks/create",r)}}]),app.service("userService",["$http",function(e){var r=this;r.getUser=function(){return e.get(CONSTANTS.API_BASE_URL+"/user")},r.updateUser=function(r){return e.post(CONSTANTS.API_BASE_URL+"/user",r)}}]),app.directive("dcbHeader",["bandService",function(e){return{restrict:"E",templateUrl:"app/directives/dcb-header/dcb-header.html",replace:!0,scope:{},controllerAs:"head",controller:["$scope","userService","authService","$auth","$rootScope",function(r,t,n,a,o){function i(){c.trackArray=u.getTrackArray,c.trackArrayCount=u.getTrackArrayCount,a.isAuthenticated()&&s.getUser().then(function(e){o.username=e.data.username})}var c=this,s=t,l=n,u=e;c.showLogin=function(){$("#login_modal").modal(),$("#login_modal").modal("open")},c.logout=function(){l.logout()},c.showRegister=function(){$("#register_modal").modal(),$("#register_modal").modal("open")},c.showBand=function(){$("#band_modal").modal(),$("#band_modal").modal("open")},c.isAuthenticated=function(){return a.isAuthenticated()},i(),r.$watch(function(){return l.user},function(){c.user=l.user})}]}}]),app.directive("dcbBand",["bandService",function(e){return{restrict:"E",templateUrl:"app/directives/dcb-band/dcb-band.html",replace:!0,scope:{},controllerAs:"band",controller:["$auth","$scope","$rootScope",function(r,t,n){function a(){o.trackArray=i.getTrackArray,o.bandTrackIdArray=i.getTrackIdArray,o.trackArrayCount=i.getTrackArrayCount}var o=this,i=e;o.removeFromBand=function(e){i.removeFromTrackArray(e),console.log("Track removed from new band: "+e)},a()}]}}]),app.directive("dcbLogin",function(){return{restrict:"E",templateUrl:"app/directives/dcb-login/dcb-login.html",replace:!0,scope:{},controllerAs:"login",controller:["$auth","$scope","$rootScope","userService","authService","$cookies",function(e,r,t,n,a,o){var i=this,c=a,s=document.getElementById("login-spinner"),l={lines:13,length:28,width:14,radius:42,scale:.4,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"60%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};i.login=function(){var e=new Spinner(l).spin(s);i.loading=!0,console.log(i.loading);var t={email:i.email,password:i.password};c.login(t);r.$watch(function(){return c.isLoggedIn},function(){c.isLoggedIn&&(i.loading=!1,$("#login_modal").modal(),$("#login_modal").modal("close"),e.stop()),c.isLoggedIn||(e.stop(),i.loading=!1)},!0)}}]}}),app.directive("dcbRegister",["userService",function(e){return{restrict:"E",templateUrl:"app/directives/dcb-register/dcb-register.html",replace:!0,scope:{},controllerAs:"register",controller:["$auth","$scope","$rootScope","userService","authService",function(e,r,t,n,a){var o=this,i=a,c=document.getElementById("register-spinner"),s={lines:13,length:28,width:14,radius:42,scale:.4,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"60%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};o.register=function(){var t=new Spinner(s).spin(c);o.loading=!0;var n={username:o.username,email:o.email,password:o.password};e.signup(n).then(function(e){i.login(n);var a=r.$watch(function(){return i.isLoggedIn},function(){i.isLoggedIn&&(o.loading=!1,$("#register_modal").modal(),$("#register_modal").modal("close"),t.stop(),a()),i.isLoggedIn===!1&&(t.stop(),o.loading=!1,a())},!0)})["catch"](function(e){t.stop(),o.loading=!1,console.log(e)})}}]}}]),app.directive("dcbSticky",["$window",function(e){var r=angular.element(e);return{restrict:"A",link:function(e,t,n){var a=n.dcbSticky,o=t.offset().top;r.on("scroll",function(e){r.scrollTop()>=o?t.addClass(a):t.removeClass(a)})}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbmZpZy5qcyIsInJvdXRlcy5qcyIsImJhbmRDb250cm9sbGVyLmpzIiwiaG9tZUNvbnRyb2xsZXIuanMiLCJtZXJnZUNvbnRyb2xsZXIuanMiLCJtZXJnZWRDb250cm9sbGVyLmpzIiwicHJvZmlsZUNvbnRyb2xsZXIuanMiLCJzb2xvQ29udHJvbGxlci5qcyIsInVwbG9hZENvbnRyb2xsZXIuanMiLCJiYW5kRmlsdGVyLmpzIiwiYXJ0aXN0U2VydmljZS5qcyIsImF1dGhTZXJ2aWNlLmpzIiwiYmFuZFNlcnZpY2UuanMiLCJmaWx0ZXJTZXJ2aWNlLmpzIiwiaW5zdHJ1bWVudFNlcnZpY2UuanMiLCJtZXJnZWRTZXJ2aWNlLmpzIiwic29sb1NlcnZpY2UuanMiLCJ1c2VyU2VydmljZS5qcyIsImRjYi1oZWFkZXIvZGNiLWhlYWRlci5qcyIsImRjYi1iYW5kL2RjYi1iYW5kLmpzIiwiZGNiLWxvZ2luL2RjYi1sb2dpbi5qcyIsImRjYi1yZWdpc3Rlci9kY2ItcmVnaXN0ZXIuanMiLCJkY2Itc3RpY2t5L2RjYi1zdGlja3kuanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsIkNPTlNUQU5UUyIsIkFQSV9CQVNFX1VSTCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGF1dGhQcm92aWRlciIsIiRodHRwUHJvdmlkZXIiLCJsb2dpblVybCIsInNpZ251cFVybCIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiZGF0YSIsInJlcXVpcmVzTG9nZ2VkSW4iLCJydW4iLCIkcm9vdFNjb3BlIiwiJGxvY2F0aW9uIiwiJGF1dGgiLCIkc3RhdGUiLCJpc0F1dGhvcml6ZWQiLCJ0b1N0YXRlIiwiaXNBdXRoZW50aWNhdGVkIiwicmVkaXJlY3RTdGF0ZSIsIiRvbiIsImUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJuZXh0IiwiaHJlZiIsInJlcGxhY2UiLCJwYXRoIiwiY29uc29sZSIsImxvZyIsImJhbmRTZXJ2aWNlIiwiX2luaXQiLCJ2bSIsInRyYWNrQXJyYXkiLCJiYW5kU3ZjIiwiZ2V0VHJhY2tBcnJheSIsInRoaXMiLCJpbnN0cnVtZW50U2VydmljZSIsImZpbHRlclNlcnZpY2UiLCJmaWx0ZXJEYXRhIiwiZmx0U3ZjIiwic29sb0ZpbHRlckRhdGEiLCJtZXJnZWRTZXJ2aWNlIiwidHJhY2tzIiwic2hvd1RyYWNrcyIsInRoZXJlQXJlVHJhY2tzIiwibG9hZGVkVHJhY2tzIiwic2F2ZWRUaW1lIiwidHJpbUFtb3VudHMiLCJsZW5ndGgiLCJtZXJnZWRTdmMiLCJ3YXZlc3VyZmVyIiwibG9hZCIsImkiLCJ0cmFja19pZCIsImlkIiwiV2F2ZVN1cmZlciIsImNyZWF0ZSIsImNvbnRhaW5lciIsIndhdmVDb2xvciIsInByb2dyZXNzQ29sb3IiLCJmaWxlX3VybCIsInB1c2giLCJ0cmltX2Ftb3VudCIsInBsYXlQYXVzZSIsImlzUGxheWluZyIsImdldEN1cnJlbnRUaW1lIiwiem9vbSIsInRyaW0iLCJ0aW1lVG9UcmltIiwiTWF0aCIsInJvdW5kIiwicGxheVBhdXNlQWxsIiwidG9QcmV2aW91cyIsInByZXZpb3VzVGltZSIsInRvdGFsVGltZSIsImdldER1cmF0aW9uIiwicHJvZ3Jlc3MiLCJzZWVrQW5kQ2VudGVyIiwidG9TdGFydCIsInNhdmUiLCJtZXJnZVRyYWNrcyIsInRoZW4iLCJnbyIsImVycm9yIiwiJHNjb3BlIiwiZ2V0TWVyZ2VkVHJhY2tzIiwiZ2V0VHJhY2tzIiwibWVyZ2VkVHJhY2tzIiwiZmlsdGVyZWRUcmFja3MiLCJmaWx0ZXIiLCJmb3JFYWNoIiwidHJhY2siLCJrZXkiLCJuZXdUcmFjayIsIkF1ZGlvIiwibWVyZ2VkVHJhY2tBdWRpbyIsImdvb2RTZWFyY2giLCJhcnRpc3QiLCJuYW1lIiwibWF0Y2giLCJSZWdFeHAiLCJ0aXRsZSIsInNvbmduYW1lIiwiY3VycmVudEF1ZGlvVHJhY2tJZCIsIm1lcmdlZEZpbHRlckRhdGEiLCJwbGF5IiwidHJhY2tJZCIsInBhdXNlIiwiZG93bmxvYWQiLCJ3aW5kb3ciLCJvcGVuIiwiJHdhdGNoIiwidXNlclNlcnZpY2UiLCJ1c2VyU3ZjIiwiZ2V0VXNlciIsInVzZXJuYW1lIiwiZW1haWwiLCJ0YXJnZXQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwib3B0cyIsImxpbmVzIiwid2lkdGgiLCJyYWRpdXMiLCJzY2FsZSIsImNvcm5lcnMiLCJjb2xvciIsIm9wYWNpdHkiLCJyb3RhdGUiLCJkaXJlY3Rpb24iLCJzcGVlZCIsInRyYWlsIiwiZnBzIiwiekluZGV4IiwiY2xhc3NOYW1lIiwidG9wIiwibGVmdCIsInNoYWRvdyIsImh3YWNjZWwiLCJwb3NpdGlvbiIsInVwZGF0ZSIsInNwaW5uZXIiLCJTcGlubmVyIiwic3BpbiIsImxvYWRpbmciLCJ1c2VyaW5mbyIsInVwZGF0ZVVzZXIiLCJzdG9wIiwic29sb1NlcnZpY2UiLCJnZXRTb2xvVHJhY2tzIiwic29sb1N2YyIsInNvbG9UcmFja3MiLCJzb2xvVHJhY2tBdWRpbyIsImluc3RydW1lbnRfaWQiLCJzaG93Tm9SZXN1bHRzRm91bmQiLCJpbnN0U3ZjIiwiZ2V0SW5zdHJ1bWVudHMiLCJpbnN0cnVtZW50cyIsImJhbmRUcmFja0lkQXJyYXkiLCJnZXRUcmFja0lkQXJyYXkiLCJ0cmFja0FycmF5Q291bnQiLCJnZXRUcmFja0FycmF5Q291bnQiLCJhZGRUb0JhbmQiLCJhZGRUb1RyYWNrQXJyYXkiLCJyZW1vdmVGcm9tQmFuZCIsInJlbW92ZUZyb21UcmFja0FycmF5IiwiVXBsb2FkIiwiYXJ0aXN0U2VydmljZSIsInVwbG9hZGVkIiwic2hvd2Zvcm0iLCJpbnN0cnVtZW50U3ZjIiwiYXJ0aXN0cyIsImFydGlzdFN2YyIsImdldEFydGlzdHMiLCJnZXRDb29raWUiLCJjbmFtZSIsImRlY29kZWRDb29raWUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjb29raWUiLCJjYSIsInNwbGl0IiwiYyIsImNoYXJBdCIsInN1YnN0cmluZyIsImluZGV4T2YiLCJ1cGxvYWRGaWxlIiwiZmlsZSIsIiQiLCJtYXRlcmlhbF9zZWxlY3QiLCJ1cGxvYWQiLCJmaWxlRm9ybURhdGFOYW1lIiwic2VuZEZpZWxkc0FzIiwic29uZyIsInJlc3AiLCJmaWxlbmFtZSIsInRyYWNrbGVuZ3RoIiwidXBsb2FkZmFpbGVkIiwidXNlcl9pZCIsIkpTT04iLCJwYXJzZSIsInVzZXJJZCIsInRyYWNrX2xlbmd0aCIsImluc3RydW1lbnRzZHJvcGRvd24iLCJhcnRpc3RfaWQiLCJhcnRpc3RuYW1lIiwiaW5zZXJ0VHJhY2siLCJsaXN0IiwicmV0dXJuVmFsdWUiLCJpbmRleCIsInNlcnZpY2UiLCIkaHR0cCIsImdldERhdGEiLCJvcHRpb25zIiwiZ2V0Iiwic3ZjIiwiJGNvb2tpZXMiLCJsb2dpbiIsInRva2VuIiwiZXhwaXJhdGlvblRpbWUiLCJEYXRlIiwic2V0VGltZSIsImdldFRpbWUiLCJ1c2VyRGF0YSIsInVzZXIiLCJwdXRPYmplY3QiLCJleHBpcmVzIiwiaXNMb2dnZWRJbiIsImlzQWRtaW4iLCJjcmVkZW50aWFscyIsImxvZ291dCIsInJlbW92ZSIsInJlZ2lzdGVyIiwicG9zdCIsImFycmF5T2JqZWN0SW5kZXhPZiIsIm15QXJyYXkiLCJzZWFyY2hUZXJtIiwicHJvcGVydHkiLCJsZW4iLCJpbmNyZW1lbnRUcmFja0FycmF5Q291bnQiLCJkZWNyZW1lbnRUcmFja0FycmF5Q291bnQiLCJhZGRUb1RyYWNrSWRBcnJheSIsInRyYWNrSWRBcnJheSIsInJlbW92ZUZyb21UcmFja0lkQXJyYXkiLCJzcGxpY2UiLCJ0ZXN0RnVuY3Rpb24iLCJhbGVydCIsImNyZWF0ZVNvbG9GaWx0ZXJEYXRhIiwiY3JlYXRlTWVyZ2VkRmlsdGVyRGF0YSIsInZhbHVlIiwiZ2V0VHJhY2tCeUlkIiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJzY29wZSIsImNvbnRyb2xsZXJBcyIsImF1dGhTZXJ2aWNlIiwiYXV0aFN2YyIsInNob3dMb2dpbiIsIm1vZGFsIiwic2hvd1JlZ2lzdGVyIiwic2hvd0JhbmQiLCJwYXNzd29yZCIsInNpZ251cCIsInJlc3BvbnNlIiwidW5yZWdpc3RlciIsIiR3aW5kb3ciLCIkd2luIiwiZWxlbWVudCIsImxpbmsiLCJhdHRycyIsInRvcENsYXNzIiwiZGNiU3RpY2t5Iiwib2Zmc2V0VG9wIiwib2Zmc2V0Iiwib24iLCJzY3JvbGxUb3AiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFJQSxLQUFNQyxRQUFRQyxPQUFPLE9BQ3ZCLFlBQ0EsYUFDQSxZQUNBLGlCQ0pFQyxVQUFhLFdBRWhCLEdBQUlELEtBSUosT0FGQUEsR0FBT0UsYUFBZSx3Q0FFZkYsSUNOUkYsS0FBSUssUUFBQSxpQkFBQSxxQkFBQSxnQkFBQSxnQkFBTyxTQUFTQyxFQUFnQkMsRUFBb0JDLEVBQWVDLEdBRXJFRCxFQUFjRSxTQUFjUCxVQUFVQyxhQUFlLFNBQ3JESSxFQUFjRyxVQUFjUixVQUFVQyxhQUFlLFlBQ3JERyxFQUFtQkssVUFBVSxLQUU3Qk4sRUFDR08sTUFBTSxRQUNMQyxJQUFLLElBQ0xDLFlBQWEsc0JBQ2JDLFdBQVksMkJBRWRILE1BQU0sUUFDSkMsSUFBSyxRQUNMQyxZQUFhLHNCQUNiQyxXQUFZLDJCQUViSCxNQUFNLFVBQ0xDLElBQUssVUFDTEMsWUFBYSx3QkFDYkMsV0FBWSwrQkFFYkgsTUFBTSxRQUNMQyxJQUFLLFFBQ0xDLFlBQWEsc0JBQ2JDLFdBQVksMkJBRWJILE1BQU0sU0FDTEMsSUFBSyxTQUNMQyxZQUFhLHVCQUNiQyxXQUFZLDZCQUViSCxNQUFNLFdBQ0xDLElBQUssV0FDTEMsWUFBYSx5QkFDYkMsV0FBWSwrQkFDWkMsTUFDRUMsa0JBQWtCLEtBR3JCTCxNQUFNLFVBQ0xDLElBQUssVUFDTEMsWUFBYSx3QkFDYkMsV0FBWSw2QkFDWkMsTUFDRUMsa0JBQWtCLFFBSXpCQyxLQUFBLGFBQUEsWUFBQSxRQUFBLFNBQUksU0FBVUMsRUFBWUMsRUFBV0MsRUFBT0MsR0E2QjND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YUFBZUgsRUFDdEJMLEVBQVFTLFNBQVNOLEdBRWpCSCxFQUFRVSxZQUFZUCIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIsIFtcclxuXHRcdFwidWkucm91dGVyXCIsXHJcblx0XHRcInNhdGVsbGl6ZXJcIixcclxuXHRcdFwibmdDb29raWVzXCIsXHJcblx0XHRcIm5nRmlsZVVwbG9hZFwiXHJcblx0XSk7IiwidmFyIENPTlNUQU5UUyA9IChmdW5jdGlvbiAoKSB7XHJcblx0XHJcblx0dmFyIG1vZHVsZSA9IHt9O1xyXG5cclxuXHRtb2R1bGUuQVBJX0JBU0VfVVJMID0gXCJodHRwOi8vZGlzY292ZXJiYW5kYXBpLmludC9wdWJsaWMvYXBpXCI7XHJcblxyXG5cdHJldHVybiBtb2R1bGU7XHJcbn0oKSk7IiwiYXBwLmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkYXV0aFByb3ZpZGVyLCAkaHR0cFByb3ZpZGVyKSB7XHJcbiAgXHJcbiAgJGF1dGhQcm92aWRlci5sb2dpblVybCAgICA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyAnL2xvZ2luJztcclxuICAkYXV0aFByb3ZpZGVyLnNpZ251cFVybCAgID0gQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArICcvcmVnaXN0ZXInO1xyXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoXCIvXCIpO1xyXG5cclxuICAkc3RhdGVQcm92aWRlclxyXG4gICAgLnN0YXRlKCdob21lJywge1xyXG4gICAgICB1cmw6IFwiL1wiLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogXCJhcHAvcGFnZXMvaG9tZS5odG1sXCIsXHJcbiAgICAgIGNvbnRyb2xsZXI6IFwiaG9tZUNvbnRyb2xsZXIgYXMgaG9tZVwiXHJcbiAgICB9KVxyXG4gIFx0LnN0YXRlKCdzb2xvJywge1xyXG4gICAgICB1cmw6IFwiL3NvbG9cIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL3NvbG8uaHRtbFwiLFxyXG4gICAgICBjb250cm9sbGVyOiBcInNvbG9Db250cm9sbGVyIGFzIHNvbG9cIlxyXG4gICAgfSlcclxuICAgIC5zdGF0ZSgnbWVyZ2VkJywge1xyXG4gICAgICB1cmw6IFwiL21lcmdlZFwiLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogXCJhcHAvcGFnZXMvbWVyZ2VkLmh0bWxcIixcclxuICAgICAgY29udHJvbGxlcjogXCJtZXJnZWRDb250cm9sbGVyIGFzIG1lcmdlZFwiXHJcbiAgICB9KVxyXG4gICAgLnN0YXRlKCdiYW5kJywge1xyXG4gICAgICB1cmw6IFwiL2JhbmRcIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL2JhbmQuaHRtbFwiLFxyXG4gICAgICBjb250cm9sbGVyOiBcImJhbmRDb250cm9sbGVyIGFzIGJhbmRcIlxyXG4gICAgfSlcclxuICAgIC5zdGF0ZSgnbWVyZ2UnLCB7XHJcbiAgICAgIHVybDogXCIvbWVyZ2VcIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL21lcmdlLmh0bWxcIixcclxuICAgICAgY29udHJvbGxlcjogXCJtZXJnZUNvbnRyb2xsZXIgYXMgbWVyZ2VcIlxyXG4gICAgfSlcclxuICAgIC5zdGF0ZSgncHJvZmlsZScsIHtcclxuICAgICAgdXJsOiBcIi9wcm9maWxlXCIsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wYWdlcy9wcm9maWxlLmh0bWxcIixcclxuICAgICAgY29udHJvbGxlcjogXCJwcm9maWxlQ29udHJvbGxlciBhcyBwcm9maWxlXCIsXHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICByZXF1aXJlc0xvZ2dlZEluOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAuc3RhdGUoJ3VwbG9hZCcsIHtcclxuICAgICAgdXJsOiBcIi91cGxvYWRcIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL3VwbG9hZC5odG1sXCIsXHJcbiAgICAgIGNvbnRyb2xsZXI6IFwidXBsb2FkQ29udHJvbGxlciBhcyB1cGxvYWRcIixcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIHJlcXVpcmVzTG9nZ2VkSW46IHRydWVcclxuICAgICAgfVxyXG4gICAgfSlcclxufSlcclxuLnJ1bihmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGxvY2F0aW9uLCAkYXV0aCwgJHN0YXRlKSB7IFxyXG5cclxuICAvL0dsb2JhbHNcclxuICB2YXIgcmVkaXJlY3RTdGF0ZSA9IFwiL1wiO1xyXG5cclxuICAvL1JlZGlyZWN0IHJvdXRlcyBpZiBub3QgYWRtaW5cclxuICAkcm9vdFNjb3BlLiRvbihcIiRzdGF0ZUNoYW5nZVN0YXJ0XCIsIGZ1bmN0aW9uIChlLCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKSB7XHJcblxyXG4gICAgdmFyIG5leHQgPSB0b1N0YXRlLnVybDtcclxuXHJcbiAgICAvL1N0cmlwIGhhc2hiYW5ncyB1c2luZyBSZWdFeFxyXG4gICAgaWYodG9QYXJhbXMpIFxyXG4gICAge1xyXG4gICAgICBuZXh0ID0gJHN0YXRlLmhyZWYodG9TdGF0ZSwgdG9QYXJhbXMpO1xyXG4gICAgICBuZXh0ID0gbmV4dC5yZXBsYWNlKFwiI1wiLCBcIlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNBdXRob3JpemVkKHRvU3RhdGUpKVxyXG4gICAge1xyXG4gICAgICAkbG9jYXRpb24ucGF0aChuZXh0KTtcclxuICAgIH1cclxuICAgIGVsc2VcclxuICAgIHtcclxuICAgICAgY29uc29sZS5sb2coXCJub3RMb2dnZWRJblwiKTtcclxuICAgICAgJGxvY2F0aW9uLnBhdGgocmVkaXJlY3RTdGF0ZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuICBmdW5jdGlvbiBpc0F1dGhvcml6ZWQgKHRvU3RhdGUpIHtcclxuXHJcbiAgICBpZih0b1N0YXRlLmRhdGEgJiYgdG9TdGF0ZS5kYXRhLnJlcXVpcmVzTG9nZ2VkSW4pXHJcbiAgICAgIHJldHVybiAkYXV0aC5pc0F1dGhlbnRpY2F0ZWQoKTtcclxuICAgIGVsc2VcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG59KTsiLCJhcHAuY29udHJvbGxlcihcImJhbmRDb250cm9sbGVyXCIsIGZ1bmN0aW9uKGJhbmRTZXJ2aWNlKSB7XHJcblx0XHJcblx0dmFyIHZtIFx0XHQ9IHRoaXM7XHJcblx0dmFyIGJhbmRTdmMgPSBiYW5kU2VydmljZTtcclxuXHJcblx0ZnVuY3Rpb24gX2luaXQoKSB7XHJcblx0XHR2bS50cmFja0FycmF5ID0gYmFuZFN2Yy5nZXRUcmFja0FycmF5O1xyXG5cdH1cclxuXHJcblx0X2luaXQoKTtcclxufSk7IiwiYXBwLmNvbnRyb2xsZXIoXCJob21lQ29udHJvbGxlclwiLCBmdW5jdGlvbihpbnN0cnVtZW50U2VydmljZSwgZmlsdGVyU2VydmljZSkge1xyXG5cdFxyXG5cdHZhciB2bSA9IHRoaXM7XHJcblx0dmFyIGluc3RTdmMgPSBpbnN0cnVtZW50U2VydmljZTtcclxuXHR2YXIgZmx0U3ZjID0gZmlsdGVyU2VydmljZTtcclxuXHJcblx0ZnVuY3Rpb24gX2luaXQoKSB7XHJcblx0XHQvL2luc3RTdmMuZ2V0SW5zdHJ1bWVudHMoKTtcclxuXHJcblx0XHR2bS5maWx0ZXJEYXRhID0gZmx0U3ZjLnNvbG9GaWx0ZXJEYXRhO1xyXG5cdH1cclxuXHJcblx0X2luaXQoKTtcclxufSk7IiwiYXBwLmNvbnRyb2xsZXIoXCJtZXJnZUNvbnRyb2xsZXJcIiwgZnVuY3Rpb24oYmFuZFNlcnZpY2UsIG1lcmdlZFNlcnZpY2UsICRzdGF0ZSkge1xyXG5cdHZhciB2bSBcdFx0XHQ9IHRoaXM7XHJcblx0dmFyIGJhbmRTdmMgXHQ9IGJhbmRTZXJ2aWNlO1xyXG5cdHZhciBtZXJnZWRTdmMgXHQ9IG1lcmdlZFNlcnZpY2U7XHJcblx0dmFyIHdhdmVzdXJmZXIgXHQ9IFtdO1xyXG5cclxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdHZtLnRyYWNrcyBcdFx0XHQ9IGJhbmRTdmMuZ2V0VHJhY2tBcnJheSgpO1xyXG5cdFx0dm0uc2hvd1RyYWNrcyBcdFx0PSBmYWxzZTtcclxuXHRcdHZtLnRoZXJlQXJlVHJhY2tzXHQ9IGZhbHNlO1xyXG5cdFx0dm0ubG9hZGVkVHJhY2tzIFx0PSBbXTtcclxuXHRcdHZtLnNhdmVkVGltZSBcdFx0PSBbXTtcclxuXHRcdHZtLnRyaW1BbW91bnRzICBcdD0gW107XHJcblxyXG5cdFx0aWYodm0udHJhY2tzLmxlbmd0aCA+IDApXHJcblx0XHR7XHJcblx0XHRcdHZtLnRoZXJlQXJlVHJhY2tzXHQ9IHRydWU7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR2bS5sb2FkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRpZih2bS50aGVyZUFyZVRyYWNrcylcclxuXHRcdHtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IHZtLnRyYWNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG5cdFx0XHRcdHZhciB0cmFja19pZCA9IHZtLnRyYWNrc1tpXS5pZDtcclxuXHJcblx0XHRcdFx0d2F2ZXN1cmZlclt0cmFja19pZF0gPSBXYXZlU3VyZmVyLmNyZWF0ZSh7XHJcblx0XHQgICAgXHRcdGNvbnRhaW5lcjogJyN3YXZlZm9ybScrdHJhY2tfaWQsXHJcblx0XHQgICAgXHRcdHdhdmVDb2xvcjogJ2dyZWVuJyxcclxuXHRcdCAgICBcdFx0cHJvZ3Jlc3NDb2xvcjogJ3B1cnBsZSdcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0d2F2ZXN1cmZlclt0cmFja19pZF0ubG9hZCgnaHR0cDovL2Rpc2NvdmVyYmFuZGFwaS5pbnQvcHVibGljL2FwaS9hdWRpby8nICsgdm0udHJhY2tzW2ldLmZpbGVfdXJsKTtcclxuXHJcblx0XHRcdFx0dm0ubG9hZGVkVHJhY2tzLnB1c2goe1xyXG5cdCAgICAgICAgICAgIFx0dHJhY2tfaWQ6IHRyYWNrX2lkLFxyXG5cdCAgICAgICAgICAgIFx0dHJpbV9hbW91bnQ6IDBcclxuXHQgICAgICAgIFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0dm0uc2hvd1RyYWNrcyA9IHRydWU7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR2bS5wbGF5UGF1c2UgPSBmdW5jdGlvbihpZCkge1xyXG5cdFx0aWYoIXdhdmVzdXJmZXJbaWRdLmlzUGxheWluZygpKVxyXG5cdFx0e1xyXG5cdFx0XHR2bS5zYXZlZFRpbWVbaWRdID0gd2F2ZXN1cmZlcltpZF0uZ2V0Q3VycmVudFRpbWUoKTtcclxuXHRcdFx0Y29uc29sZS5sb2codm0uc2F2ZWRUaW1lKTtcclxuXHRcdH1cclxuXHJcblx0XHR3YXZlc3VyZmVyW2lkXS5wbGF5UGF1c2UoKTtcclxuXHRcdHdhdmVzdXJmZXJbaWRdLnpvb20oNTApO1xyXG5cdH1cclxuXHJcblx0dm0udHJpbSA9IGZ1bmN0aW9uKGlkKSB7XHJcblx0XHR2YXIgdGltZVRvVHJpbSA9IHdhdmVzdXJmZXJbaWRdLmdldEN1cnJlbnRUaW1lKCk7XHJcblx0XHRmb3IgKHZhciBpID0gdm0ubG9hZGVkVHJhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdGlmKHZtLmxvYWRlZFRyYWNrc1tpXS50cmFja19pZCA9PT0gaWQpXHJcblx0XHRcdHtcclxuXHRcdFx0XHR2bS5sb2FkZWRUcmFja3NbaV0udHJpbV9hbW91bnQgXHQ9IHRpbWVUb1RyaW07XHJcblx0XHRcdFx0dm0udHJpbUFtb3VudHNbaWRdIFx0XHRcdFx0PSBNYXRoLnJvdW5kKHRpbWVUb1RyaW0gKiAxMDApIC8gMTAwO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHJcblx0dm0ucGxheVBhdXNlQWxsID0gZnVuY3Rpb24oKSB7XHJcblx0XHRmb3IgKHZhciBpID0gdm0ubG9hZGVkVHJhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdHZhciBpZCA9IHZtLmxvYWRlZFRyYWNrc1tpXS50cmFja19pZDtcclxuXHRcdFx0aWYoIXdhdmVzdXJmZXJbaWRdLmlzUGxheWluZygpKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dm0uc2F2ZWRUaW1lW2lkXSA9IHdhdmVzdXJmZXJbaWRdLmdldEN1cnJlbnRUaW1lKCk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2codm0uc2F2ZWRUaW1lKTtcclxuXHRcdFx0fVxyXG5cclxuICAgIFx0XHR3YXZlc3VyZmVyW2lkXS5wbGF5UGF1c2UoKTtcclxuICAgIFx0XHR3YXZlc3VyZmVyW2lkXS56b29tKDUwKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZtLnRvUHJldmlvdXMgPSBmdW5jdGlvbigpIHtcclxuXHRcdGZvciAodmFyIGkgPSB2bS5sb2FkZWRUcmFja3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuXHRcdFx0dmFyIGlkID0gdm0ubG9hZGVkVHJhY2tzW2ldLnRyYWNrX2lkO1xyXG5cdFx0XHR2YXIgcHJldmlvdXNUaW1lIFx0PSB2bS5zYXZlZFRpbWVbaWRdO1xyXG5cdFx0XHR2YXIgdG90YWxUaW1lXHRcdD0gd2F2ZXN1cmZlcltpZF0uZ2V0RHVyYXRpb24oKTtcclxuXHRcdFx0dmFyIHByb2dyZXNzID0gcHJldmlvdXNUaW1lIC8gdG90YWxUaW1lO1xyXG5cdFx0XHR3YXZlc3VyZmVyW2lkXS5zZWVrQW5kQ2VudGVyKHByb2dyZXNzKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZtLnRvU3RhcnQgPSBmdW5jdGlvbihpZCkge1xyXG5cdFx0d2F2ZXN1cmZlcltpZF0uc2Vla0FuZENlbnRlcigwKTtcclxuXHR9XHJcblxyXG5cdFxyXG5cdHZtLnNhdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdG1lcmdlZFN2Yy5tZXJnZVRyYWNrcyh2bS5sb2FkZWRUcmFja3MpXHJcblx0XHQudGhlbihmdW5jdGlvbihkYXRhKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgJHN0YXRlLmdvKFwibWVyZ2VkXCIpO1xyXG5cclxuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfSk7XHJcblx0fVxyXG5cclxuXHRfaW5pdCgpO1xyXG59KTsiLCJhcHAuY29udHJvbGxlcihcIm1lcmdlZENvbnRyb2xsZXJcIiwgZnVuY3Rpb24oJHNjb3BlLCBtZXJnZWRTZXJ2aWNlLCBmaWx0ZXJTZXJ2aWNlKSB7XHJcblx0XHJcblx0dmFyIHZtICBcdFx0PSB0aGlzO1xyXG5cdHZhciBtZ2RTdmMgXHRcdD0gbWVyZ2VkU2VydmljZTtcclxuXHR2YXIgZmx0U3ZjIFx0XHQ9IGZpbHRlclNlcnZpY2U7XHJcblxyXG5cdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRmdW5jdGlvbiBwbGF5QXVkaW9GaWxlKHRyYWNrKVxyXG5cdHtcclxuXHRcdHRyYWNrLnBsYXkoKTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGdldE1lcmdlZFRyYWNrcygpIHtcclxuXHRcdG1lcmdlZFNlcnZpY2UuZ2V0VHJhY2tzKClcclxuXHRcdFx0LnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHZtLm1lcmdlZFRyYWNrcyA9IGRhdGEuZGF0YTtcclxuXHRcdFx0XHR2bS5maWx0ZXJlZFRyYWNrcyA9IHZtLm1lcmdlZFRyYWNrcztcclxuXHRcdFx0XHRmaWx0ZXIoKTtcclxuXHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHZtLm1lcmdlZFRyYWNrcywgZnVuY3Rpb24odHJhY2ssIGtleSkge1xyXG5cdFx0XHRcdFx0XHRuZXdUcmFjayA9IG5ldyBBdWRpbygnaHR0cDovL2Rpc2NvdmVyYmFuZGFwaS5pbnQvcHVibGljL2F1ZGlvLycgKyB0cmFjay5maWxlX3VybCk7XHJcblx0XHRcdFx0XHRcdHZtLm1lcmdlZFRyYWNrQXVkaW9bdHJhY2suaWRdID0gbmV3VHJhY2s7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSwgZnVuY3Rpb24oZXJyb3IpIHtcclxuXHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGZpbHRlcigpIHtcclxuXHRcdFxyXG5cdFx0dm0uZmlsdGVyZWRUcmFja3MgPSBbXTtcclxuXHJcblx0XHRhbmd1bGFyLmZvckVhY2godm0ubWVyZ2VkVHJhY2tzLCBmdW5jdGlvbih0cmFjaywga2V5KSB7XHJcblxyXG5cdFx0XHRnb29kU2VhcmNoID0gdHJ1ZTtcclxuXHJcblx0XHRcdGlmKCF2bS5maWx0ZXJEYXRhLmFydGlzdCA9PSBcIlwiICYmICF0cmFjay5hcnRpc3QubmFtZS5tYXRjaChuZXcgUmVnRXhwKHZtLmZpbHRlckRhdGEuYXJ0aXN0LCBcImlcIikpKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Z29vZFNlYXJjaCA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZighdm0uZmlsdGVyRGF0YS50aXRsZSA9PSBcIlwiICYmICF0cmFjay5zb25nbmFtZS5tYXRjaChuZXcgUmVnRXhwKHZtLmZpbHRlckRhdGEudGl0bGUsIFwiaVwiKSkpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRnb29kU2VhcmNoID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRpZihnb29kU2VhcmNoKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dm0uZmlsdGVyZWRUcmFja3MucHVzaCh0cmFjayk7XHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdHZtLm1lcmdlZFRyYWNrQXVkaW8gPSBbXTtcclxuXHRcdHZtLmN1cnJlbnRBdWRpb1RyYWNrSWQgPSBcIlwiO1xyXG5cclxuXHRcdGdldE1lcmdlZFRyYWNrcygpO1xyXG5cdFx0dm0uZmlsdGVyRGF0YSA9IGZsdFN2Yy5tZXJnZWRGaWx0ZXJEYXRhO1xyXG5cdH1cclxuXHJcblx0Ly9WbSBmdW5jdGlvbnNcclxuXHR2bS5wbGF5ID0gZnVuY3Rpb24odHJhY2tJZCkge1xyXG5cclxuXHRcdGlmKHZtLmN1cnJlbnRBdWRpb1RyYWNrSWQgIT0gXCJcIikge1xyXG5cdFx0XHR2bS5wYXVzZSh2bS5jdXJyZW50QXVkaW9UcmFja0lkKTtcclxuXHRcdH1cclxuXHJcblx0XHR2bS5jdXJyZW50QXVkaW9UcmFja0lkID0gdHJhY2tJZDtcclxuXHRcdHZtLm1lcmdlZFRyYWNrQXVkaW9bdHJhY2tJZF0ucGxheSgpO1xyXG5cdH1cclxuXHJcblx0dm0ucGF1c2UgPSBmdW5jdGlvbih0cmFja0lkKSB7XHJcblx0XHR2bS5tZXJnZWRUcmFja0F1ZGlvW3RyYWNrSWRdLnBhdXNlKCk7XHJcblx0XHR2bS5jdXJyZW50QXVkaW9UcmFja0lkID0gXCJcIjtcclxuXHR9XHJcblxyXG5cdHZtLmRvd25sb2FkID0gZnVuY3Rpb24oaWQpIHtcclxuICAgIFx0d2luZG93Lm9wZW4oQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArICcvbWVyZ2VkdHJhY2tzLycgKyBpZCArICcvZG93bmxvYWQnLCAnX2JsYW5rJywgJycpOyAgXHJcblx0fVxyXG5cclxuXHJcblx0Ly9XYXRjaGVzXHJcblx0JHNjb3BlLiR3YXRjaChcclxuXHRcdGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZtLmZpbHRlckRhdGEgfSwgXHJcblx0XHRmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRpZih2bS5maWx0ZXJEYXRhKSBcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGZpbHRlcigpO1xyXG5cdFx0XHR9XHJcblx0XHR9LCB0cnVlKTtcclxuXHJcblxyXG5cclxuXHQvL3ZtLnRyYWNrMSA9IG5ldyBBdWRpbyhcImRpc3QvYXVkaW8vQmVoZW1vdGggLSBDb25xdWVyIEFsbCAtIERydW0ubXAzXCIpO1xyXG5cdC8vdm0udHJhY2syID0gbmV3IEF1ZGlvKFwiZGlzdC9hdWRpby9CZWhlbW90aCAtIENvbnF1ZXIgQWxsIC0gR3VpdGFyLm1wM1wiKTtcclxuXHJcblxyXG5cdF9pbml0KCk7XHJcbn0pOyIsImFwcC5jb250cm9sbGVyKFwicHJvZmlsZUNvbnRyb2xsZXJcIiwgZnVuY3Rpb24odXNlclNlcnZpY2UpIHtcclxuXHRcclxuXHR2YXIgdm0gXHRcdD0gdGhpcztcclxuXHR2YXIgdXNlclN2YyA9IHVzZXJTZXJ2aWNlO1xyXG5cdHZhciB0YXJnZXQgXHQ9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGRhdGUtcHJvZmlsZS1zcGlubmVyJyk7XHJcblxyXG5cdHZhciBvcHRzID0ge1xyXG5cdFx0XHRsaW5lczogMTMgLy8gVGhlIG51bWJlciBvZiBsaW5lcyB0byBkcmF3XHJcblx0XHQsIGxlbmd0aDogMjggLy8gVGhlIGxlbmd0aCBvZiBlYWNoIGxpbmVcclxuXHRcdCwgd2lkdGg6IDEyIC8vIFRoZSBsaW5lIHRoaWNrbmVzc1xyXG5cdFx0LCByYWRpdXM6IDQyIC8vIFRoZSByYWRpdXMgb2YgdGhlIGlubmVyIGNpcmNsZVxyXG5cdFx0LCBzY2FsZTogMC4xNSAvLyBTY2FsZXMgb3ZlcmFsbCBzaXplIG9mIHRoZSBzcGlubmVyXHJcblx0XHQsIGNvcm5lcnM6IDEgLy8gQ29ybmVyIHJvdW5kbmVzcyAoMC4uMSlcclxuXHRcdCwgY29sb3I6ICcjMDAwJyAvLyAjcmdiIG9yICNycmdnYmIgb3IgYXJyYXkgb2YgY29sb3JzXHJcblx0XHQsIG9wYWNpdHk6IDAuMjUgLy8gT3BhY2l0eSBvZiB0aGUgbGluZXNcclxuXHRcdCwgcm90YXRlOiAwIC8vIFRoZSByb3RhdGlvbiBvZmZzZXRcclxuXHRcdCwgZGlyZWN0aW9uOiAxIC8vIDE6IGNsb2Nrd2lzZSwgLTE6IGNvdW50ZXJjbG9ja3dpc2VcclxuXHRcdCwgc3BlZWQ6IDEgLy8gUm91bmRzIHBlciBzZWNvbmRcclxuXHRcdCwgdHJhaWw6IDYwIC8vIEFmdGVyZ2xvdyBwZXJjZW50YWdlXHJcblx0XHQsIGZwczogMjAgLy8gRnJhbWVzIHBlciBzZWNvbmQgd2hlbiB1c2luZyBzZXRUaW1lb3V0KCkgYXMgYSBmYWxsYmFjayBmb3IgQ1NTXHJcblx0XHQsIHpJbmRleDogMmU5IC8vIFRoZSB6LWluZGV4IChkZWZhdWx0cyB0byAyMDAwMDAwMDAwKVxyXG5cdFx0LCBjbGFzc05hbWU6ICdzcGlubmVyJyAvLyBUaGUgQ1NTIGNsYXNzIHRvIGFzc2lnbiB0byB0aGUgc3Bpbm5lclxyXG5cdFx0LCB0b3A6ICc4OSUnIC8vIFRvcCBwb3NpdGlvbiByZWxhdGl2ZSB0byBwYXJlbnRcclxuXHRcdCwgbGVmdDogJzI1LjUlJyAvLyBMZWZ0IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG5cdFx0LCBzaGFkb3c6IGZhbHNlIC8vIFdoZXRoZXIgdG8gcmVuZGVyIGEgc2hhZG93XHJcblx0XHQsIGh3YWNjZWw6IGZhbHNlIC8vIFdoZXRoZXIgdG8gdXNlIGhhcmR3YXJlIGFjY2VsZXJhdGlvblxyXG5cdFx0LCBwb3NpdGlvbjogJ2Fic29sdXRlJyAvLyBFbGVtZW50IHBvc2l0aW9uaW5nXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdHVzZXJTdmMuZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuXHRcdFx0dm0udXNlcm5hbWUgPSBkYXRhLmRhdGEudXNlcm5hbWU7XHJcblx0XHRcdHZtLmVtYWlsIFx0PSBkYXRhLmRhdGEuZW1haWw7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHZtLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHNwaW5uZXIgPSBuZXcgU3Bpbm5lcihvcHRzKS5zcGluKHRhcmdldCk7XHJcblx0ICAgIHZtLmxvYWRpbmcgXHQ9IHRydWU7XHJcblxyXG5cdFx0dmFyIHVzZXJpbmZvID0ge1xyXG4gICAgICAgICAgICB1c2VybmFtZTogdm0udXNlcm5hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiB2bS5lbWFpbFxyXG4gICAgICAgIH1cclxuXHJcblx0XHR1c2VyU3ZjLnVwZGF0ZVVzZXIodXNlcmluZm8pXHJcblx0XHRcdC50aGVuKGZ1bmN0aW9uKGRhdGEpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRzcGlubmVyLnN0b3AoKTtcclxuXHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdH0sIGZ1bmN0aW9uKGVycm9yKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0c3Bpbm5lci5zdG9wKCk7XHJcblx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdF9pbml0KCk7XHJcbn0pOyIsImFwcC5jb250cm9sbGVyKFwic29sb0NvbnRyb2xsZXJcIiwgZnVuY3Rpb24oJHNjb3BlLCBiYW5kU2VydmljZSwgc29sb1NlcnZpY2UsIGluc3RydW1lbnRTZXJ2aWNlLCBmaWx0ZXJTZXJ2aWNlKSB7XHJcblx0XHJcblx0dmFyIHZtID0gdGhpcztcclxuXHR2YXIgYmFuZFN2YyA9IGJhbmRTZXJ2aWNlO1xyXG5cdHZhciBzb2xvU3ZjID0gc29sb1NlcnZpY2U7XHJcblx0dmFyIGluc3RTdmMgPSBpbnN0cnVtZW50U2VydmljZTtcclxuXHR2YXIgZmx0U3ZjID0gZmlsdGVyU2VydmljZTtcclxuXHJcblx0Ly9Qcml2YXRlIGZ1bmN0aW9uc1xyXG5cdGZ1bmN0aW9uIHBsYXlBdWRpb0ZpbGUodHJhY2spXHJcblx0e1xyXG5cdFx0dHJhY2sucGxheSgpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZ2V0U29sb1RyYWNrcygpXHJcblx0e1xyXG5cdFx0c29sb1N2Yy5nZXRUcmFja3MoKVxyXG5cdFx0XHQudGhlbihmdW5jdGlvbihkYXRhKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dm0uc29sb1RyYWNrcyA9IGRhdGEuZGF0YTtcclxuXHRcdFx0XHR2bS5maWx0ZXJlZFRyYWNrcyA9IHZtLnNvbG9UcmFja3M7XHJcblx0XHRcdFx0ZmlsdGVyKCk7XHJcblxyXG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaCh2bS5zb2xvVHJhY2tzLCBmdW5jdGlvbih0cmFjaywga2V5KSB7XHJcblx0XHRcdFx0XHRcdC8vbmV3VHJhY2sgPSBuZXcgQXVkaW8odHJhY2suZmlsZV91cmwpO1xyXG5cdFx0XHRcdFx0XHRuZXdUcmFjayA9IG5ldyBBdWRpbygnaHR0cDovL2Rpc2NvdmVyYmFuZGFwaS5pbnQvcHVibGljL2F1ZGlvLycgKyB0cmFjay5maWxlX3VybCk7XHJcblx0XHRcdFx0XHRcdHZtLnNvbG9UcmFja0F1ZGlvW3RyYWNrLmlkXSA9IG5ld1RyYWNrO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHR9LCBmdW5jdGlvbihlcnJvcilcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBmaWx0ZXIoKVxyXG5cdHtcclxuXHRcdHZtLmZpbHRlcmVkVHJhY2tzID0gW107XHJcblxyXG5cdFx0YW5ndWxhci5mb3JFYWNoKHZtLnNvbG9UcmFja3MsIGZ1bmN0aW9uKHRyYWNrLCBrZXkpXHJcblx0XHR7XHJcblx0XHRcdGdvb2RTZWFyY2ggPSB0cnVlO1xyXG5cclxuXHRcdFx0aWYoIXZtLmZpbHRlckRhdGEuYXJ0aXN0ID09IFwiXCIgJiYgIXRyYWNrLmFydGlzdC5uYW1lLm1hdGNoKG5ldyBSZWdFeHAodm0uZmlsdGVyRGF0YS5hcnRpc3QsIFwiaVwiKSkpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRnb29kU2VhcmNoID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKCF2bS5maWx0ZXJEYXRhLnRpdGxlID09IFwiXCIgJiYgIXRyYWNrLnNvbmduYW1lLm1hdGNoKG5ldyBSZWdFeHAodm0uZmlsdGVyRGF0YS50aXRsZSwgXCJpXCIpKSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGdvb2RTZWFyY2ggPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYoIXZtLmZpbHRlckRhdGFbdHJhY2suaW5zdHJ1bWVudF9pZF0pXHJcblx0XHRcdHtcclxuXHRcdFx0XHRnb29kU2VhcmNoID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRpZihnb29kU2VhcmNoKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dm0uZmlsdGVyZWRUcmFja3MucHVzaCh0cmFjayk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmKHZtLmZpbHRlcmVkVHJhY2tzLmxlbmd0aCA9PT0gMCkgXHJcblx0XHR7XHJcblx0XHRcdHZtLnNob3dOb1Jlc3VsdHNGb3VuZCA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRlbHNlXHJcblx0XHR7XHJcblx0XHRcdHZtLnNob3dOb1Jlc3VsdHNGb3VuZCA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LypmdW5jdGlvbiBhcnJheU9iamVjdEluZGV4T2YobXlBcnJheSwgc2VhcmNoVGVybSwgcHJvcGVydHkpIHtcclxuICAgIFx0XHJcbiAgICBcdGZvcih2YXIgaSA9IDAsIGxlbiA9IG15QXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBcdGlmIChteUFycmF5W2ldW3Byb3BlcnR5XSA9PT0gc2VhcmNoVGVybSkgcmV0dXJuIGk7XHJcbiAgICBcdH1cclxuXHJcbiAgICBcdHJldHVybiAtMTtcclxuXHR9Ki9cclxuXHJcblx0ZnVuY3Rpb24gX2luaXQoKSB7XHJcblx0XHR2bS5zb2xvVHJhY2tBdWRpbyBcdFx0PSBbXTtcclxuXHRcdHZtLmN1cnJlbnRBdWRpb1RyYWNrSWQgXHQ9IFwiXCI7XHJcblx0XHR2bS5zaG93Tm9SZXN1bHRzRm91bmQgXHQ9IGZhbHNlO1xyXG5cclxuXHRcdGluc3RTdmMuZ2V0SW5zdHJ1bWVudHMoKVxyXG5cdFx0XHQudGhlbihmdW5jdGlvbihkYXRhKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dm0uaW5zdHJ1bWVudHMgPSBkYXRhLmRhdGE7XHJcblx0XHRcdH0sIGZ1bmN0aW9uKGVycm9yKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRnZXRTb2xvVHJhY2tzKCk7XHJcblx0XHR2bS5maWx0ZXJEYXRhIFx0XHRcdD0gZmx0U3ZjLnNvbG9GaWx0ZXJEYXRhO1xyXG5cdFx0dm0udHJhY2tBcnJheSBcdFx0XHQ9IGJhbmRTdmMuZ2V0VHJhY2tBcnJheTtcclxuXHRcdHZtLmJhbmRUcmFja0lkQXJyYXkgXHQ9IGJhbmRTdmMuZ2V0VHJhY2tJZEFycmF5O1xyXG5cdFx0dm0udHJhY2tBcnJheUNvdW50IFx0XHQ9IGJhbmRTdmMuZ2V0VHJhY2tBcnJheUNvdW50O1x0XHJcblx0fVxyXG5cclxuXHQvL1ZtIGZ1bmN0aW9uc1xyXG5cdHZtLmFkZFRvQmFuZCA9IGZ1bmN0aW9uKHRyYWNrKSB7XHJcblxyXG5cdFx0YmFuZFN2Yy5hZGRUb1RyYWNrQXJyYXkodHJhY2spO1xyXG5cdFx0Lyp2bS5iYW5kVHJhY2tJZEFycmF5ID0gW107XHJcblxyXG5cdFx0YmFuZFN2Yy50cmFja0FycmF5LnB1c2godHJhY2spO1xyXG5cdFx0YmFuZFN2Yy50cmFja0FycmF5Q291bnQgKys7XHJcblx0XHRhbmd1bGFyLmZvckVhY2goYmFuZFN2Yy50cmFja0FycmF5LCBmdW5jdGlvbih0cmFjaywga2V5KSB7XHJcblx0XHRcdHZtLmJhbmRUcmFja0lkQXJyYXkucHVzaCh0cmFjay5pZCk7XHJcblx0XHR9KTsqL1xyXG5cclxuXHRcdGNvbnNvbGUubG9nKHRyYWNrKTtcclxuXHR9XHJcblxyXG5cdHZtLnJlbW92ZUZyb21CYW5kID0gZnVuY3Rpb24odHJhY2spIHtcclxuXHRcdFxyXG5cdFx0YmFuZFN2Yy5yZW1vdmVGcm9tVHJhY2tBcnJheSh0cmFjayk7XHJcblx0XHQvKmluZGV4ID0gYXJyYXlPYmplY3RJbmRleE9mKGJhbmRTdmMudHJhY2tBcnJheSwgdHJhY2suaWQsIFwiaWRcIik7XHJcblx0XHRpZiAoaW5kZXggPiAtMSkge1xyXG5cdFx0XHRiYW5kU3ZjLnRyYWNrQXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0YmFuZFN2Yy50cmFja0FycmF5Q291bnQgLS07XHJcblx0XHRcdHZtLmJhbmRUcmFja0FycmF5ID0gYmFuZFN2Yy50cmFja0FycmF5O1xyXG5cclxuXHRcdFx0aW50SW5kZXggPSB2bS5iYW5kVHJhY2tJZEFycmF5LmluZGV4T2YodHJhY2suaWQpO1xyXG5cdFx0XHRpZiAoaW50SW5kZXggPiAtMSkge1xyXG5cdFx0XHRcdHZtLmJhbmRUcmFja0lkQXJyYXkuc3BsaWNlKGludEluZGV4LCAxKTtcclxuXHRcdFx0fVxyXG5cdFx0fSovXHJcblxyXG5cdFx0Y29uc29sZS5sb2coXCJUcmFjayByZW1vdmVkIGZyb20gbmV3IGJhbmQ6IFwiICsgdHJhY2spO1xyXG5cdFx0Ly9jb25zb2xlLmxvZyhiYW5kU3ZjLnRyYWNrQXJyYXkpO1xyXG5cdH1cclxuXHJcblx0dm0ucGxheSA9IGZ1bmN0aW9uKHRyYWNrSWQpIHtcclxuXHJcblx0XHRpZih2bS5jdXJyZW50QXVkaW9UcmFja0lkICE9IFwiXCIpIHtcclxuXHRcdFx0dm0ucGF1c2Uodm0uY3VycmVudEF1ZGlvVHJhY2tJZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dm0uY3VycmVudEF1ZGlvVHJhY2tJZCA9IHRyYWNrSWQ7XHJcblx0XHR2bS5zb2xvVHJhY2tBdWRpb1t0cmFja0lkXS5wbGF5KCk7XHJcblx0fVxyXG5cclxuXHR2bS5wYXVzZSA9IGZ1bmN0aW9uKHRyYWNrSWQpIHtcclxuXHRcdHZtLnNvbG9UcmFja0F1ZGlvW3RyYWNrSWRdLnBhdXNlKCk7XHJcblx0XHR2bS5jdXJyZW50QXVkaW9UcmFja0lkID0gXCJcIjtcclxuXHR9XHJcblxyXG5cdC8vV2F0Y2hlc1xyXG5cdCRzY29wZS4kd2F0Y2goXHJcblx0XHRmdW5jdGlvbiAoKSB7IHJldHVybiB2bS5maWx0ZXJEYXRhIH0sIFxyXG5cdFx0ZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZih2bS5maWx0ZXJEYXRhKSBcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGZpbHRlcigpO1x0XHRcclxuXHRcdFx0fVxyXG5cdFx0fSwgdHJ1ZSk7XHJcblxyXG5cdF9pbml0KCk7XHJcbn0pOyIsImFwcC5jb250cm9sbGVyKFwidXBsb2FkQ29udHJvbGxlclwiLCBmdW5jdGlvbihVcGxvYWQsIGFydGlzdFNlcnZpY2UsIGluc3RydW1lbnRTZXJ2aWNlLCBzb2xvU2VydmljZSwgJHN0YXRlKSB7XHJcbiAgXHJcbiAgdmFyIHZtICAgICAgICAgICAgPSB0aGlzO1xyXG4gIHZhciBzb2xvU3ZjICAgICAgID0gc29sb1NlcnZpY2U7XHJcbiAgdmFyIGFydGlzdFN2YyAgICAgPSBhcnRpc3RTZXJ2aWNlO1xyXG4gIHZhciBpbnN0cnVtZW50U3ZjID0gaW5zdHJ1bWVudFNlcnZpY2U7XHJcbiAgdmFyIHRhcmdldCAgICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBsb2FkLXNwaW5uZXInKTtcclxuICBcclxuICB2YXIgb3B0cyA9IHtcclxuICAgICAgbGluZXM6IDEzIC8vIFRoZSBudW1iZXIgb2YgbGluZXMgdG8gZHJhd1xyXG4gICAgLCBsZW5ndGg6IDI4IC8vIFRoZSBsZW5ndGggb2YgZWFjaCBsaW5lXHJcbiAgICAsIHdpZHRoOiAxMiAvLyBUaGUgbGluZSB0aGlja25lc3NcclxuICAgICwgcmFkaXVzOiA0MiAvLyBUaGUgcmFkaXVzIG9mIHRoZSBpbm5lciBjaXJjbGVcclxuICAgICwgc2NhbGU6IDAuMzAgLy8gU2NhbGVzIG92ZXJhbGwgc2l6ZSBvZiB0aGUgc3Bpbm5lclxyXG4gICAgLCBjb3JuZXJzOiAxIC8vIENvcm5lciByb3VuZG5lc3MgKDAuLjEpXHJcbiAgICAsIGNvbG9yOiAnIzAwMCcgLy8gI3JnYiBvciAjcnJnZ2JiIG9yIGFycmF5IG9mIGNvbG9yc1xyXG4gICAgLCBvcGFjaXR5OiAwLjI1IC8vIE9wYWNpdHkgb2YgdGhlIGxpbmVzXHJcbiAgICAsIHJvdGF0ZTogMCAvLyBUaGUgcm90YXRpb24gb2Zmc2V0XHJcbiAgICAsIGRpcmVjdGlvbjogMSAvLyAxOiBjbG9ja3dpc2UsIC0xOiBjb3VudGVyY2xvY2t3aXNlXHJcbiAgICAsIHNwZWVkOiAxIC8vIFJvdW5kcyBwZXIgc2Vjb25kXHJcbiAgICAsIHRyYWlsOiA2MCAvLyBBZnRlcmdsb3cgcGVyY2VudGFnZVxyXG4gICAgLCBmcHM6IDIwIC8vIEZyYW1lcyBwZXIgc2Vjb25kIHdoZW4gdXNpbmcgc2V0VGltZW91dCgpIGFzIGEgZmFsbGJhY2sgZm9yIENTU1xyXG4gICAgLCB6SW5kZXg6IDJlOSAvLyBUaGUgei1pbmRleCAoZGVmYXVsdHMgdG8gMjAwMDAwMDAwMClcclxuICAgICwgY2xhc3NOYW1lOiAnc3Bpbm5lcicgLy8gVGhlIENTUyBjbGFzcyB0byBhc3NpZ24gdG8gdGhlIHNwaW5uZXJcclxuICAgICwgdG9wOiAnNDAlJyAvLyBUb3AgcG9zaXRpb24gcmVsYXRpdmUgdG8gcGFyZW50XHJcbiAgICAsIGxlZnQ6ICc1MCUnIC8vIExlZnQgcG9zaXRpb24gcmVsYXRpdmUgdG8gcGFyZW50XHJcbiAgICAsIHNoYWRvdzogZmFsc2UgLy8gV2hldGhlciB0byByZW5kZXIgYSBzaGFkb3dcclxuICAgICwgaHdhY2NlbDogZmFsc2UgLy8gV2hldGhlciB0byB1c2UgaGFyZHdhcmUgYWNjZWxlcmF0aW9uXHJcbiAgICAsIHBvc2l0aW9uOiAnYWJzb2x1dGUnIC8vIEVsZW1lbnQgcG9zaXRpb25pbmdcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIF9pbml0KCkge1xyXG4gICAgICB2bS51cGxvYWRlZCAgICAgICA9IGZhbHNlO1xyXG4gICAgICB2bS5zaG93Zm9ybSAgICAgICA9IGZhbHNlO1xyXG5cclxuICAgICAgdm0uaW5zdHJ1bWVudHMgICAgPSBpbnN0cnVtZW50U3ZjLmdldEluc3RydW1lbnRzKClcclxuICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSlcclxuICAgICAge1xyXG4gICAgICAgIHZtLmluc3RydW1lbnRzICA9IGRhdGEuZGF0YTtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEpO1xyXG4gICAgICB9LCBmdW5jdGlvbihlcnJvcilcclxuICAgICAge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB2bS5hcnRpc3RzICAgICAgICA9IGFydGlzdFN2Yy5nZXRBcnRpc3RzKClcclxuICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSlcclxuICAgICAge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YSk7XHJcbiAgICAgICAgdm0uYXJ0aXN0cyAgICAgID0gZGF0YS5kYXRhO1xyXG4gICAgICBcclxuICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpXHJcbiAgICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdm0udXBsb2FkRmlsZSA9IGZ1bmN0aW9uIChmaWxlKSB7XHJcbiAgICAgICAgdmFyIHNwaW5uZXIgPSBuZXcgU3Bpbm5lcihvcHRzKS5zcGluKHRhcmdldCk7XHJcbiAgICAgICAgdm0ubG9hZGluZyAgPSB0cnVlO1xyXG4gICAgICAgIHZtLnVwbG9hZGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgZm9ybVxyXG4gICAgICAgIHZtLnNob3dmb3JtICAgICA9IHRydWU7XHJcbiAgICAgICAgJCgnc2VsZWN0JykubWF0ZXJpYWxfc2VsZWN0KCk7XHJcblxyXG4gICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICB1cmw6IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi91cGxvYWRcIixcclxuICAgICAgICAgICAgZmlsZUZvcm1EYXRhTmFtZTogJ3NvbmcnLFxyXG4gICAgICAgICAgICBzZW5kRmllbGRzQXM6ICdmb3JtJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgIHNvbmc6IGZpbGVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcclxuICAgICAgICAgICAgdm0uZmlsZW5hbWUgICAgID0gcmVzcC5kYXRhLm5hbWU7XHJcbiAgICAgICAgICAgIHZtLnRyYWNrbGVuZ3RoICA9IHJlc3AuZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHNwaW5uZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICB2bS5sb2FkaW5nICAgICAgPSBmYWxzZTtcclxuICAgICAgICAgICAgdm0udXBsb2FkZWQgICAgID0gdHJ1ZTtcclxuICAgICAgICB9LCBcclxuICAgICAgICBmdW5jdGlvbiAocmVzcCkge1xyXG4gICAgICAgICAgICB2bS5sb2FkaW5nICA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzcGlubmVyLnN0b3AoKTtcclxuICAgICAgICAgICAgdm0udXBsb2FkZmFpbGVkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uc2F2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHVzZXJfaWQgPSBKU09OLnBhcnNlKGdldENvb2tpZSgndXNlcicpKS51c2VySWQ7XHJcbiAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICAgICBuYW1lOiB2bS5zb25nbmFtZSxcclxuICAgICAgICAgICAgZmlsZV91cmw6IHZtLmZpbGVuYW1lLFxyXG4gICAgICAgICAgICB0cmFja19sZW5ndGg6IHZtLnRyYWNrbGVuZ3RoLFxyXG4gICAgICAgICAgICB1c2VyX2lkOiB1c2VyX2lkLFxyXG4gICAgICAgICAgICBpbnN0cnVtZW50X2lkOiB2bS5pbnN0cnVtZW50c2Ryb3Bkb3duLFxyXG4gICAgICAgICAgICBhcnRpc3RfaWQgOiB2bS5hcnRpc3RuYW1lXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgc29sb1N2Yy5pbnNlcnRUcmFjayhkYXRhKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgJHN0YXRlLmdvKFwic29sb1wiKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRDb29raWUoY25hbWUpIHtcclxuICAgICAgICAgIHZhciBuYW1lID0gY25hbWUgKyBcIj1cIjtcclxuICAgICAgICAgIHZhciBkZWNvZGVkQ29va2llID0gZGVjb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LmNvb2tpZSk7XHJcbiAgICAgICAgICB2YXIgY2EgPSBkZWNvZGVkQ29va2llLnNwbGl0KCc7Jyk7XHJcbiAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDxjYS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgIHZhciBjID0gY2FbaV07XHJcbiAgICAgICAgICAgICAgd2hpbGUgKGMuY2hhckF0KDApID09ICcgJykge1xyXG4gICAgICAgICAgICAgICAgICBjID0gYy5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmIChjLmluZGV4T2YobmFtZSkgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gYy5zdWJzdHJpbmcobmFtZS5sZW5ndGgsIGMubGVuZ3RoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgfVxyXG4gIF9pbml0KCk7XHJcbn0pOyIsImFwcC5maWx0ZXIoXCJiYW5kXCIsIGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiBmdW5jdGlvbih0cmFja0lkLCBsaXN0KSB7XHJcblx0XHR2YXIgcmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuXHRcdFxyXG5cdFx0YW5ndWxhci5mb3JFYWNoKGxpc3QsIGZ1bmN0aW9uKGlkLCBpbmRleCkge1xyXG5cdFx0XHRpZihpZCA9PSB0cmFja0lkKSB7XHJcblx0XHRcdFx0cmV0dXJuVmFsdWUgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiByZXR1cm5WYWx1ZTtcclxuXHR9XHJcbn0pOyIsImFwcC5zZXJ2aWNlKFwiYXJ0aXN0U2VydmljZVwiLCBmdW5jdGlvbigkaHR0cCkge1xyXG5cdFxyXG5cdC8vR2xvYmFsc1xyXG5cdHZhciBzdmMgXHRcdFx0PSB0aGlzO1xyXG5cclxuXHQvL1ByaXZhdGUgZnVuY3Rpb25zXHJcblx0ZnVuY3Rpb24gZ2V0RGF0YSAodXJsLCBvcHRpb25zKSB7XHJcblxyXG5cdFx0IW9wdGlvbnMgPyBvcHRpb25zID0ge30gOiBcIlwiO1xyXG5cclxuXHRcdHJldHVybiAkaHR0cC5nZXQodXJsLCBvcHRpb25zKVxyXG5cdH1cclxuXHJcblx0Ly9TdmMgZnVuY3Rpb25zXHJcblx0c3ZjLmdldEFydGlzdHMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi9hcnRpc3RzXCI7XHJcblx0XHRcclxuXHRcdHJldHVybiBnZXREYXRhKHVybCk7XHJcblx0fVxyXG59KSIsImFwcC5zZXJ2aWNlKFwiYXV0aFNlcnZpY2VcIiwgZnVuY3Rpb24gKCRhdXRoLCAkcm9vdFNjb3BlLCAkY29va2llcywgJHN0YXRlLCB1c2VyU2VydmljZSkge1xyXG5cdFxyXG5cdHZhciBzdmMgXHRcdD0gdGhpcztcclxuXHR2YXIgdXNlclN2YyBcdD0gdXNlclNlcnZpY2U7XHJcblxyXG5cdHN2Yy5pc0xvZ2dlZEluIFx0PSBmYWxzZTtcclxuXHJcblx0Ly9Qcml2YXRlIGZ1bmN0aW9uc1xyXG5cdGZ1bmN0aW9uIGxvZ2luICh0b2tlbiwgaWQsIHVzZXJuYW1lLCBlbWFpbCkge1xyXG5cclxuXHRcdHZhciBleHBpcmF0aW9uVGltZSA9IG5ldyBEYXRlKCk7XHJcblx0XHRleHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lLnNldFRpbWUoZXhwaXJhdGlvblRpbWUuZ2V0VGltZSgpICsgKHRva2VuW1wiZXhwaXJlc19pblwiXSAqIDEwMDApKTtcclxuXHRcdGV4cGlyYXRpb25UaW1lID0gbmV3IERhdGUoZXhwaXJhdGlvblRpbWUpO1xyXG5cclxuXHRcdHZhciB1c2VyRGF0YSA9IHtcclxuXHJcblx0XHRcdHRva2VuOiB0b2tlbixcclxuXHRcdFx0dXNlcklkOiBpZCxcclxuXHRcdFx0dXNlcm5hbWU6IHVzZXJuYW1lLFxyXG5cdFx0XHRlbWFpbDogZW1haWwsXHJcblx0XHRcdC8vaXNBZG1pbjogZGF0YS5kYXRhLmlzQWRtaW5cclxuXHRcdH1cclxuXHJcblx0XHQvL2NvbnNvbGUubG9nKHVzZXJEYXRhLnRva2VuKTtcclxuXHJcblx0XHRzdmMudXNlciA9IHVzZXJEYXRhO1xyXG5cclxuXHRcdCRjb29raWVzLnB1dE9iamVjdChcInVzZXJcIiwgdXNlckRhdGEsIHsgZXhwaXJlczogZXhwaXJhdGlvblRpbWUgfSk7XHJcblx0XHQkcm9vdFNjb3BlLmlzTG9nZ2VkSW4gPSB0cnVlO1xyXG5cdFx0XHJcblx0XHQvL0NoZWNrIGlmIHJldHVybmVkIHVzZXIgaXMgQWRtaW5cclxuXHRcdHVzZXJEYXRhLmlzQWRtaW4gPT0gXCIxXCIgPyAkcm9vdFNjb3BlLmlzQWRtaW4gPSB0cnVlIDogJHJvb3RTY29wZS5pc0FkbWluID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvL1N2YyBmdW5jdGlvbnNcclxuXHRzdmMubG9naW4gPSBmdW5jdGlvbiAoY3JlZGVudGlhbHMpIHtcclxuXHJcblx0XHQkYXV0aC5sb2dpbihjcmVkZW50aWFscykudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgXHQvLyBBdXRoZW50aWNhdGlvbiBzdWNjZXNzXHJcbiAgICAgICAgXHR0b2tlbiBcdFx0PSBkYXRhLmRhdGEudG9rZW47XHJcbiAgICAgICAgXHRpZCBcdFx0XHQ9IDA7XHJcbiAgICAgICAgXHR1c2VybmFtZSBcdD0gXCJcIjtcclxuICAgICAgICBcdGVtYWlsIFx0XHQ9IFwiXCI7XHJcblxyXG5cdFx0XHR1c2VyU3ZjLmdldFVzZXIoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0aWQgXHRcdFx0PSBkYXRhLmRhdGEuaWQ7XHJcblx0XHRcdFx0dXNlcm5hbWUgXHQ9IGRhdGEuZGF0YS51c2VybmFtZTtcclxuXHRcdFx0XHRlbWFpbCBcdFx0PSBkYXRhLmRhdGEuZW1haWw7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0bG9naW4odG9rZW4sIGlkLCB1c2VybmFtZSwgZW1haWwpO1xyXG5cdFx0XHRcdHN2Yy5pc0xvZ2dlZEluID0gdHJ1ZTtcclxuXHRcdFx0fSwgZnVuY3Rpb24oZXJyb3IpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdFx0c3ZjLmlzTG9nZ2VkSW4gPSBmYWxzZTtcclxuXHRcdFx0fSk7XHJcbiAgICAgICAgfSwgXHJcbiAgICAgICAgZnVuY3Rpb24oZXJyb3Ipe1xyXG4gICAgICAgIFx0Ly8gQXV0aGVudGljYXRpb24gZmFpbGVkXHJcbiAgICAgICAgXHRjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgXHRzdmMuaXNMb2dnZWRJbiA9IGZhbHNlOyBcclxuICAgICAgICB9KTtcclxuXHR9XHJcblxyXG5cdHN2Yy5sb2dvdXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHQkYXV0aC5sb2dvdXQoKVxyXG5cdFx0XHQudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuXHRcdFx0XHQkcm9vdFNjb3BlLmlzTG9nZ2VkSW4gPSBmYWxzZTtcclxuXHRcdFx0XHQkcm9vdFNjb3BlLmlzQWRtaW4gPSBmYWxzZTtcclxuXHRcdFx0XHRzdmMudXNlciA9IG51bGw7XHJcblx0XHRcdFx0c3ZjLmlzTG9nZ2VkSW4gPSBudWxsO1xyXG5cclxuXHRcdFx0XHQkY29va2llcy5yZW1vdmUoXCJ1c2VyXCIpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdCRzdGF0ZS5nbyhcImhvbWVcIik7XHJcblx0XHRcdH0sIGZ1bmN0aW9uIChlcnJvcikge1xyXG5cclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdmMucmVnaXN0ZXIgPSBmdW5jdGlvbiAodXNlcikge1xyXG5cclxuXHRcdHZhciB1cmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvdXNlclwiO1xyXG5cclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KHVybCwgdXNlcik7XHJcblx0fVxyXG59KTsiLCJhcHAuc2VydmljZShcImJhbmRTZXJ2aWNlXCIsIGZ1bmN0aW9uKCkge1xyXG5cdFxyXG5cdHZhciBzdmMgPSB0aGlzO1xyXG5cclxuXHR0cmFja0FycmF5ID0gW107XHJcblx0dHJhY2tJZEFycmF5ID0gW107XHJcblx0dHJhY2tBcnJheUNvdW50ID0gMDtcclxuXHJcblx0Ly9Qcml2YXRlIGZ1bmN0aW9uc1xyXG5cdGZ1bmN0aW9uIGFycmF5T2JqZWN0SW5kZXhPZihteUFycmF5LCBzZWFyY2hUZXJtLCBwcm9wZXJ0eSkge1xyXG4gICAgXHRcclxuICAgIFx0Zm9yKHZhciBpID0gMCwgbGVuID0gbXlBcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIFx0aWYgKG15QXJyYXlbaV1bcHJvcGVydHldID09PSBzZWFyY2hUZXJtKSByZXR1cm4gaTtcclxuICAgIFx0fVxyXG5cclxuICAgIFx0cmV0dXJuIC0xO1xyXG5cdH1cclxuXHQvL1RyYWNrQXJyYXlDb3VudFxyXG5cdGZ1bmN0aW9uIGluY3JlbWVudFRyYWNrQXJyYXlDb3VudCgpIHtcclxuXHRcdHRyYWNrQXJyYXlDb3VudCArKztcclxuXHRcdHJldHVybiB0cmFja0FycmF5Q291bnQ7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBkZWNyZW1lbnRUcmFja0FycmF5Q291bnQoKSB7XHJcblx0XHR0cmFja0FycmF5Q291bnQgLS07XHJcblx0XHRyZXR1cm4gdHJhY2tBcnJheUNvdW50O1xyXG5cdH1cclxuXHJcblx0Ly9UcmFja0lkQXJyYXlcclxuXHRmdW5jdGlvbiBhZGRUb1RyYWNrSWRBcnJheSh0cmFja0lkKSB7XHJcblx0XHR0cmFja0lkQXJyYXkucHVzaCh0cmFja0lkKTtcclxuXHRcdHJldHVybiB0cmFja0lkQXJyYXk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiByZW1vdmVGcm9tVHJhY2tJZEFycmF5KHRyYWNrSWQpIHtcclxuXHRcdGluZGV4ID0gdHJhY2tJZEFycmF5LmluZGV4T2YodHJhY2tJZCk7XHJcblx0XHRpZihpbmRleCA+IC0xKSB7XHJcblx0XHRcdHRyYWNrSWRBcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cmFja0lkQXJyYXk7XHJcblx0fVxyXG5cclxuXHQvL1N2YyBmdW5jdGlvbnNcclxuXHRzdmMuZ2V0VHJhY2tBcnJheUNvdW50ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdHJhY2tBcnJheUNvdW50O1xyXG5cdH1cclxuXHJcblx0c3ZjLmdldFRyYWNrSWRBcnJheSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRyYWNrSWRBcnJheTtcclxuXHR9XHJcblxyXG5cclxuXHRzdmMuYWRkVG9UcmFja0FycmF5ID0gZnVuY3Rpb24odHJhY2spIHtcclxuXHRcdHRyYWNrQXJyYXkucHVzaCh0cmFjayk7XHJcblx0XHRpbmNyZW1lbnRUcmFja0FycmF5Q291bnQoKTtcclxuXHRcdGFkZFRvVHJhY2tJZEFycmF5KHRyYWNrLmlkKTtcclxuXHRcdHJldHVybiB0cmFja0FycmF5O1xyXG5cdH1cclxuXHJcblx0c3ZjLnJlbW92ZUZyb21UcmFja0FycmF5ID0gZnVuY3Rpb24odHJhY2spIHtcclxuXHRcdGluZGV4ID0gYXJyYXlPYmplY3RJbmRleE9mKHRyYWNrQXJyYXksIHRyYWNrLmlkLCBcImlkXCIpO1xyXG5cdFx0aWYoaW5kZXggPiAtMSkge1xyXG5cdFx0XHR0cmFja0FycmF5LnNwbGljZShpbmRleCwgMSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGRlY3JlbWVudFRyYWNrQXJyYXlDb3VudCgpO1xyXG5cdFx0cmVtb3ZlRnJvbVRyYWNrSWRBcnJheSh0cmFjay5pZCk7XHJcblx0XHRyZXR1cm4gdHJhY2tBcnJheTtcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRUcmFja0FycmF5ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdHJhY2tBcnJheTtcclxuXHR9XHJcblxyXG5cdFxyXG5cclxuXHJcblxyXG5cclxuXHRzdmMudGVzdEZ1bmN0aW9uID0gZnVuY3Rpb24oKSB7XHJcblx0XHRhbGVydChcIlRlc3QgZnVuY3Rpb24gY2FsbGVkIGZyb20gaW5zaWRlIHNlcnZpY2UhXCIpO1xyXG5cdH1cclxufSkiLCJhcHAuc2VydmljZShcImZpbHRlclNlcnZpY2VcIiwgZnVuY3Rpb24oaW5zdHJ1bWVudFNlcnZpY2UpIHtcclxuXHRcclxuXHR2YXIgc3ZjID0gdGhpcztcclxuXHR2YXIgaW5zdFN2YyA9IGluc3RydW1lbnRTZXJ2aWNlO1xyXG5cclxuXHJcblx0c3ZjLmNyZWF0ZVNvbG9GaWx0ZXJEYXRhID0gZnVuY3Rpb24oKVxyXG5cdHtcclxuXHRcdHN2Yy5zb2xvRmlsdGVyRGF0YSA9IHtcdFwiYXJ0aXN0XCI6IFwiXCIsXHJcblx0XHRcdFx0XHRcdFx0XHRcInRpdGxlXCI6IFwiXCIsXHJcblx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdGFuZ3VsYXIuZm9yRWFjaChpbnN0U3ZjLmluc3RydW1lbnRzLCBmdW5jdGlvbih2YWx1ZSwga2V5KVxyXG5cdFx0e1xyXG5cdFx0XHRzdmMuc29sb0ZpbHRlckRhdGFbdmFsdWUuaWRdID0gdHJ1ZTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0c3ZjLmNyZWF0ZU1lcmdlZEZpbHRlckRhdGEgPSBmdW5jdGlvbigpXHJcblx0e1xyXG5cdFx0c3ZjLm1lcmdlZEZpbHRlckRhdGEgPSB7XHRcImFydGlzdFwiOiBcIlwiLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcInRpdGxlXCI6IFwiXCIsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdHN2Yy5jcmVhdGVTb2xvRmlsdGVyRGF0YSgpO1xyXG5cdFx0c3ZjLmNyZWF0ZU1lcmdlZEZpbHRlckRhdGEoKTtcclxuXHR9XHJcblxyXG5cdF9pbml0KCk7XHJcbn0pIiwiYXBwLnNlcnZpY2UoXCJpbnN0cnVtZW50U2VydmljZVwiLCBmdW5jdGlvbigkaHR0cCkge1xyXG5cdFxyXG5cdC8vR2xvYmFsc1xyXG5cdHZhciBzdmMgPSB0aGlzO1xyXG5cclxuXHQvL1ByaXZhdGUgZnVuY3Rpb25zXHJcblx0ZnVuY3Rpb24gZ2V0RGF0YSAodXJsLCBvcHRpb25zKSB7XHJcblxyXG5cdFx0IW9wdGlvbnMgPyBvcHRpb25zID0ge30gOiBcIlwiO1xyXG5cclxuXHRcdHJldHVybiAkaHR0cC5nZXQodXJsLCBvcHRpb25zKVxyXG5cdH1cclxuXHJcblx0Ly9TdmMgZnVuY3Rpb25zXHJcblx0c3ZjLmdldEluc3RydW1lbnRzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdHZhciB1cmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvaW5zdHJ1bWVudHNcIjtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIGdldERhdGEodXJsKTtcclxuXHR9XHJcblxyXG5cdC8vIEluaXRpYWwgdmFsdWVzICh3aWxsIGJlIG92ZXJ3cml0dGUgYnkgZGIgdmFsdWVzKVxyXG5cdHN2Yy5pbnN0cnVtZW50cyA9IFt7XHJcbiBcdFx0XHRcdFx0XHRcdFwibmFtZVwiOlwiTGVhZC1ndWl0YXJcIixcclxuIFx0XHRcdFx0XHRcdFx0XCJpZFwiOjFcclxuIFx0XHRcdFx0XHRcdH0sXHJcbiBcdFx0XHRcdFx0XHR7XHJcbiBcdFx0XHRcdFx0XHRcdFwibmFtZVwiOlwiUnl0aG0tZ3VpdGFyXCIsXHJcbiBcdFx0XHRcdFx0XHRcdFwiaWRcIjoyXHJcbiBcdFx0XHRcdFx0XHR9LFxyXG4gXHRcdFx0XHRcdFx0e1xyXG4gXHRcdFx0XHRcdFx0XHRcIm5hbWVcIjpcIkRydW1cIixcclxuIFx0XHRcdFx0XHRcdFx0XCJpZFwiOjNcclxuIFx0XHRcdFx0XHRcdH0sXHJcbiBcdFx0XHRcdFx0XHR7XHJcbiBcdFx0XHRcdFx0XHRcdFwibmFtZVwiOlwiQmFzc1wiLFxyXG5cdFx0XHRcdFx0XHRcdFwiaWRcIjo0XHJcbiBcdFx0XHRcdFx0XHR9LFxyXG4gXHRcdFx0XHRcdFx0e1xyXG4gXHRcdFx0XHRcdFx0XHRcIm5hbWVcIjpcIkJhc3NcIixcclxuXHRcdFx0XHRcdFx0XHRcImlkXCI6NVxyXG4gXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFwibmFtZVwiOlwiS2V5c1wiLFxyXG4gXHRcdFx0XHRcdFx0XHRcImlkXCI6NlxyXG4gXHRcdFx0XHRcdFx0fV07XHJcbn0pIiwiYXBwLnNlcnZpY2UoXCJtZXJnZWRTZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwKSB7XHJcblx0XHJcblx0Ly9HbG9iYWxzXHJcblx0dmFyIHN2YyA9IHRoaXM7XHJcblxyXG5cdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRmdW5jdGlvbiBnZXREYXRhICh1cmwsIG9wdGlvbnMpIHtcclxuXHJcblx0XHQhb3B0aW9ucyA/IG9wdGlvbnMgPSB7fSA6IFwiXCI7XHJcblxyXG5cdFx0cmV0dXJuICRodHRwLmdldCh1cmwsIG9wdGlvbnMpXHJcblx0fVxyXG5cclxuXHQvL1N2YyBmdW5jdGlvbnNcclxuXHRzdmMuZ2V0VHJhY2tzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdHZhciB1cmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvbWVyZ2VkdHJhY2tzXCI7XHJcblx0XHRcclxuXHRcdHJldHVybiBnZXREYXRhKHVybCk7XHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0VHJhY2tCeUlkID0gZnVuY3Rpb24gKGlkKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi9tZXJnZWR0cmFja3MvXCIgKyBpZDtcclxuXHJcblx0XHRyZXR1cm4gZ2V0RGF0YSh1cmwpO1xyXG5cdH1cclxuXHJcblx0c3ZjLm1lcmdlVHJhY2tzID0gZnVuY3Rpb24oZGF0YSlcclxuXHR7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdChDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvbWVyZ2VkdHJhY2tzL2NyZWF0ZVwiLCBkYXRhKTtcclxuXHR9XHJcblxyXG5cdHN2Yy5kb3dubG9hZCA9IGZ1bmN0aW9uIChpZCkge1xyXG5cclxuXHRcdHZhciB1cmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvbWVyZ2VkdHJhY2tzL1wiICsgaWQgKyBcIi9kb3dubG9hZFwiO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gZ2V0RGF0YSh1cmwpO1xyXG5cdH1cclxufSkiLCJhcHAuc2VydmljZShcInNvbG9TZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwKSB7XHJcblx0XHJcblx0Ly9HbG9iYWxzXHJcblx0dmFyIHN2YyA9IHRoaXM7XHJcblxyXG5cdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRmdW5jdGlvbiBnZXREYXRhICh1cmwsIG9wdGlvbnMpIHtcclxuXHJcblx0XHQhb3B0aW9ucyA/IG9wdGlvbnMgPSB7fSA6IFwiXCI7XHJcblxyXG5cdFx0cmV0dXJuICRodHRwLmdldCh1cmwsIG9wdGlvbnMpXHJcblx0fVxyXG5cclxuXHQvL1N2YyBmdW5jdGlvbnNcclxuXHRzdmMuZ2V0VHJhY2tzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdHZhciB1cmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvdHJhY2tzXCI7XHJcblx0XHRcclxuXHRcdHJldHVybiBnZXREYXRhKHVybCk7XHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0VHJhY2tCeUlkID0gZnVuY3Rpb24gKGlkKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi90cmFja3MvXCIgKyBpZDtcclxuXHJcblx0XHRyZXR1cm4gZ2V0RGF0YSh1cmwpO1xyXG5cdH1cclxuXHJcblx0c3ZjLmluc2VydFRyYWNrID0gZnVuY3Rpb24oZGF0YSlcclxuXHR7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdChDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvdHJhY2tzL2NyZWF0ZVwiLCBkYXRhKTtcclxuXHR9XHJcbn0pIiwiYXBwLnNlcnZpY2UoXCJ1c2VyU2VydmljZVwiLCBmdW5jdGlvbigkaHR0cCkge1x0XHJcblx0XHJcblx0dmFyIHN2YyA9IHRoaXM7XHJcblxyXG5cdHN2Yy5nZXRVc2VyID0gZnVuY3Rpb24oKVxyXG5cdHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArIFwiL3VzZXJcIik7XHJcblx0fVxyXG5cclxuXHRzdmMudXBkYXRlVXNlciA9IGZ1bmN0aW9uKGRhdGEpXHJcblx0e1xyXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArIFwiL3VzZXJcIiwgZGF0YSk7XHJcblx0fVxyXG59KSIsImFwcC5kaXJlY3RpdmUoXCJkY2JIZWFkZXJcIiwgZnVuY3Rpb24oYmFuZFNlcnZpY2UpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0cmVzdHJpY3Q6IFwiRVwiLFxyXG5cdFx0dGVtcGxhdGVVcmw6IFwiYXBwL2RpcmVjdGl2ZXMvZGNiLWhlYWRlci9kY2ItaGVhZGVyLmh0bWxcIixcclxuXHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRzY29wZToge30sXHJcblx0XHRjb250cm9sbGVyQXM6IFwiaGVhZFwiLFxyXG5cdFx0Y29udHJvbGxlcjogZnVuY3Rpb24oJHNjb3BlLCB1c2VyU2VydmljZSwgYXV0aFNlcnZpY2UsICRhdXRoLCAkcm9vdFNjb3BlKSB7XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgdm0gXHRcdFx0PSB0aGlzO1xyXG5cdFx0XHR2YXIgdXNlclN2YyBcdD0gdXNlclNlcnZpY2U7XHJcblx0XHRcdHZhciBhdXRoU3ZjIFx0PSBhdXRoU2VydmljZTtcclxuXHRcdFx0dmFyIGJhbmRTdmMgXHQ9IGJhbmRTZXJ2aWNlO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gX2luaXQoKSB7XHJcblx0XHRcdFx0dm0udHJhY2tBcnJheSA9IGJhbmRTdmMuZ2V0VHJhY2tBcnJheTtcclxuXHRcdFx0XHR2bS50cmFja0FycmF5Q291bnQgPSBiYW5kU3ZjLmdldFRyYWNrQXJyYXlDb3VudDtcclxuXHJcblx0XHRcdFx0aWYoJGF1dGguaXNBdXRoZW50aWNhdGVkKCkpXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0dXNlclN2Yy5nZXRVc2VyKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLnVzZXJuYW1lID0gZGF0YS5kYXRhLnVzZXJuYW1lO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2bS5zaG93TG9naW4gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JCgnI2xvZ2luX21vZGFsJykubW9kYWwoKTtcclxuXHRcdFx0XHQkKCcjbG9naW5fbW9kYWwnKS5tb2RhbCgnb3BlbicpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2bS5sb2dvdXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0YXV0aFN2Yy5sb2dvdXQoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dm0uc2hvd1JlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCQoJyNyZWdpc3Rlcl9tb2RhbCcpLm1vZGFsKCk7XHJcblx0XHRcdFx0JCgnI3JlZ2lzdGVyX21vZGFsJykubW9kYWwoJ29wZW4nKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dm0uc2hvd0JhbmQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JCgnI2JhbmRfbW9kYWwnKS5tb2RhbCgpO1xyXG5cdFx0XHRcdCQoJyNiYW5kX21vZGFsJykubW9kYWwoJ29wZW4nKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dm0uaXNBdXRoZW50aWNhdGVkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuICRhdXRoLmlzQXV0aGVudGljYXRlZCgpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0X2luaXQoKTtcclxuXHJcblx0XHRcdC8vV2F0Y2hlc1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKFxyXG5cdFx0XHRcdGZ1bmN0aW9uICgpIHsgcmV0dXJuIGF1dGhTdmMudXNlciB9LCBcclxuXHRcdFx0XHRmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRcdFx0dm0udXNlciA9IGF1dGhTdmMudXNlcjtcclxuXHRcdFx0XHRcdC8vY29uc29sZS5sb2codm0udXNlcik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSIsImFwcC5kaXJlY3RpdmUoXCJkY2JCYW5kXCIsIGZ1bmN0aW9uKGJhbmRTZXJ2aWNlKSB7XHJcblx0cmV0dXJuIHtcclxuXHRcdHJlc3RyaWN0OiBcIkVcIixcclxuXHRcdHRlbXBsYXRlVXJsOiBcImFwcC9kaXJlY3RpdmVzL2RjYi1iYW5kL2RjYi1iYW5kLmh0bWxcIixcclxuXHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRzY29wZToge30sXHJcblx0XHRjb250cm9sbGVyQXM6IFwiYmFuZFwiLFxyXG5cdFx0Y29udHJvbGxlcjogZnVuY3Rpb24oJGF1dGgsICRzY29wZSwgJHJvb3RTY29wZSkge1xyXG5cdFx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0XHR2YXIgYmFuZFN2YyA9IGJhbmRTZXJ2aWNlO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gX2luaXQoKSB7XHJcblx0XHRcdFx0dm0udHJhY2tBcnJheSBcdFx0XHQ9IGJhbmRTdmMuZ2V0VHJhY2tBcnJheTtcclxuXHRcdFx0XHR2bS5iYW5kVHJhY2tJZEFycmF5IFx0PSBiYW5kU3ZjLmdldFRyYWNrSWRBcnJheTtcclxuXHRcdFx0XHR2bS50cmFja0FycmF5Q291bnQgXHRcdD0gYmFuZFN2Yy5nZXRUcmFja0FycmF5Q291bnQ7XHJcblxyXG5cdFx0XHRcdC8vY29uc29sZS5sb2codm0udHJhY2tBcnJheUNvdW50KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dm0ucmVtb3ZlRnJvbUJhbmQgPSBmdW5jdGlvbih0cmFjaykge1xyXG5cdFx0XHJcblx0XHRcdFx0YmFuZFN2Yy5yZW1vdmVGcm9tVHJhY2tBcnJheSh0cmFjayk7XHJcblxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiVHJhY2sgcmVtb3ZlZCBmcm9tIG5ldyBiYW5kOiBcIiArIHRyYWNrKTtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKGJhbmRTdmMudHJhY2tBcnJheSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdF9pbml0KCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSIsImFwcC5kaXJlY3RpdmUoXCJkY2JMb2dpblwiLCBmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0cmVzdHJpY3Q6IFwiRVwiLFxyXG5cdFx0dGVtcGxhdGVVcmw6IFwiYXBwL2RpcmVjdGl2ZXMvZGNiLWxvZ2luL2RjYi1sb2dpbi5odG1sXCIsXHJcblx0XHRyZXBsYWNlOiB0cnVlLFxyXG5cdFx0c2NvcGU6IHt9LFxyXG5cdFx0Y29udHJvbGxlckFzOiBcImxvZ2luXCIsXHJcblx0XHRjb250cm9sbGVyOiBmdW5jdGlvbigkYXV0aCwgJHNjb3BlLCAkcm9vdFNjb3BlLCB1c2VyU2VydmljZSwgYXV0aFNlcnZpY2UsICRjb29raWVzKSB7XHJcblx0XHRcdHZhciB2bSBcdFx0XHQ9IHRoaXM7XHJcblx0XHRcdHZhciB1c2VyU3ZjIFx0PSB1c2VyU2VydmljZTtcclxuXHRcdFx0dmFyIGF1dGhTdmMgXHQ9IGF1dGhTZXJ2aWNlO1xyXG5cdFx0XHR2YXIgdGFyZ2V0IFx0XHQ9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbi1zcGlubmVyJyk7XHJcblxyXG5cdFx0XHR2YXIgb3B0cyA9IHtcclxuXHQgIFx0XHRcdGxpbmVzOiAxMyAvLyBUaGUgbnVtYmVyIG9mIGxpbmVzIHRvIGRyYXdcclxuXHRcdFx0XHQsIGxlbmd0aDogMjggLy8gVGhlIGxlbmd0aCBvZiBlYWNoIGxpbmVcclxuXHRcdFx0XHQsIHdpZHRoOiAxNCAvLyBUaGUgbGluZSB0aGlja25lc3NcclxuXHRcdFx0XHQsIHJhZGl1czogNDIgLy8gVGhlIHJhZGl1cyBvZiB0aGUgaW5uZXIgY2lyY2xlXHJcblx0XHRcdFx0LCBzY2FsZTogMC40IC8vIFNjYWxlcyBvdmVyYWxsIHNpemUgb2YgdGhlIHNwaW5uZXJcclxuXHRcdFx0XHQsIGNvcm5lcnM6IDEgLy8gQ29ybmVyIHJvdW5kbmVzcyAoMC4uMSlcclxuXHRcdFx0XHQsIGNvbG9yOiAnIzAwMCcgLy8gI3JnYiBvciAjcnJnZ2JiIG9yIGFycmF5IG9mIGNvbG9yc1xyXG5cdFx0XHRcdCwgb3BhY2l0eTogMC4yNSAvLyBPcGFjaXR5IG9mIHRoZSBsaW5lc1xyXG5cdFx0XHRcdCwgcm90YXRlOiAwIC8vIFRoZSByb3RhdGlvbiBvZmZzZXRcclxuXHRcdFx0XHQsIGRpcmVjdGlvbjogMSAvLyAxOiBjbG9ja3dpc2UsIC0xOiBjb3VudGVyY2xvY2t3aXNlXHJcblx0XHRcdFx0LCBzcGVlZDogMSAvLyBSb3VuZHMgcGVyIHNlY29uZFxyXG5cdFx0XHRcdCwgdHJhaWw6IDYwIC8vIEFmdGVyZ2xvdyBwZXJjZW50YWdlXHJcblx0XHRcdFx0LCBmcHM6IDIwIC8vIEZyYW1lcyBwZXIgc2Vjb25kIHdoZW4gdXNpbmcgc2V0VGltZW91dCgpIGFzIGEgZmFsbGJhY2sgZm9yIENTU1xyXG5cdFx0XHRcdCwgekluZGV4OiAyZTkgLy8gVGhlIHotaW5kZXggKGRlZmF1bHRzIHRvIDIwMDAwMDAwMDApXHJcblx0XHRcdFx0LCBjbGFzc05hbWU6ICdzcGlubmVyJyAvLyBUaGUgQ1NTIGNsYXNzIHRvIGFzc2lnbiB0byB0aGUgc3Bpbm5lclxyXG5cdFx0XHRcdCwgdG9wOiAnNjAlJyAvLyBUb3AgcG9zaXRpb24gcmVsYXRpdmUgdG8gcGFyZW50XHJcblx0XHRcdFx0LCBsZWZ0OiAnNTAlJyAvLyBMZWZ0IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG5cdFx0XHRcdCwgc2hhZG93OiBmYWxzZSAvLyBXaGV0aGVyIHRvIHJlbmRlciBhIHNoYWRvd1xyXG5cdFx0XHRcdCwgaHdhY2NlbDogZmFsc2UgLy8gV2hldGhlciB0byB1c2UgaGFyZHdhcmUgYWNjZWxlcmF0aW9uXHJcblx0XHRcdFx0LCBwb3NpdGlvbjogJ2Fic29sdXRlJyAvLyBFbGVtZW50IHBvc2l0aW9uaW5nXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRcdFx0ZnVuY3Rpb24gbG9naW4gKHRva2VuLCBpZCwgdXNlcm5hbWUsIGVtYWlsKSB7XHJcblxyXG5cdFx0XHRcdHZhciBleHBpcmF0aW9uVGltZSA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdFx0ZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZS5zZXRUaW1lKGV4cGlyYXRpb25UaW1lLmdldFRpbWUoKSArICh0b2tlbltcImV4cGlyZXNfaW5cIl0gKiAxMDAwKSk7XHJcblx0XHRcdFx0ZXhwaXJhdGlvblRpbWUgPSBuZXcgRGF0ZShleHBpcmF0aW9uVGltZSk7XHJcblxyXG5cdFx0XHRcdHZhciB1c2VyRGF0YSA9IHtcclxuXHJcblx0XHRcdFx0XHR0b2tlbjogdG9rZW4sXHJcblx0XHRcdFx0XHR1c2VySWQ6IGlkLFxyXG5cdFx0XHRcdFx0dXNlcm5hbWU6IHVzZXJuYW1lLFxyXG5cdFx0XHRcdFx0ZW1haWw6IGVtYWlsLFxyXG5cdFx0XHRcdFx0Ly9pc0FkbWluOiBkYXRhLmRhdGEuaXNBZG1pblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Y29uc29sZS5sb2codXNlckRhdGEudG9rZW4pO1xyXG5cclxuXHRcdFx0XHRhdXRoU3ZjLnVzZXIgPSB1c2VyRGF0YTtcclxuXHJcblx0XHRcdFx0JGNvb2tpZXMucHV0T2JqZWN0KFwidXNlclwiLCB1c2VyRGF0YSwgeyBleHBpcmVzOiBleHBpcmF0aW9uVGltZSB9KTtcclxuXHRcdFx0XHQkcm9vdFNjb3BlLmlzTG9nZ2VkSW4gPSB0cnVlO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vQ2hlY2sgaWYgcmV0dXJuZWQgdXNlciBpcyBBZG1pblxyXG5cdFx0XHRcdHVzZXJEYXRhLmlzQWRtaW4gPT0gXCIxXCIgPyAkcm9vdFNjb3BlLmlzQWRtaW4gPSB0cnVlIDogJHJvb3RTY29wZS5pc0FkbWluID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHQvL1ZtIGZ1bmN0aW9uc1xyXG5cdCAgICAgICAgdm0ubG9naW4gPSBmdW5jdGlvbigpIHtcclxuXHQgICAgICAgIFx0dmFyIHNwaW5uZXIgPSBuZXcgU3Bpbm5lcihvcHRzKS5zcGluKHRhcmdldCk7XHJcblx0ICAgICAgICBcdHZtLmxvYWRpbmcgXHQ9IHRydWU7XHJcblx0ICAgICAgICBcdGNvbnNvbGUubG9nKHZtLmxvYWRpbmcpO1xyXG5cclxuXHQgICAgICAgICAgICB2YXIgY3JlZGVudGlhbHMgPSB7XHJcblx0ICAgICAgICAgICAgICAgIGVtYWlsOiB2bS5lbWFpbCxcclxuXHQgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHZtLnBhc3N3b3JkXHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIFxyXG5cdCAgICAgICAgICAgIGF1dGhTdmMubG9naW4oY3JlZGVudGlhbHMpO1xyXG5cdCAgICAgICAgICAgIFxyXG5cdCAgICAgICAgICAgIC8vV2F0Y2hlc1xyXG5cdFx0XHRcdHZhciB1bnJlZ2lzdGVyID0gJHNjb3BlLiR3YXRjaChcclxuXHRcdFx0XHQgXHRmdW5jdGlvbiAoKSB7IHJldHVybiBhdXRoU3ZjLmlzTG9nZ2VkSW4gfSwgXHJcblx0XHRcdFx0IFx0ZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRpZihhdXRoU3ZjLmlzTG9nZ2VkSW4pIFxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdCAgICAgICAgXHQkKCcjbG9naW5fbW9kYWwnKS5tb2RhbCgpO1xyXG5cdFx0XHRcdFx0XHRcdCQoJyNsb2dpbl9tb2RhbCcpLm1vZGFsKCdjbG9zZScpO1xyXG5cdFx0XHRcdCAgICAgICAgXHRzcGlubmVyLnN0b3AoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZighYXV0aFN2Yy5pc0xvZ2dlZEluKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0c3Bpbm5lci5zdG9wKCk7XHJcblx0XHRcdFx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LCB0cnVlKTtcclxuXHQgICAgICAgIH1cclxuXHRcdH1cclxuXHR9XHJcbn0pIiwiYXBwLmRpcmVjdGl2ZShcImRjYlJlZ2lzdGVyXCIsIGZ1bmN0aW9uKHVzZXJTZXJ2aWNlKSB7XHJcblx0cmV0dXJuIHtcclxuXHRcdHJlc3RyaWN0OiBcIkVcIixcclxuXHRcdHRlbXBsYXRlVXJsOiBcImFwcC9kaXJlY3RpdmVzL2RjYi1yZWdpc3Rlci9kY2ItcmVnaXN0ZXIuaHRtbFwiLFxyXG5cdFx0cmVwbGFjZTogdHJ1ZSxcclxuXHRcdHNjb3BlOiB7fSxcclxuXHRcdGNvbnRyb2xsZXJBczogXCJyZWdpc3RlclwiLFxyXG5cdFx0Y29udHJvbGxlcjogZnVuY3Rpb24oJGF1dGgsICRzY29wZSwgJHJvb3RTY29wZSwgdXNlclNlcnZpY2UsIGF1dGhTZXJ2aWNlKSB7XHJcblx0XHRcdHZhciB2bSBcdFx0XHQ9IHRoaXM7XHJcblx0XHRcdHZhciB1c2VyU3ZjIFx0PSB1c2VyU2VydmljZTtcclxuXHRcdFx0dmFyIGF1dGhTdmMgXHQ9IGF1dGhTZXJ2aWNlO1xyXG5cdFx0XHR2YXIgdGFyZ2V0IFx0XHQ9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWdpc3Rlci1zcGlubmVyJyk7XHJcblxyXG5cdFx0XHR2YXIgb3B0cyA9IHtcclxuXHQgIFx0XHRcdGxpbmVzOiAxMyAvLyBUaGUgbnVtYmVyIG9mIGxpbmVzIHRvIGRyYXdcclxuXHRcdFx0XHQsIGxlbmd0aDogMjggLy8gVGhlIGxlbmd0aCBvZiBlYWNoIGxpbmVcclxuXHRcdFx0XHQsIHdpZHRoOiAxNCAvLyBUaGUgbGluZSB0aGlja25lc3NcclxuXHRcdFx0XHQsIHJhZGl1czogNDIgLy8gVGhlIHJhZGl1cyBvZiB0aGUgaW5uZXIgY2lyY2xlXHJcblx0XHRcdFx0LCBzY2FsZTogMC40IC8vIFNjYWxlcyBvdmVyYWxsIHNpemUgb2YgdGhlIHNwaW5uZXJcclxuXHRcdFx0XHQsIGNvcm5lcnM6IDEgLy8gQ29ybmVyIHJvdW5kbmVzcyAoMC4uMSlcclxuXHRcdFx0XHQsIGNvbG9yOiAnIzAwMCcgLy8gI3JnYiBvciAjcnJnZ2JiIG9yIGFycmF5IG9mIGNvbG9yc1xyXG5cdFx0XHRcdCwgb3BhY2l0eTogMC4yNSAvLyBPcGFjaXR5IG9mIHRoZSBsaW5lc1xyXG5cdFx0XHRcdCwgcm90YXRlOiAwIC8vIFRoZSByb3RhdGlvbiBvZmZzZXRcclxuXHRcdFx0XHQsIGRpcmVjdGlvbjogMSAvLyAxOiBjbG9ja3dpc2UsIC0xOiBjb3VudGVyY2xvY2t3aXNlXHJcblx0XHRcdFx0LCBzcGVlZDogMSAvLyBSb3VuZHMgcGVyIHNlY29uZFxyXG5cdFx0XHRcdCwgdHJhaWw6IDYwIC8vIEFmdGVyZ2xvdyBwZXJjZW50YWdlXHJcblx0XHRcdFx0LCBmcHM6IDIwIC8vIEZyYW1lcyBwZXIgc2Vjb25kIHdoZW4gdXNpbmcgc2V0VGltZW91dCgpIGFzIGEgZmFsbGJhY2sgZm9yIENTU1xyXG5cdFx0XHRcdCwgekluZGV4OiAyZTkgLy8gVGhlIHotaW5kZXggKGRlZmF1bHRzIHRvIDIwMDAwMDAwMDApXHJcblx0XHRcdFx0LCBjbGFzc05hbWU6ICdzcGlubmVyJyAvLyBUaGUgQ1NTIGNsYXNzIHRvIGFzc2lnbiB0byB0aGUgc3Bpbm5lclxyXG5cdFx0XHRcdCwgdG9wOiAnNjAlJyAvLyBUb3AgcG9zaXRpb24gcmVsYXRpdmUgdG8gcGFyZW50XHJcblx0XHRcdFx0LCBsZWZ0OiAnNTAlJyAvLyBMZWZ0IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG5cdFx0XHRcdCwgc2hhZG93OiBmYWxzZSAvLyBXaGV0aGVyIHRvIHJlbmRlciBhIHNoYWRvd1xyXG5cdFx0XHRcdCwgaHdhY2NlbDogZmFsc2UgLy8gV2hldGhlciB0byB1c2UgaGFyZHdhcmUgYWNjZWxlcmF0aW9uXHJcblx0XHRcdFx0LCBwb3NpdGlvbjogJ2Fic29sdXRlJyAvLyBFbGVtZW50IHBvc2l0aW9uaW5nXHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRcclxuXHRcdFx0dm0ucmVnaXN0ZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgc3Bpbm5lciA9IG5ldyBTcGlubmVyKG9wdHMpLnNwaW4odGFyZ2V0KTtcclxuXHQgICAgICAgIFx0dm0ubG9hZGluZyBcdD0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0dmFyIHVzZXIgPSB7XHJcblx0XHRcdFx0ICBcdHVzZXJuYW1lOiB2bS51c2VybmFtZSxcclxuXHRcdFx0XHQgIFx0ZW1haWw6IHZtLmVtYWlsLFxyXG5cdFx0XHRcdCAgXHRwYXNzd29yZDogdm0ucGFzc3dvcmRcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHQkYXV0aC5zaWdudXAodXNlcikudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0Ly8gUmVnaXN0cmF0aW9uIHN1Y2Nlc3NcclxuXHRcdFx0XHRcdGF1dGhTdmMubG9naW4odXNlcik7XHJcblxyXG5cdFx0ICAgICAgICAgICAgLy9XYXRjaGVzXHJcblx0XHRcdFx0XHR2YXIgdW5yZWdpc3RlciA9ICRzY29wZS4kd2F0Y2goXHJcblx0XHRcdFx0XHRcdGZ1bmN0aW9uICgpIHsgcmV0dXJuIGF1dGhTdmMuaXNMb2dnZWRJbiB9LCBcclxuXHRcdFx0XHRcdFx0ZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZihhdXRoU3ZjLmlzTG9nZ2VkSW4pIFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHRcdCAgICAgICAgXHQkKCcjcmVnaXN0ZXJfbW9kYWwnKS5tb2RhbCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0JCgnI3JlZ2lzdGVyX21vZGFsJykubW9kYWwoJ2Nsb3NlJyk7XHJcblx0XHRcdFx0XHQgICAgICAgIFx0c3Bpbm5lci5zdG9wKCk7XHJcblx0XHRcdFx0XHQgICAgICAgIFx0dW5yZWdpc3RlcigpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRpZihhdXRoU3ZjLmlzTG9nZ2VkSW4gPT09IGZhbHNlKVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdHNwaW5uZXIuc3RvcCgpO1xyXG5cdCAgICAgICAgXHRcdFx0XHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHQgICAgICAgIFx0XHRcdFx0XHR1bnJlZ2lzdGVyKCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9LCB0cnVlKTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5jYXRjaChmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0Ly8gUmVnaXN0cmF0aW9uIGZhaWxlZFxyXG5cdFx0XHRcdCAgXHRzcGlubmVyLnN0b3AoKTtcclxuXHRcdFx0XHQgIFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdCAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pIiwiYXBwLmRpcmVjdGl2ZShcImRjYlN0aWNreVwiLCBmdW5jdGlvbigkd2luZG93KSB7XHJcblx0dmFyICR3aW4gPSBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdyk7IC8vIHdyYXAgd2luZG93IG9iamVjdCBhcyBqUXVlcnkgb2JqZWN0XHJcblxyXG5cdHJldHVybiB7XHJcblx0XHRyZXN0cmljdDogXCJBXCIsXHJcblx0XHRsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcblx0ICAgICAgXHR2YXIgdG9wQ2xhc3MgPSBhdHRycy5kY2JTdGlja3ksIC8vIGdldCBDU1MgY2xhc3MgZnJvbSBkaXJlY3RpdmUncyBhdHRyaWJ1dGUgdmFsdWVcclxuXHQgICAgICAgICAgXHRvZmZzZXRUb3AgPSBlbGVtZW50Lm9mZnNldCgpLnRvcDsgLy8gZ2V0IGVsZW1lbnQncyBvZmZzZXQgdG9wIHJlbGF0aXZlIHRvIGRvY3VtZW50XHJcblxyXG5cdCAgICAgIFx0JHdpbi5vbignc2Nyb2xsJywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdCAgICAgICAgaWYgKCR3aW4uc2Nyb2xsVG9wKCkgPj0gb2Zmc2V0VG9wKSB7XHJcblx0XHQgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyh0b3BDbGFzcyk7XHJcblx0XHQgICAgICAgIH0gZWxzZSB7XHJcblx0XHQgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyh0b3BDbGFzcyk7XHJcblx0XHQgICAgICAgIH1cclxuXHQgICAgICBcdH0pO1xyXG5cdCAgXHR9XHJcblx0fVxyXG59KSJdfQ==
