var app=angular.module("app",["ui.router","satellizer","ngCookies","ngFileUpload"]),CONSTANTS=function(){var e={};return e.API_BASE_URL="http://discoverbandapi.int/public/api",e}();app.config(["$stateProvider","$urlRouterProvider","$authProvider","$httpProvider",function(e,r,t,n){t.loginUrl=CONSTANTS.API_BASE_URL+"/login",t.signupUrl=CONSTANTS.API_BASE_URL+"/register",r.otherwise("/"),e.state("home",{url:"/",templateUrl:"app/pages/home.html",controller:"homeController as home"}).state("solo",{url:"/solo",templateUrl:"app/pages/solo.html",controller:"soloController as solo"}).state("merged",{url:"/merged",templateUrl:"app/pages/merged.html",controller:"mergedController as merged"}).state("band",{url:"/band",templateUrl:"app/pages/band.html",controller:"bandController as band"}).state("merge",{url:"/merge",templateUrl:"app/pages/merge.html",controller:"mergeController as merge"}).state("profile",{url:"/profile",templateUrl:"app/pages/profile.html",controller:"profileController as profile",data:{requiresLoggedIn:!0}}).state("upload",{url:"/upload",templateUrl:"app/pages/upload.html",controller:"uploadController as upload",data:{requiresLoggedIn:!0}})}]).run(["$rootScope","$location","$auth","$state",function(e,r,t,n){function o(e){return!e.data||!e.data.requiresLoggedIn||t.isAuthenticated()}var a="/";e.$on("$stateChangeStart",function(e,t,i,c,s){var l=t.url;i&&(l=n.href(t,i),l=l.replace("#","")),o(t)?r.path(l):(console.log("notLoggedIn"),r.path(a))})}]),app.controller("bandController",["bandService",function(e){function r(){t.trackArray=n.getTrackArray}var t=this,n=e;r()}]),app.controller("homeController",["instrumentService","filterService",function(e,r){function t(){n.filterData=o.soloFilterData}var n=this,o=r;t()}]),app.controller("mergeController",["bandService","mergedService","$state",function(e,r,t){function n(){o.tracks=a.getTrackArray(),o.showTracks=!1,o.thereAreTracks=!1,o.loadedTracks=[],o.savedTime=[],o.trimAmounts=[],o.tracks.length>0&&(o.thereAreTracks=!0)}var o=this,a=e,i=r,c=[];o.load=function(){if(o.thereAreTracks){for(var e=o.tracks.length-1;e>=0;e--){var r=o.tracks[e].id;c[r]=WaveSurfer.create({container:"#waveform"+r,waveColor:"green",progressColor:"purple"}),c[r].load("http://discoverbandapi.int/public/api/audio/"+o.tracks[e].file_url),o.loadedTracks.push({track_id:r,trim_amount:0,user_id:o.tracks[e].user.id}),console.log(o.loadedTracks)}o.showTracks=!0}},o.playPause=function(e){c[e].isPlaying()||(o.savedTime[e]=c[e].getCurrentTime(),console.log(o.savedTime)),c[e].playPause(),c[e].zoom(50)},o.trim=function(e){for(var r=c[e].getCurrentTime(),t=o.loadedTracks.length-1;t>=0;t--)o.loadedTracks[t].track_id===e&&(o.loadedTracks[t].trim_amount=r,o.trimAmounts[e]=Math.round(100*r)/100)},o.playPauseAll=function(){for(var e=o.loadedTracks.length-1;e>=0;e--){var r=o.loadedTracks[e].track_id;c[r].isPlaying()||(o.savedTime[r]=c[r].getCurrentTime()),c[r].playPause(),c[r].zoom(50)}},o.toPrevious=function(){for(var e=o.loadedTracks.length-1;e>=0;e--){var r=o.loadedTracks[e].track_id,t=o.savedTime[r],n=c[r].getDuration(),a=t/n;c[r].seekAndCenter(a)}},o.toStart=function(e){c[e].seekAndCenter(0)},o.save=function(){$("#processing_modal").modal(),$("#processing_modal").modal("open"),i.mergeTracks(o.loadedTracks).then(function(e){$("#processing_modal").modal("close"),t.go("merged")},function(e){console.log(e)})},n()}]),app.controller("mergedController",["$scope","mergedService","filterService",function(e,r,t){function n(e){for(var r=e+"=",t=decodeURIComponent(document.cookie),n=t.split(";"),o=0;o<n.length;o++){for(var a=n[o];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(r))return a.substring(r.length,a.length)}return""}function o(){r.getTracks().then(function(e){s.mergedTracks=e.data,s.filteredTracks=s.mergedTracks,i(),angular.forEach(s.mergedTracks,function(e,r){newTrack=new Audio("http://discoverbandapi.int/public/audio/"+e.file_url),s.mergedTrackAudio[e.id]=newTrack});for(var r=s.mergedTracks.length-1;r>=0;r--)s.voteCountPerTrack[s.mergedTracks[r].id]=s.mergedTracks[r].merged_track_votes.length},function(e){console.log(e)})}function a(){null!=d&&r.getUserVotes(d).then(function(e){console.log(e),s.votedtracks=e.data;for(var r=s.votedtracks.length-1;r>=0;r--)s.votedTrackArray.push(s.votedtracks[r].merged_track_id);console.log(s.votedTrackArray)},function(e){console.log(e)})}function i(){s.filteredTracks=[],angular.forEach(s.mergedTracks,function(e,r){goodSearch=!0,""!=!s.filterData.artist||e.artist.name.match(new RegExp(s.filterData.artist,"i"))||(goodSearch=!1),""!=!s.filterData.title||e.songname.match(new RegExp(s.filterData.title,"i"))||(goodSearch=!1),goodSearch&&s.filteredTracks.push(e)})}function c(){s.mergedTrackAudio=[],s.currentAudioTrackId="",o(),a(),s.filterData=u.mergedFilterData,s.voteCountPerTrack=[],s.coloredHands=[],s.votedTrackArray=[]}var s=this,l=r,u=t,d=null;if(JSON.parse(n("user")).userId)var d=JSON.parse(n("user")).userId;s.play=function(e){""!=s.currentAudioTrackId&&s.pause(s.currentAudioTrackId),s.currentAudioTrackId=e,s.mergedTrackAudio[e].play()},s.pause=function(e){s.mergedTrackAudio[e].pause(),s.currentAudioTrackId=""},s.download=function(e){window.open(CONSTANTS.API_BASE_URL+"/mergedtracks/"+e+"/download","_blank","")},s.upVote=function(e){var r={track_id:e,user_id:d};l.insertVote(r).then(function(r){"OK"==r.data.status?(s.voteCountPerTrack[e]++,s.votedTrackArray.push(e)):console.log("already voted")},function(e){console.log(e)})},e.$watch(function(){return s.filterData},function(){s.filterData&&i()},!0),c()}]),app.controller("profileController",["userService",function(e){function r(){n.getUser().then(function(e){t.username=e.data.username,t.email=e.data.email})}var t=this,n=e,o=document.getElementById("update-profile-spinner"),a={lines:13,length:28,width:12,radius:42,scale:.15,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"89%",left:"25.5%",shadow:!1,hwaccel:!1,position:"absolute"};t.update=function(){var e=new Spinner(a).spin(o);t.loading=!0;var r={username:t.username,email:t.email};n.updateUser(r).then(function(r){e.stop(),t.loading=!1},function(r){e.stop(),t.loading=!1})},r()}]),app.controller("soloController",["$scope","bandService","soloService","instrumentService","filterService",function(e,r,t,n,o){function a(){u.getTracks().then(function(e){s.soloTracks=e.data,s.filteredTracks=s.soloTracks,i(),angular.forEach(s.soloTracks,function(e,r){newTrack=new Audio("http://discoverbandapi.int/public/audio/"+e.file_url),s.soloTrackAudio[e.id]=newTrack})},function(e){console.log(e)})}function i(){s.filteredTracks=[],angular.forEach(s.soloTracks,function(e,r){goodSearch=!0,""!=!s.filterData.artist||e.artist.name.match(new RegExp(s.filterData.artist,"i"))||(goodSearch=!1),""!=!s.filterData.title||e.songname.match(new RegExp(s.filterData.title,"i"))||(goodSearch=!1),s.filterData[e.instrument_id]||(goodSearch=!1),goodSearch&&s.filteredTracks.push(e)}),0===s.filteredTracks.length?s.showNoResultsFound=!0:s.showNoResultsFound=!1}function c(){s.soloTrackAudio=[],s.currentAudioTrackId="",s.showNoResultsFound=!1,d.getInstruments().then(function(e){s.instruments=e.data},function(e){console.log(e)}),a(),s.filterData=p.soloFilterData,s.trackArray=l.getTrackArray,s.bandTrackIdArray=l.getTrackIdArray,s.trackArrayCount=l.getTrackArrayCount}var s=this,l=r,u=t,d=n,p=o;s.addToBand=function(e){l.addToTrackArray(e),console.log(e)},s.removeFromBand=function(e){l.removeFromTrackArray(e),console.log("Track removed from new band: "+e)},s.play=function(e){""!=s.currentAudioTrackId&&s.pause(s.currentAudioTrackId),s.currentAudioTrackId=e,s.soloTrackAudio[e].play()},s.pause=function(e){s.soloTrackAudio[e].pause(),s.currentAudioTrackId=""},e.$watch(function(){return s.filterData},function(){s.filterData&&i()},!0),c()}]),app.controller("uploadController",["Upload","artistService","instrumentService","soloService","$state",function(e,r,t,n,o){function a(){c.uploaded=!1,c.showform=!1,c.instruments=u.getInstruments().then(function(e){c.instruments=e.data,console.log(e.data)},function(e){console.log(e)}),c.artists=l.getArtists().then(function(e){console.log(e.data),c.artists=e.data},function(e){console.log(e)})}function i(e){for(var r=e+"=",t=decodeURIComponent(document.cookie),n=t.split(";"),o=0;o<n.length;o++){for(var a=n[o];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(r))return a.substring(r.length,a.length)}return""}var c=this,s=n,l=r,u=t,d=document.getElementById("upload-spinner"),p={lines:13,length:28,width:12,radius:42,scale:.3,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"40%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};c.uploadFile=function(r){var t=new Spinner(p).spin(d);c.loading=!0,c.uploaded=!1,c.showform=!0,$("select").material_select(),e.upload({url:CONSTANTS.API_BASE_URL+"/upload",fileFormDataName:"song",sendFieldsAs:"form",data:{song:r}}).then(function(e){c.filename=e.data.name,c.tracklength=e.data.length,t.stop(),c.loading=!1,c.uploaded=!0},function(e){c.loading=!1,t.stop(),c.uploadfailed=!0})},c.save=function(){var e=JSON.parse(i("user")).userId,r={name:c.songname,file_url:c.filename,track_length:c.tracklength,user_id:e,instrument_id:c.instrumentsdropdown,artist_id:c.artistname};s.insertTrack(r).then(function(e){o.go("solo"),console.log(e)},function(e){console.log(e)})},a()}]),app.filter("band",function(){return function(e,r){var t=!1;return angular.forEach(r,function(r,n){r==e&&(t=!0)}),t}}),app.service("artistService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getArtists=function(){var e=CONSTANTS.API_BASE_URL+"/artists";return r(e)}}]),app.service("authService",["$auth","$rootScope","$cookies","$state","userService",function(e,r,t,n,o){function a(e,n,o,a){var c=new Date;c=c.setTime(c.getTime()+1e3*e.expires_in),c=new Date(c);var s={token:e,userId:n,username:o,email:a};i.user=s,t.putObject("user",s,{expires:c}),r.isLoggedIn=!0,"1"==s.isAdmin?r.isAdmin=!0:r.isAdmin=!1}var i=this,c=o;i.isLoggedIn=!1,i.login=function(r){e.login(r).then(function(e){token=e.data.token,id=0,username="",email="",c.getUser().then(function(e){id=e.data.id,username=e.data.username,email=e.data.email,a(token,id,username,email),i.isLoggedIn=!0},function(e){console.log(e),i.isLoggedIn=!1})},function(e){console.log(e),i.isLoggedIn=!1})},i.logout=function(){e.logout().then(function(e){r.isLoggedIn=!1,r.isAdmin=!1,i.user=null,i.isLoggedIn=null,t.remove("user"),n.go("home")},function(e){console.log(e)})},i.register=function(e){var r=CONSTANTS.API_BASE_URL+"/user";return $http.post(r,e)}}]),app.service("bandService",function(){function e(e,r,t){for(var n=0,o=e.length;n<o;n++)if(e[n][t]===r)return n;return-1}function r(){return trackArrayCount++,trackArrayCount}function t(){return trackArrayCount--,trackArrayCount}function n(e){return trackIdArray.push(e),trackIdArray}function o(e){return index=trackIdArray.indexOf(e),index>-1&&trackIdArray.splice(index,1),trackIdArray}var a=this;trackArray=[],trackIdArray=[],trackArrayCount=0,a.getTrackArrayCount=function(){return trackArrayCount},a.getTrackIdArray=function(){return trackIdArray},a.addToTrackArray=function(e){return trackArray.push(e),r(),n(e.id),trackArray},a.removeFromTrackArray=function(r){return index=e(trackArray,r.id,"id"),index>-1&&trackArray.splice(index,1),t(),o(r.id),trackArray},a.getTrackArray=function(){return trackArray},a.testFunction=function(){alert("Test function called from inside service!")}}),app.service("filterService",["instrumentService",function(e){function r(){t.createSoloFilterData(),t.createMergedFilterData()}var t=this,n=e;t.createSoloFilterData=function(){t.soloFilterData={artist:"",title:""},angular.forEach(n.instruments,function(e,r){t.soloFilterData[e.id]=!0})},t.createMergedFilterData=function(){t.mergedFilterData={artist:"",title:""}},r()}]),app.service("instrumentService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getInstruments=function(){var e=CONSTANTS.API_BASE_URL+"/instruments";return r(e)},t.instruments=[{name:"Lead-guitar",id:1},{name:"Rythm-guitar",id:2},{name:"Drum",id:3},{name:"Bass",id:4},{name:"Bass",id:5},{name:"Keys",id:6}]}]),app.service("mergedService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getTracks=function(){var e=CONSTANTS.API_BASE_URL+"/mergedtracks";return r(e)},t.getTrackById=function(e){var t=CONSTANTS.API_BASE_URL+"/mergedtracks/"+e;return r(t)},t.mergeTracks=function(r){return e.post(CONSTANTS.API_BASE_URL+"/mergedtracks/create",r)},t.insertVote=function(r){return e.post(CONSTANTS.API_BASE_URL+"/vote/create",r)},t.download=function(e){var t=CONSTANTS.API_BASE_URL+"/mergedtracks/"+e+"/download";return r(t)},t.getUserVotes=function(e){var t=CONSTANTS.API_BASE_URL+"/votes/"+e;return r(t)}}]),app.service("soloService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getTracks=function(){var e=CONSTANTS.API_BASE_URL+"/tracks";return r(e)},t.getTrackById=function(e){var t=CONSTANTS.API_BASE_URL+"/tracks/"+e;return r(t)},t.insertTrack=function(r){return e.post(CONSTANTS.API_BASE_URL+"/tracks/create",r)}}]),app.service("userService",["$http",function(e){var r=this;r.getUser=function(){return e.get(CONSTANTS.API_BASE_URL+"/user")},r.updateUser=function(r){return e.post(CONSTANTS.API_BASE_URL+"/user",r)}}]),app.directive("dcbBand",["bandService",function(e){return{restrict:"E",templateUrl:"app/directives/dcb-band/dcb-band.html",replace:!0,scope:{},controllerAs:"band",controller:["$auth","$scope","$rootScope",function(r,t,n){function o(){a.trackArray=i.getTrackArray,a.bandTrackIdArray=i.getTrackIdArray,a.trackArrayCount=i.getTrackArrayCount}var a=this,i=e;a.removeFromBand=function(e){i.removeFromTrackArray(e),console.log("Track removed from new band: "+e)},o()}]}}]),app.directive("dcbHeader",["bandService",function(e){return{restrict:"E",templateUrl:"app/directives/dcb-header/dcb-header.html",replace:!0,scope:{},controllerAs:"head",controller:["$scope","userService","authService","$auth","$rootScope",function(r,t,n,o,a){function i(){c.trackArray=u.getTrackArray,c.trackArrayCount=u.getTrackArrayCount,o.isAuthenticated()&&s.getUser().then(function(e){a.username=e.data.username})}var c=this,s=t,l=n,u=e;c.showLogin=function(){$("#login_modal").modal(),$("#login_modal").modal("open")},c.logout=function(){l.logout()},c.showRegister=function(){$("#register_modal").modal(),$("#register_modal").modal("open")},c.showBand=function(){$("#band_modal").modal(),$("#band_modal").modal("open")},c.isAuthenticated=function(){return o.isAuthenticated()},i(),r.$watch(function(){return l.user},function(){c.user=l.user})}]}}]),app.directive("dcbMergeprocessing",function(){return{restrict:"E",templateUrl:"app/directives/dcb-mergeprocessing/dcb-mergeprocessing.html",replace:!0,scope:{},controllerAs:"processing",controller:["$interval",function(e){var r=this,t=document.getElementById("processing-spinner"),n={lines:13,length:28,width:14,radius:42,scale:.4,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"40%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"},o=["Tuning instruments...","Adjusting amp settings...","Soundchecking...","Recording...","Mixing sound...","Finishing up..."],a=(new Spinner(n).spin(t),0);e(function(){$("#processing_modal").is(":visible")&&(r.text=o[a],a++,a>=o.length-1&&(a=0))},4e3)}]}}),app.directive("dcbLogin",function(){return{restrict:"E",templateUrl:"app/directives/dcb-login/dcb-login.html",replace:!0,scope:{},controllerAs:"login",controller:["$auth","$scope","$rootScope","userService","authService","$cookies",function(e,r,t,n,o,a){var i=this,c=o,s=document.getElementById("login-spinner"),l={lines:13,length:28,width:14,radius:42,scale:.4,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"60%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};i.login=function(){var e=new Spinner(l).spin(s);i.loading=!0,console.log(i.loading);var t={email:i.email,password:i.password};c.login(t);r.$watch(function(){return c.isLoggedIn},function(){c.isLoggedIn&&(i.loading=!1,$("#login_modal").modal(),$("#login_modal").modal("close"),e.stop()),c.isLoggedIn||(e.stop(),i.loading=!1)},!0)}}]}}),app.directive("dcbSticky",["$window",function(e){var r=angular.element(e);return{restrict:"A",link:function(e,t,n){var o=n.dcbSticky,a=t.offset().top;r.on("scroll",function(e){r.scrollTop()>=a?t.addClass(o):t.removeClass(o)})}}}]),app.directive("dcbRegister",["userService",function(e){return{restrict:"E",templateUrl:"app/directives/dcb-register/dcb-register.html",replace:!0,scope:{},controllerAs:"register",controller:["$auth","$scope","$rootScope","userService","authService",function(e,r,t,n,o){var a=this,i=o,c=document.getElementById("register-spinner"),s={lines:13,length:28,width:14,radius:42,scale:.4,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"60%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};a.register=function(){var t=new Spinner(s).spin(c);a.loading=!0;var n={username:a.username,email:a.email,password:a.password};e.signup(n).then(function(e){i.login(n);var o=r.$watch(function(){return i.isLoggedIn},function(){i.isLoggedIn&&(a.loading=!1,$("#register_modal").modal(),$("#register_modal").modal("close"),t.stop(),o()),i.isLoggedIn===!1&&(t.stop(),a.loading=!1,o())},!0)})["catch"](function(e){t.stop(),a.loading=!1,console.log(e)})}}]}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbmZpZy5qcyIsInJvdXRlcy5qcyIsImJhbmRDb250cm9sbGVyLmpzIiwiaG9tZUNvbnRyb2xsZXIuanMiLCJtZXJnZUNvbnRyb2xsZXIuanMiLCJtZXJnZWRDb250cm9sbGVyLmpzIiwicHJvZmlsZUNvbnRyb2xsZXIuanMiLCJzb2xvQ29udHJvbGxlci5qcyIsInVwbG9hZENvbnRyb2xsZXIuanMiLCJiYW5kRmlsdGVyLmpzIiwiYXJ0aXN0U2VydmljZS5qcyIsImF1dGhTZXJ2aWNlLmpzIiwiYmFuZFNlcnZpY2UuanMiLCJmaWx0ZXJTZXJ2aWNlLmpzIiwiaW5zdHJ1bWVudFNlcnZpY2UuanMiLCJtZXJnZWRTZXJ2aWNlLmpzIiwic29sb1NlcnZpY2UuanMiLCJ1c2VyU2VydmljZS5qcyIsImRjYi1iYW5kL2RjYi1iYW5kLmpzIiwiZGNiLWhlYWRlci9kY2ItaGVhZGVyLmpzIiwiZGNiLW1lcmdlcHJvY2Vzc2luZy9kY2ItbWVyZ2Vwcm9jZXNzaW5nLmpzIiwiZGNiLWxvZ2luL2RjYi1sb2dpbi5qcyIsImRjYi1zdGlja3kvZGNiLXN0aWNreS5qcyIsImRjYi1yZWdpc3Rlci9kY2ItcmVnaXN0ZXIuanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsIkNPTlNUQU5UUyIsIkFQSV9CQVNFX1VSTCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGF1dGhQcm92aWRlciIsIiRodHRwUHJvdmlkZXIiLCJsb2dpblVybCIsInNpZ251cFVybCIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiZGF0YSIsInJlcXVpcmVzTG9nZ2VkSW4iLCJydW4iLCIkcm9vdFNjb3BlIiwiJGxvY2F0aW9uIiwiJGF1dGgiLCIkc3RhdGUiLCJpc0F1dGhvcml6ZWQiLCJ0b1N0YXRlIiwiaXNBdXRoZW50aWNhdGVkIiwicmVkaXJlY3RTdGF0ZSIsIiRvbiIsImUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJuZXh0IiwiaHJlZiIsInJlcGxhY2UiLCJwYXRoIiwiY29uc29sZSIsImxvZyIsImJhbmRTZXJ2aWNlIiwiX2luaXQiLCJ2bSIsInRyYWNrQXJyYXkiLCJiYW5kU3ZjIiwiZ2V0VHJhY2tBcnJheSIsInRoaXMiLCJpbnN0cnVtZW50U2VydmljZSIsImZpbHRlclNlcnZpY2UiLCJmaWx0ZXJEYXRhIiwiZmx0U3ZjIiwic29sb0ZpbHRlckRhdGEiLCJtZXJnZWRTZXJ2aWNlIiwidHJhY2tzIiwic2hvd1RyYWNrcyIsInRoZXJlQXJlVHJhY2tzIiwibG9hZGVkVHJhY2tzIiwic2F2ZWRUaW1lIiwidHJpbUFtb3VudHMiLCJsZW5ndGgiLCJtZXJnZWRTdmMiLCJ3YXZlc3VyZmVyIiwibG9hZCIsImkiLCJ0cmFja19pZCIsImlkIiwiV2F2ZVN1cmZlciIsImNyZWF0ZSIsImNvbnRhaW5lciIsIndhdmVDb2xvciIsInByb2dyZXNzQ29sb3IiLCJmaWxlX3VybCIsInB1c2giLCJ0cmltX2Ftb3VudCIsInVzZXJfaWQiLCJ1c2VyIiwicGxheVBhdXNlIiwiaXNQbGF5aW5nIiwiZ2V0Q3VycmVudFRpbWUiLCJ6b29tIiwidHJpbSIsInRpbWVUb1RyaW0iLCJNYXRoIiwicm91bmQiLCJwbGF5UGF1c2VBbGwiLCJ0b1ByZXZpb3VzIiwicHJldmlvdXNUaW1lIiwidG90YWxUaW1lIiwiZ2V0RHVyYXRpb24iLCJwcm9ncmVzcyIsInNlZWtBbmRDZW50ZXIiLCJ0b1N0YXJ0Iiwic2F2ZSIsIiQiLCJtb2RhbCIsIm1lcmdlVHJhY2tzIiwidGhlbiIsImdvIiwiZXJyb3IiLCIkc2NvcGUiLCJnZXRDb29raWUiLCJjbmFtZSIsIm5hbWUiLCJkZWNvZGVkQ29va2llIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZG9jdW1lbnQiLCJjb29raWUiLCJjYSIsInNwbGl0IiwiYyIsImNoYXJBdCIsInN1YnN0cmluZyIsImluZGV4T2YiLCJnZXRNZXJnZWRUcmFja3MiLCJnZXRUcmFja3MiLCJtZXJnZWRUcmFja3MiLCJmaWx0ZXJlZFRyYWNrcyIsImZpbHRlciIsImZvckVhY2giLCJ0cmFjayIsImtleSIsIm5ld1RyYWNrIiwiQXVkaW8iLCJtZXJnZWRUcmFja0F1ZGlvIiwidm90ZUNvdW50UGVyVHJhY2siLCJtZXJnZWRfdHJhY2tfdm90ZXMiLCJnZXRVc2VyVm90ZXMiLCJ2b3RlZHRyYWNrcyIsInZvdGVkVHJhY2tBcnJheSIsIm1lcmdlZF90cmFja19pZCIsImdvb2RTZWFyY2giLCJhcnRpc3QiLCJtYXRjaCIsIlJlZ0V4cCIsInRpdGxlIiwic29uZ25hbWUiLCJjdXJyZW50QXVkaW9UcmFja0lkIiwibWVyZ2VkRmlsdGVyRGF0YSIsImNvbG9yZWRIYW5kcyIsIm1nZFN2YyIsIkpTT04iLCJwYXJzZSIsInVzZXJJZCIsInBsYXkiLCJ0cmFja0lkIiwicGF1c2UiLCJkb3dubG9hZCIsIndpbmRvdyIsIm9wZW4iLCJ1cFZvdGUiLCJpbnNlcnRWb3RlIiwic3RhdHVzIiwiJHdhdGNoIiwidXNlclNlcnZpY2UiLCJ1c2VyU3ZjIiwiZ2V0VXNlciIsInVzZXJuYW1lIiwiZW1haWwiLCJ0YXJnZXQiLCJnZXRFbGVtZW50QnlJZCIsIm9wdHMiLCJsaW5lcyIsIndpZHRoIiwicmFkaXVzIiwic2NhbGUiLCJjb3JuZXJzIiwiY29sb3IiLCJvcGFjaXR5Iiwicm90YXRlIiwiZGlyZWN0aW9uIiwic3BlZWQiLCJ0cmFpbCIsImZwcyIsInpJbmRleCIsImNsYXNzTmFtZSIsInRvcCIsImxlZnQiLCJzaGFkb3ciLCJod2FjY2VsIiwicG9zaXRpb24iLCJ1cGRhdGUiLCJzcGlubmVyIiwiU3Bpbm5lciIsInNwaW4iLCJsb2FkaW5nIiwidXNlcmluZm8iLCJ1cGRhdGVVc2VyIiwic3RvcCIsInNvbG9TZXJ2aWNlIiwiZ2V0U29sb1RyYWNrcyIsInNvbG9TdmMiLCJzb2xvVHJhY2tzIiwic29sb1RyYWNrQXVkaW8iLCJpbnN0cnVtZW50X2lkIiwic2hvd05vUmVzdWx0c0ZvdW5kIiwiaW5zdFN2YyIsImdldEluc3RydW1lbnRzIiwiaW5zdHJ1bWVudHMiLCJiYW5kVHJhY2tJZEFycmF5IiwiZ2V0VHJhY2tJZEFycmF5IiwidHJhY2tBcnJheUNvdW50IiwiZ2V0VHJhY2tBcnJheUNvdW50IiwiYWRkVG9CYW5kIiwiYWRkVG9UcmFja0FycmF5IiwicmVtb3ZlRnJvbUJhbmQiLCJyZW1vdmVGcm9tVHJhY2tBcnJheSIsIlVwbG9hZCIsImFydGlzdFNlcnZpY2UiLCJ1cGxvYWRlZCIsInNob3dmb3JtIiwiaW5zdHJ1bWVudFN2YyIsImFydGlzdHMiLCJhcnRpc3RTdmMiLCJnZXRBcnRpc3RzIiwidXBsb2FkRmlsZSIsImZpbGUiLCJtYXRlcmlhbF9zZWxlY3QiLCJ1cGxvYWQiLCJmaWxlRm9ybURhdGFOYW1lIiwic2VuZEZpZWxkc0FzIiwic29uZyIsInJlc3AiLCJmaWxlbmFtZSIsInRyYWNrbGVuZ3RoIiwidXBsb2FkZmFpbGVkIiwidHJhY2tfbGVuZ3RoIiwiaW5zdHJ1bWVudHNkcm9wZG93biIsImFydGlzdF9pZCIsImFydGlzdG5hbWUiLCJpbnNlcnRUcmFjayIsImxpc3QiLCJyZXR1cm5WYWx1ZSIsImluZGV4Iiwic2VydmljZSIsIiRodHRwIiwiZ2V0RGF0YSIsIm9wdGlvbnMiLCJnZXQiLCJzdmMiLCIkY29va2llcyIsImxvZ2luIiwidG9rZW4iLCJleHBpcmF0aW9uVGltZSIsIkRhdGUiLCJzZXRUaW1lIiwiZ2V0VGltZSIsInVzZXJEYXRhIiwicHV0T2JqZWN0IiwiZXhwaXJlcyIsImlzTG9nZ2VkSW4iLCJpc0FkbWluIiwiY3JlZGVudGlhbHMiLCJsb2dvdXQiLCJyZW1vdmUiLCJyZWdpc3RlciIsInBvc3QiLCJhcnJheU9iamVjdEluZGV4T2YiLCJteUFycmF5Iiwic2VhcmNoVGVybSIsInByb3BlcnR5IiwibGVuIiwiaW5jcmVtZW50VHJhY2tBcnJheUNvdW50IiwiZGVjcmVtZW50VHJhY2tBcnJheUNvdW50IiwiYWRkVG9UcmFja0lkQXJyYXkiLCJ0cmFja0lkQXJyYXkiLCJyZW1vdmVGcm9tVHJhY2tJZEFycmF5Iiwic3BsaWNlIiwidGVzdEZ1bmN0aW9uIiwiYWxlcnQiLCJjcmVhdGVTb2xvRmlsdGVyRGF0YSIsImNyZWF0ZU1lcmdlZEZpbHRlckRhdGEiLCJ2YWx1ZSIsImdldFRyYWNrQnlJZCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0Iiwic2NvcGUiLCJjb250cm9sbGVyQXMiLCJhdXRoU2VydmljZSIsImF1dGhTdmMiLCJzaG93TG9naW4iLCJzaG93UmVnaXN0ZXIiLCJzaG93QmFuZCIsIiRpbnRlcnZhbCIsInRleHRBcnJheSIsImN1cnJlbnRJbmRleCIsImlzIiwidGV4dCIsInBhc3N3b3JkIiwiJHdpbmRvdyIsIiR3aW4iLCJlbGVtZW50IiwibGluayIsImF0dHJzIiwidG9wQ2xhc3MiLCJkY2JTdGlja3kiLCJvZmZzZXRUb3AiLCJvZmZzZXQiLCJvbiIsInNjcm9sbFRvcCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJzaWdudXAiLCJyZXNwb25zZSIsInVucmVnaXN0ZXIiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUlBLEtBQU1DLFFBQVFDLE9BQU8sT0FDdkIsWUFDQSxhQUNBLFlBQ0EsaUJDSkVDLFVBQWEsV0FFaEIsR0FBSUQsS0FJSixPQUZBQSxHQUFPRSxhQUFlLHdDQUVmRixJQ05SRixLQUFJSyxRQUFBLGlCQUFBLHFCQUFBLGdCQUFBLGdCQUFPLFNBQVNDLEVBQWdCQyxFQUFvQkMsRUFBZUMsR0FFckVELEVBQWNFLFNBQWNQLFVBQVVDLGFBQWUsU0FDckRJLEVBQWNHLFVBQWNSLFVBQVVDLGFBQWUsWUFDckRHLEVBQW1CSyxVQUFVLEtBRTdCTixFQUNHTyxNQUFNLFFBQ0xDLElBQUssSUFDTEMsWUFBYSxzQkFDYkMsV0FBWSwyQkFFZEgsTUFBTSxRQUNKQyxJQUFLLFFBQ0xDLFlBQWEsc0JBQ2JDLFdBQVksMkJBRWJILE1BQU0sVUFDTEMsSUFBSyxVQUNMQyxZQUFhLHdCQUNiQyxXQUFZLCtCQUViSCxNQUFNLFFBQ0xDLElBQUssUUFDTEMs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QUlDLFNBQVF0QixHQUFNdUIsS0FBS3pCLEVBQy9CcEgsR0FBRzhJLFNBQVcsQ0FFcEIsSUFBSTdHLElBQ0RpRixTQUFVbEgsRUFBR2tILFNBQ2JDLE1BQU9uSCxFQUFHbUgsTUFDVmtJLFNBQVVyUCxFQUFHcVAsU0FHaEJ4USxHQUFNc1IsT0FBT2xPLEdBQU1xQixLQUFLLFNBQVM4TSxHQUVoQ3hCLEVBQVF0QyxNQUFNckssRUFHZCxJQUFJb08sR0FBYTVNLEVBQU9xRCxPQUN2QixXQUFjLE1BQU84SCxHQUFRN0IsWUFDN0IsV0FFSTZCLEVBQVE3QixhQUVWL00sRUFBRzhJLFNBQVUsRUFDUDNGLEVBQUUsbUJBQW1CQyxRQUMzQkQsRUFBRSxtQkFBbUJDLE1BQU0sU0FDckJ1RixFQUFRTSxPQUNSb0gsS0FFSnpCLEVBQVE3QixjQUFlLElBRXpCcEUsRUFBUU0sT0FDRmpKLEVBQUc4SSxTQUFVLEVBQ2J1SCxPQUVMLEtBdkJMeFIsU0F5Qk8sU0FBU3VSLEdBRWJ6SCxFQUFRTSxPQUNSakosRUFBRzhJLFNBQVUsRUFDWmxKLFFBQVFDLElBQUl1USIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIsIFtcclxuXHRcdFwidWkucm91dGVyXCIsXHJcblx0XHRcInNhdGVsbGl6ZXJcIixcclxuXHRcdFwibmdDb29raWVzXCIsXHJcblx0XHRcIm5nRmlsZVVwbG9hZFwiXHJcblx0XSk7IiwidmFyIENPTlNUQU5UUyA9IChmdW5jdGlvbiAoKSB7XHJcblx0XHJcblx0dmFyIG1vZHVsZSA9IHt9O1xyXG5cclxuXHRtb2R1bGUuQVBJX0JBU0VfVVJMID0gXCJodHRwOi8vZGlzY292ZXJiYW5kYXBpLmludC9wdWJsaWMvYXBpXCI7XHJcblxyXG5cdHJldHVybiBtb2R1bGU7XHJcbn0oKSk7IiwiYXBwLmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkYXV0aFByb3ZpZGVyLCAkaHR0cFByb3ZpZGVyKSB7XHJcbiAgXHJcbiAgJGF1dGhQcm92aWRlci5sb2dpblVybCAgICA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyAnL2xvZ2luJztcclxuICAkYXV0aFByb3ZpZGVyLnNpZ251cFVybCAgID0gQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArICcvcmVnaXN0ZXInO1xyXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoXCIvXCIpO1xyXG5cclxuICAkc3RhdGVQcm92aWRlclxyXG4gICAgLnN0YXRlKCdob21lJywge1xyXG4gICAgICB1cmw6IFwiL1wiLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogXCJhcHAvcGFnZXMvaG9tZS5odG1sXCIsXHJcbiAgICAgIGNvbnRyb2xsZXI6IFwiaG9tZUNvbnRyb2xsZXIgYXMgaG9tZVwiXHJcbiAgICB9KVxyXG4gIFx0LnN0YXRlKCdzb2xvJywge1xyXG4gICAgICB1cmw6IFwiL3NvbG9cIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL3NvbG8uaHRtbFwiLFxyXG4gICAgICBjb250cm9sbGVyOiBcInNvbG9Db250cm9sbGVyIGFzIHNvbG9cIlxyXG4gICAgfSlcclxuICAgIC5zdGF0ZSgnbWVyZ2VkJywge1xyXG4gICAgICB1cmw6IFwiL21lcmdlZFwiLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogXCJhcHAvcGFnZXMvbWVyZ2VkLmh0bWxcIixcclxuICAgICAgY29udHJvbGxlcjogXCJtZXJnZWRDb250cm9sbGVyIGFzIG1lcmdlZFwiXHJcbiAgICB9KVxyXG4gICAgLnN0YXRlKCdiYW5kJywge1xyXG4gICAgICB1cmw6IFwiL2JhbmRcIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL2JhbmQuaHRtbFwiLFxyXG4gICAgICBjb250cm9sbGVyOiBcImJhbmRDb250cm9sbGVyIGFzIGJhbmRcIlxyXG4gICAgfSlcclxuICAgIC5zdGF0ZSgnbWVyZ2UnLCB7XHJcbiAgICAgIHVybDogXCIvbWVyZ2VcIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL21lcmdlLmh0bWxcIixcclxuICAgICAgY29udHJvbGxlcjogXCJtZXJnZUNvbnRyb2xsZXIgYXMgbWVyZ2VcIlxyXG4gICAgfSlcclxuICAgIC5zdGF0ZSgncHJvZmlsZScsIHtcclxuICAgICAgdXJsOiBcIi9wcm9maWxlXCIsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wYWdlcy9wcm9maWxlLmh0bWxcIixcclxuICAgICAgY29udHJvbGxlcjogXCJwcm9maWxlQ29udHJvbGxlciBhcyBwcm9maWxlXCIsXHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICByZXF1aXJlc0xvZ2dlZEluOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAuc3RhdGUoJ3VwbG9hZCcsIHtcclxuICAgICAgdXJsOiBcIi91cGxvYWRcIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL3VwbG9hZC5odG1sXCIsXHJcbiAgICAgIGNvbnRyb2xsZXI6IFwidXBsb2FkQ29udHJvbGxlciBhcyB1cGxvYWRcIixcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIHJlcXVpcmVzTG9nZ2VkSW46IHRydWVcclxuICAgICAgfVxyXG4gICAgfSlcclxufSlcclxuLnJ1bihmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGxvY2F0aW9uLCAkYXV0aCwgJHN0YXRlKSB7IFxyXG5cclxuICAvL0dsb2JhbHNcclxuICB2YXIgcmVkaXJlY3RTdGF0ZSA9IFwiL1wiO1xyXG5cclxuICAvL1JlZGlyZWN0IHJvdXRlcyBpZiBub3QgYWRtaW5cclxuICAkcm9vdFNjb3BlLiRvbihcIiRzdGF0ZUNoYW5nZVN0YXJ0XCIsIGZ1bmN0aW9uIChlLCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKSB7XHJcblxyXG4gICAgdmFyIG5leHQgPSB0b1N0YXRlLnVybDtcclxuXHJcbiAgICAvL1N0cmlwIGhhc2hiYW5ncyB1c2luZyBSZWdFeFxyXG4gICAgaWYodG9QYXJhbXMpIFxyXG4gICAge1xyXG4gICAgICBuZXh0ID0gJHN0YXRlLmhyZWYodG9TdGF0ZSwgdG9QYXJhbXMpO1xyXG4gICAgICBuZXh0ID0gbmV4dC5yZXBsYWNlKFwiI1wiLCBcIlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNBdXRob3JpemVkKHRvU3RhdGUpKVxyXG4gICAge1xyXG4gICAgICAkbG9jYXRpb24ucGF0aChuZXh0KTtcclxuICAgIH1cclxuICAgIGVsc2VcclxuICAgIHtcclxuICAgICAgY29uc29sZS5sb2coXCJub3RMb2dnZWRJblwiKTtcclxuICAgICAgJGxvY2F0aW9uLnBhdGgocmVkaXJlY3RTdGF0ZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuICBmdW5jdGlvbiBpc0F1dGhvcml6ZWQgKHRvU3RhdGUpIHtcclxuXHJcbiAgICBpZih0b1N0YXRlLmRhdGEgJiYgdG9TdGF0ZS5kYXRhLnJlcXVpcmVzTG9nZ2VkSW4pXHJcbiAgICAgIHJldHVybiAkYXV0aC5pc0F1dGhlbnRpY2F0ZWQoKTtcclxuICAgIGVsc2VcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG59KTsiLCJhcHAuY29udHJvbGxlcihcImJhbmRDb250cm9sbGVyXCIsIGZ1bmN0aW9uKGJhbmRTZXJ2aWNlKSB7XHJcblx0XHJcblx0dmFyIHZtIFx0XHQ9IHRoaXM7XHJcblx0dmFyIGJhbmRTdmMgPSBiYW5kU2VydmljZTtcclxuXHJcblx0ZnVuY3Rpb24gX2luaXQoKSB7XHJcblx0XHR2bS50cmFja0FycmF5ID0gYmFuZFN2Yy5nZXRUcmFja0FycmF5O1xyXG5cdH1cclxuXHJcblx0X2luaXQoKTtcclxufSk7IiwiYXBwLmNvbnRyb2xsZXIoXCJob21lQ29udHJvbGxlclwiLCBmdW5jdGlvbihpbnN0cnVtZW50U2VydmljZSwgZmlsdGVyU2VydmljZSkge1xyXG5cdFxyXG5cdHZhciB2bSA9IHRoaXM7XHJcblx0dmFyIGluc3RTdmMgPSBpbnN0cnVtZW50U2VydmljZTtcclxuXHR2YXIgZmx0U3ZjID0gZmlsdGVyU2VydmljZTtcclxuXHJcblx0ZnVuY3Rpb24gX2luaXQoKSB7XHJcblx0XHR2bS5maWx0ZXJEYXRhID0gZmx0U3ZjLnNvbG9GaWx0ZXJEYXRhO1xyXG5cdH1cclxuXHJcblx0X2luaXQoKTtcclxufSk7IiwiYXBwLmNvbnRyb2xsZXIoXCJtZXJnZUNvbnRyb2xsZXJcIiwgZnVuY3Rpb24oYmFuZFNlcnZpY2UsIG1lcmdlZFNlcnZpY2UsICRzdGF0ZSkge1xyXG5cdHZhciB2bSBcdFx0XHQ9IHRoaXM7XHJcblx0dmFyIGJhbmRTdmMgXHQ9IGJhbmRTZXJ2aWNlO1xyXG5cdHZhciBtZXJnZWRTdmMgXHQ9IG1lcmdlZFNlcnZpY2U7XHJcblx0dmFyIHdhdmVzdXJmZXIgXHQ9IFtdO1xyXG5cclxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdHZtLnRyYWNrcyBcdFx0XHQ9IGJhbmRTdmMuZ2V0VHJhY2tBcnJheSgpO1xyXG5cdFx0dm0uc2hvd1RyYWNrcyBcdFx0PSBmYWxzZTtcclxuXHRcdHZtLnRoZXJlQXJlVHJhY2tzXHQ9IGZhbHNlO1xyXG5cdFx0dm0ubG9hZGVkVHJhY2tzIFx0PSBbXTtcclxuXHRcdHZtLnNhdmVkVGltZSBcdFx0PSBbXTtcclxuXHRcdHZtLnRyaW1BbW91bnRzICBcdD0gW107XHJcblxyXG5cdFx0aWYodm0udHJhY2tzLmxlbmd0aCA+IDApXHJcblx0XHR7XHJcblx0XHRcdHZtLnRoZXJlQXJlVHJhY2tzXHQ9IHRydWU7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR2bS5sb2FkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRpZih2bS50aGVyZUFyZVRyYWNrcylcclxuXHRcdHtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IHZtLnRyYWNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG5cdFx0XHRcdHZhciB0cmFja19pZCA9IHZtLnRyYWNrc1tpXS5pZDtcclxuXHJcblx0XHRcdFx0d2F2ZXN1cmZlclt0cmFja19pZF0gPSBXYXZlU3VyZmVyLmNyZWF0ZSh7XHJcblx0XHQgICAgXHRcdGNvbnRhaW5lcjogJyN3YXZlZm9ybScrdHJhY2tfaWQsXHJcblx0XHQgICAgXHRcdHdhdmVDb2xvcjogJ2dyZWVuJyxcclxuXHRcdCAgICBcdFx0cHJvZ3Jlc3NDb2xvcjogJ3B1cnBsZSdcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0d2F2ZXN1cmZlclt0cmFja19pZF0ubG9hZCgnaHR0cDovL2Rpc2NvdmVyYmFuZGFwaS5pbnQvcHVibGljL2FwaS9hdWRpby8nICsgdm0udHJhY2tzW2ldLmZpbGVfdXJsKTtcclxuXHJcblx0XHRcdFx0dm0ubG9hZGVkVHJhY2tzLnB1c2goe1xyXG5cdCAgICAgICAgICAgIFx0dHJhY2tfaWQ6IHRyYWNrX2lkLFxyXG5cdCAgICAgICAgICAgIFx0dHJpbV9hbW91bnQ6IDAsXHJcblx0ICAgICAgICAgICAgXHR1c2VyX2lkOiB2bS50cmFja3NbaV0udXNlci5pZFxyXG5cdCAgICAgICAgXHR9KTtcclxuXHJcblx0ICAgICAgICBcdGNvbnNvbGUubG9nKHZtLmxvYWRlZFRyYWNrcyk7XHJcblx0XHRcdH1cclxuXHRcdFx0dm0uc2hvd1RyYWNrcyA9IHRydWU7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR2bS5wbGF5UGF1c2UgPSBmdW5jdGlvbihpZCkge1xyXG5cdFx0aWYoIXdhdmVzdXJmZXJbaWRdLmlzUGxheWluZygpKVxyXG5cdFx0e1xyXG5cdFx0XHR2bS5zYXZlZFRpbWVbaWRdID0gd2F2ZXN1cmZlcltpZF0uZ2V0Q3VycmVudFRpbWUoKTtcclxuXHRcdFx0Y29uc29sZS5sb2codm0uc2F2ZWRUaW1lKTtcclxuXHRcdH1cclxuXHJcblx0XHR3YXZlc3VyZmVyW2lkXS5wbGF5UGF1c2UoKTtcclxuXHRcdHdhdmVzdXJmZXJbaWRdLnpvb20oNTApO1xyXG5cdH1cclxuXHJcblx0dm0udHJpbSA9IGZ1bmN0aW9uKGlkKSB7XHJcblx0XHR2YXIgdGltZVRvVHJpbSA9IHdhdmVzdXJmZXJbaWRdLmdldEN1cnJlbnRUaW1lKCk7XHJcblx0XHRmb3IgKHZhciBpID0gdm0ubG9hZGVkVHJhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdGlmKHZtLmxvYWRlZFRyYWNrc1tpXS50cmFja19pZCA9PT0gaWQpXHJcblx0XHRcdHtcclxuXHRcdFx0XHR2bS5sb2FkZWRUcmFja3NbaV0udHJpbV9hbW91bnQgXHQ9IHRpbWVUb1RyaW07XHJcblx0XHRcdFx0dm0udHJpbUFtb3VudHNbaWRdIFx0XHRcdFx0PSBNYXRoLnJvdW5kKHRpbWVUb1RyaW0gKiAxMDApIC8gMTAwO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHJcblx0dm0ucGxheVBhdXNlQWxsID0gZnVuY3Rpb24oKSB7XHJcblx0XHRmb3IgKHZhciBpID0gdm0ubG9hZGVkVHJhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdHZhciBpZCA9IHZtLmxvYWRlZFRyYWNrc1tpXS50cmFja19pZDtcclxuXHRcdFx0aWYoIXdhdmVzdXJmZXJbaWRdLmlzUGxheWluZygpKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dm0uc2F2ZWRUaW1lW2lkXSA9IHdhdmVzdXJmZXJbaWRdLmdldEN1cnJlbnRUaW1lKCk7XHJcblx0XHRcdH1cclxuXHJcbiAgICBcdFx0d2F2ZXN1cmZlcltpZF0ucGxheVBhdXNlKCk7XHJcbiAgICBcdFx0d2F2ZXN1cmZlcltpZF0uem9vbSg1MCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR2bS50b1ByZXZpb3VzID0gZnVuY3Rpb24oKSB7XHJcblx0XHRmb3IgKHZhciBpID0gdm0ubG9hZGVkVHJhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdHZhciBpZCA9IHZtLmxvYWRlZFRyYWNrc1tpXS50cmFja19pZDtcclxuXHRcdFx0dmFyIHByZXZpb3VzVGltZSBcdD0gdm0uc2F2ZWRUaW1lW2lkXTtcclxuXHRcdFx0dmFyIHRvdGFsVGltZVx0XHQ9IHdhdmVzdXJmZXJbaWRdLmdldER1cmF0aW9uKCk7XHJcblx0XHRcdHZhciBwcm9ncmVzcyA9IHByZXZpb3VzVGltZSAvIHRvdGFsVGltZTtcclxuXHRcdFx0d2F2ZXN1cmZlcltpZF0uc2Vla0FuZENlbnRlcihwcm9ncmVzcyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR2bS50b1N0YXJ0ID0gZnVuY3Rpb24oaWQpIHtcclxuXHRcdHdhdmVzdXJmZXJbaWRdLnNlZWtBbmRDZW50ZXIoMCk7XHJcblx0fVxyXG5cclxuXHRcclxuXHR2bS5zYXZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHQkKCcjcHJvY2Vzc2luZ19tb2RhbCcpLm1vZGFsKCk7XHJcblx0XHQkKCcjcHJvY2Vzc2luZ19tb2RhbCcpLm1vZGFsKCdvcGVuJyk7XHJcblx0XHRcclxuXHRcdG1lcmdlZFN2Yy5tZXJnZVRyYWNrcyh2bS5sb2FkZWRUcmFja3MpXHJcblx0XHQudGhlbihmdW5jdGlvbihkYXRhKVxyXG4gICAgICAgIHtcclxuICAgICAgICBcdCQoJyNwcm9jZXNzaW5nX21vZGFsJykubW9kYWwoJ2Nsb3NlJyk7XHJcbiAgICAgICAgXHQkc3RhdGUuZ28oXCJtZXJnZWRcIik7XHJcblxyXG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9KTtcclxuXHR9XHJcblxyXG5cdF9pbml0KCk7XHJcbn0pOyIsImFwcC5jb250cm9sbGVyKFwibWVyZ2VkQ29udHJvbGxlclwiLCBmdW5jdGlvbigkc2NvcGUsIG1lcmdlZFNlcnZpY2UsIGZpbHRlclNlcnZpY2UpIHtcclxuXHRcclxuXHR2YXIgdm0gIFx0XHQ9IHRoaXM7XHJcblx0dmFyIG1nZFN2YyBcdFx0PSBtZXJnZWRTZXJ2aWNlO1xyXG5cdHZhciBmbHRTdmMgXHRcdD0gZmlsdGVyU2VydmljZTtcclxuXHR2YXIgdXNlcl9pZFx0XHQ9IG51bGw7XHJcblxyXG5cdGlmKEpTT04ucGFyc2UoZ2V0Q29va2llKCd1c2VyJykpLnVzZXJJZClcclxuXHR7XHJcblx0XHR2YXIgdXNlcl9pZCBcdD0gSlNPTi5wYXJzZShnZXRDb29raWUoJ3VzZXInKSkudXNlcklkO1xyXG5cdH1cclxuXHRcclxuXHJcblx0Ly9Qcml2YXRlIGZ1bmN0aW9uc1xyXG5cdGZ1bmN0aW9uIHBsYXlBdWRpb0ZpbGUodHJhY2spXHJcblx0e1xyXG5cdFx0dHJhY2sucGxheSgpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZ2V0Q29va2llKGNuYW1lKSB7XHJcbiAgICAgICAgICB2YXIgbmFtZSA9IGNuYW1lICsgXCI9XCI7XHJcbiAgICAgICAgICB2YXIgZGVjb2RlZENvb2tpZSA9IGRlY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5jb29raWUpO1xyXG4gICAgICAgICAgdmFyIGNhID0gZGVjb2RlZENvb2tpZS5zcGxpdCgnOycpO1xyXG4gICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8Y2EubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICB2YXIgYyA9IGNhW2ldO1xyXG4gICAgICAgICAgICAgIHdoaWxlIChjLmNoYXJBdCgwKSA9PSAnICcpIHtcclxuICAgICAgICAgICAgICAgICAgYyA9IGMuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAoYy5pbmRleE9mKG5hbWUpID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGMuc3Vic3RyaW5nKG5hbWUubGVuZ3RoLCBjLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgIH1cclxuXHJcblx0ZnVuY3Rpb24gZ2V0TWVyZ2VkVHJhY2tzKCkge1xyXG5cdFx0bWVyZ2VkU2VydmljZS5nZXRUcmFja3MoKVxyXG5cdFx0XHQudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdFx0dm0ubWVyZ2VkVHJhY2tzID0gZGF0YS5kYXRhO1xyXG5cdFx0XHRcdHZtLmZpbHRlcmVkVHJhY2tzID0gdm0ubWVyZ2VkVHJhY2tzO1xyXG5cdFx0XHRcdGZpbHRlcigpO1xyXG5cclxuXHRcdFx0XHRhbmd1bGFyLmZvckVhY2godm0ubWVyZ2VkVHJhY2tzLCBmdW5jdGlvbih0cmFjaywga2V5KSB7XHJcblx0XHRcdFx0XHRuZXdUcmFjayA9IG5ldyBBdWRpbygnaHR0cDovL2Rpc2NvdmVyYmFuZGFwaS5pbnQvcHVibGljL2F1ZGlvLycgKyB0cmFjay5maWxlX3VybCk7XHJcblx0XHRcdFx0XHR2bS5tZXJnZWRUcmFja0F1ZGlvW3RyYWNrLmlkXSA9IG5ld1RyYWNrO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRmb3IgKHZhciBpID0gdm0ubWVyZ2VkVHJhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdFx0XHR2bS52b3RlQ291bnRQZXJUcmFja1t2bS5tZXJnZWRUcmFja3NbaV0uaWRdID0gdm0ubWVyZ2VkVHJhY2tzW2ldLm1lcmdlZF90cmFja192b3Rlcy5sZW5ndGg7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCBmdW5jdGlvbihlcnJvcikge1xyXG5cclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZ2V0VXNlclZvdGVzKCkge1xyXG5cdFx0aWYodXNlcl9pZCAhPSBudWxsKVxyXG5cdFx0e1xyXG5cdFx0XHRtZXJnZWRTZXJ2aWNlLmdldFVzZXJWb3Rlcyh1c2VyX2lkKVxyXG5cdFx0XHQudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZGF0YSk7XHJcblx0XHRcdFx0dm0udm90ZWR0cmFja3MgPSBkYXRhLmRhdGE7XHJcblx0XHRcdFx0Zm9yICh2YXIgaSA9IHZtLnZvdGVkdHJhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdFx0XHR2bS52b3RlZFRyYWNrQXJyYXkucHVzaCh2bS52b3RlZHRyYWNrc1tpXS5tZXJnZWRfdHJhY2tfaWQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjb25zb2xlLmxvZyh2bS52b3RlZFRyYWNrQXJyYXkpO1xyXG5cdFx0XHR9LCBmdW5jdGlvbihlcnJvcikge1xyXG5cclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZmlsdGVyKCkge1xyXG5cdFx0XHJcblx0XHR2bS5maWx0ZXJlZFRyYWNrcyA9IFtdO1xyXG5cclxuXHRcdGFuZ3VsYXIuZm9yRWFjaCh2bS5tZXJnZWRUcmFja3MsIGZ1bmN0aW9uKHRyYWNrLCBrZXkpIHtcclxuXHJcblx0XHRcdGdvb2RTZWFyY2ggPSB0cnVlO1xyXG5cclxuXHRcdFx0aWYoIXZtLmZpbHRlckRhdGEuYXJ0aXN0ID09IFwiXCIgJiYgIXRyYWNrLmFydGlzdC5uYW1lLm1hdGNoKG5ldyBSZWdFeHAodm0uZmlsdGVyRGF0YS5hcnRpc3QsIFwiaVwiKSkpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRnb29kU2VhcmNoID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKCF2bS5maWx0ZXJEYXRhLnRpdGxlID09IFwiXCIgJiYgIXRyYWNrLnNvbmduYW1lLm1hdGNoKG5ldyBSZWdFeHAodm0uZmlsdGVyRGF0YS50aXRsZSwgXCJpXCIpKSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGdvb2RTZWFyY2ggPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdGlmKGdvb2RTZWFyY2gpXHJcblx0XHRcdHtcclxuXHRcdFx0XHR2bS5maWx0ZXJlZFRyYWNrcy5wdXNoKHRyYWNrKTtcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIF9pbml0KCkge1xyXG5cdFx0dm0ubWVyZ2VkVHJhY2tBdWRpbyBcdD0gW107XHJcblx0XHR2bS5jdXJyZW50QXVkaW9UcmFja0lkIFx0PSBcIlwiO1xyXG5cdFx0Z2V0TWVyZ2VkVHJhY2tzKCk7XHJcblx0XHRnZXRVc2VyVm90ZXMoKTtcclxuXHRcdHZtLmZpbHRlckRhdGEgXHRcdFx0PSBmbHRTdmMubWVyZ2VkRmlsdGVyRGF0YTtcclxuXHRcdHZtLnZvdGVDb3VudFBlclRyYWNrIFx0PSBbXTtcclxuXHRcdHZtLmNvbG9yZWRIYW5kcyBcdFx0PSBbXTtcclxuXHRcdHZtLnZvdGVkVHJhY2tBcnJheSBcdFx0PSBbXTtcclxuXHR9XHJcblxyXG5cdC8vVm0gZnVuY3Rpb25zXHJcblx0dm0ucGxheSA9IGZ1bmN0aW9uKHRyYWNrSWQpIHtcclxuXHJcblx0XHRpZih2bS5jdXJyZW50QXVkaW9UcmFja0lkICE9IFwiXCIpIHtcclxuXHRcdFx0dm0ucGF1c2Uodm0uY3VycmVudEF1ZGlvVHJhY2tJZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dm0uY3VycmVudEF1ZGlvVHJhY2tJZCA9IHRyYWNrSWQ7XHJcblx0XHR2bS5tZXJnZWRUcmFja0F1ZGlvW3RyYWNrSWRdLnBsYXkoKTtcclxuXHR9XHJcblxyXG5cdHZtLnBhdXNlID0gZnVuY3Rpb24odHJhY2tJZCkge1xyXG5cdFx0dm0ubWVyZ2VkVHJhY2tBdWRpb1t0cmFja0lkXS5wYXVzZSgpO1xyXG5cdFx0dm0uY3VycmVudEF1ZGlvVHJhY2tJZCA9IFwiXCI7XHJcblx0fVxyXG5cclxuXHR2bS5kb3dubG9hZCA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICBcdHdpbmRvdy5vcGVuKENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyAnL21lcmdlZHRyYWNrcy8nICsgaWQgKyAnL2Rvd25sb2FkJywgJ19ibGFuaycsICcnKTsgIFxyXG5cdH1cclxuXHJcblx0dm0udXBWb3RlID0gZnVuY3Rpb24oaWQpIHtcclxuXHQgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIHRyYWNrX2lkOiBpZCxcclxuICAgICAgICAgICAgdXNlcl9pZDogdXNlcl9pZFxyXG5cdCAgICB9XHJcblxyXG5cdCAgICBtZ2RTdmMuaW5zZXJ0Vm90ZShkYXRhKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpXHJcbiAgICAgICAge1xyXG4gICAgICAgIFx0aWYoZGF0YS5kYXRhLnN0YXR1cyA9PSBcIk9LXCIpXHJcbiAgICAgICAgXHR7XHJcbiAgICAgICAgXHRcdHZtLnZvdGVDb3VudFBlclRyYWNrW2lkXSsrO1xyXG4gICAgICAgIFx0XHR2bS52b3RlZFRyYWNrQXJyYXkucHVzaChpZCk7XHJcbiAgICAgICAgXHR9XHJcbiAgICAgICAgXHRlbHNlXHJcbiAgICAgICAgXHR7XHJcbiAgICAgICAgXHRcdGNvbnNvbGUubG9nKCdhbHJlYWR5IHZvdGVkJyk7XHJcbiAgICAgICAgXHR9XHJcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG5cdH1cclxuXHJcblx0Ly9XYXRjaGVzXHJcblx0JHNjb3BlLiR3YXRjaChcclxuXHRcdGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZtLmZpbHRlckRhdGEgfSwgXHJcblx0XHRmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRpZih2bS5maWx0ZXJEYXRhKSBcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGZpbHRlcigpO1xyXG5cdFx0XHR9XHJcblx0XHR9LCB0cnVlKTtcclxuXHJcblx0X2luaXQoKTtcclxufSk7IiwiYXBwLmNvbnRyb2xsZXIoXCJwcm9maWxlQ29udHJvbGxlclwiLCBmdW5jdGlvbih1c2VyU2VydmljZSkge1xyXG5cdFxyXG5cdHZhciB2bSBcdFx0PSB0aGlzO1xyXG5cdHZhciB1c2VyU3ZjID0gdXNlclNlcnZpY2U7XHJcblx0dmFyIHRhcmdldCBcdD0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwZGF0ZS1wcm9maWxlLXNwaW5uZXInKTtcclxuXHJcblx0dmFyIG9wdHMgPSB7XHJcblx0XHRcdGxpbmVzOiAxMyAvLyBUaGUgbnVtYmVyIG9mIGxpbmVzIHRvIGRyYXdcclxuXHRcdCwgbGVuZ3RoOiAyOCAvLyBUaGUgbGVuZ3RoIG9mIGVhY2ggbGluZVxyXG5cdFx0LCB3aWR0aDogMTIgLy8gVGhlIGxpbmUgdGhpY2tuZXNzXHJcblx0XHQsIHJhZGl1czogNDIgLy8gVGhlIHJhZGl1cyBvZiB0aGUgaW5uZXIgY2lyY2xlXHJcblx0XHQsIHNjYWxlOiAwLjE1IC8vIFNjYWxlcyBvdmVyYWxsIHNpemUgb2YgdGhlIHNwaW5uZXJcclxuXHRcdCwgY29ybmVyczogMSAvLyBDb3JuZXIgcm91bmRuZXNzICgwLi4xKVxyXG5cdFx0LCBjb2xvcjogJyMwMDAnIC8vICNyZ2Igb3IgI3JyZ2diYiBvciBhcnJheSBvZiBjb2xvcnNcclxuXHRcdCwgb3BhY2l0eTogMC4yNSAvLyBPcGFjaXR5IG9mIHRoZSBsaW5lc1xyXG5cdFx0LCByb3RhdGU6IDAgLy8gVGhlIHJvdGF0aW9uIG9mZnNldFxyXG5cdFx0LCBkaXJlY3Rpb246IDEgLy8gMTogY2xvY2t3aXNlLCAtMTogY291bnRlcmNsb2Nrd2lzZVxyXG5cdFx0LCBzcGVlZDogMSAvLyBSb3VuZHMgcGVyIHNlY29uZFxyXG5cdFx0LCB0cmFpbDogNjAgLy8gQWZ0ZXJnbG93IHBlcmNlbnRhZ2VcclxuXHRcdCwgZnBzOiAyMCAvLyBGcmFtZXMgcGVyIHNlY29uZCB3aGVuIHVzaW5nIHNldFRpbWVvdXQoKSBhcyBhIGZhbGxiYWNrIGZvciBDU1NcclxuXHRcdCwgekluZGV4OiAyZTkgLy8gVGhlIHotaW5kZXggKGRlZmF1bHRzIHRvIDIwMDAwMDAwMDApXHJcblx0XHQsIGNsYXNzTmFtZTogJ3NwaW5uZXInIC8vIFRoZSBDU1MgY2xhc3MgdG8gYXNzaWduIHRvIHRoZSBzcGlubmVyXHJcblx0XHQsIHRvcDogJzg5JScgLy8gVG9wIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG5cdFx0LCBsZWZ0OiAnMjUuNSUnIC8vIExlZnQgcG9zaXRpb24gcmVsYXRpdmUgdG8gcGFyZW50XHJcblx0XHQsIHNoYWRvdzogZmFsc2UgLy8gV2hldGhlciB0byByZW5kZXIgYSBzaGFkb3dcclxuXHRcdCwgaHdhY2NlbDogZmFsc2UgLy8gV2hldGhlciB0byB1c2UgaGFyZHdhcmUgYWNjZWxlcmF0aW9uXHJcblx0XHQsIHBvc2l0aW9uOiAnYWJzb2x1dGUnIC8vIEVsZW1lbnQgcG9zaXRpb25pbmdcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIF9pbml0KCkge1xyXG5cdFx0dXNlclN2Yy5nZXRVc2VyKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHR2bS51c2VybmFtZSA9IGRhdGEuZGF0YS51c2VybmFtZTtcclxuXHRcdFx0dm0uZW1haWwgXHQ9IGRhdGEuZGF0YS5lbWFpbDtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0dm0udXBkYXRlID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgc3Bpbm5lciA9IG5ldyBTcGlubmVyKG9wdHMpLnNwaW4odGFyZ2V0KTtcclxuXHQgICAgdm0ubG9hZGluZyBcdD0gdHJ1ZTtcclxuXHJcblx0XHR2YXIgdXNlcmluZm8gPSB7XHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiB2bS51c2VybmFtZSxcclxuICAgICAgICAgICAgZW1haWw6IHZtLmVtYWlsXHJcbiAgICAgICAgfVxyXG5cclxuXHRcdHVzZXJTdmMudXBkYXRlVXNlcih1c2VyaW5mbylcclxuXHRcdFx0LnRoZW4oZnVuY3Rpb24oZGF0YSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHNwaW5uZXIuc3RvcCgpO1xyXG5cdFx0XHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0fSwgZnVuY3Rpb24oZXJyb3IpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRzcGlubmVyLnN0b3AoKTtcclxuXHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0X2luaXQoKTtcclxufSk7IiwiYXBwLmNvbnRyb2xsZXIoXCJzb2xvQ29udHJvbGxlclwiLCBmdW5jdGlvbigkc2NvcGUsIGJhbmRTZXJ2aWNlLCBzb2xvU2VydmljZSwgaW5zdHJ1bWVudFNlcnZpY2UsIGZpbHRlclNlcnZpY2UpIHtcclxuXHRcclxuXHR2YXIgdm0gPSB0aGlzO1xyXG5cdHZhciBiYW5kU3ZjID0gYmFuZFNlcnZpY2U7XHJcblx0dmFyIHNvbG9TdmMgPSBzb2xvU2VydmljZTtcclxuXHR2YXIgaW5zdFN2YyA9IGluc3RydW1lbnRTZXJ2aWNlO1xyXG5cdHZhciBmbHRTdmMgPSBmaWx0ZXJTZXJ2aWNlO1xyXG5cclxuXHQvL1ByaXZhdGUgZnVuY3Rpb25zXHJcblx0ZnVuY3Rpb24gcGxheUF1ZGlvRmlsZSh0cmFjaylcclxuXHR7XHJcblx0XHR0cmFjay5wbGF5KCk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBnZXRTb2xvVHJhY2tzKClcclxuXHR7XHJcblx0XHRzb2xvU3ZjLmdldFRyYWNrcygpXHJcblx0XHRcdC50aGVuKGZ1bmN0aW9uKGRhdGEpXHJcblx0XHRcdHtcclxuXHRcdFx0XHR2bS5zb2xvVHJhY2tzID0gZGF0YS5kYXRhO1xyXG5cdFx0XHRcdHZtLmZpbHRlcmVkVHJhY2tzID0gdm0uc29sb1RyYWNrcztcclxuXHRcdFx0XHRmaWx0ZXIoKTtcclxuXHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHZtLnNvbG9UcmFja3MsIGZ1bmN0aW9uKHRyYWNrLCBrZXkpIHtcclxuXHRcdFx0XHRcdFx0Ly9uZXdUcmFjayA9IG5ldyBBdWRpbyh0cmFjay5maWxlX3VybCk7XHJcblx0XHRcdFx0XHRcdG5ld1RyYWNrID0gbmV3IEF1ZGlvKCdodHRwOi8vZGlzY292ZXJiYW5kYXBpLmludC9wdWJsaWMvYXVkaW8vJyArIHRyYWNrLmZpbGVfdXJsKTtcclxuXHRcdFx0XHRcdFx0dm0uc29sb1RyYWNrQXVkaW9bdHJhY2suaWRdID0gbmV3VHJhY2s7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdH0sIGZ1bmN0aW9uKGVycm9yKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGZpbHRlcigpXHJcblx0e1xyXG5cdFx0dm0uZmlsdGVyZWRUcmFja3MgPSBbXTtcclxuXHJcblx0XHRhbmd1bGFyLmZvckVhY2godm0uc29sb1RyYWNrcywgZnVuY3Rpb24odHJhY2ssIGtleSlcclxuXHRcdHtcclxuXHRcdFx0Z29vZFNlYXJjaCA9IHRydWU7XHJcblxyXG5cdFx0XHRpZighdm0uZmlsdGVyRGF0YS5hcnRpc3QgPT0gXCJcIiAmJiAhdHJhY2suYXJ0aXN0Lm5hbWUubWF0Y2gobmV3IFJlZ0V4cCh2bS5maWx0ZXJEYXRhLmFydGlzdCwgXCJpXCIpKSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGdvb2RTZWFyY2ggPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYoIXZtLmZpbHRlckRhdGEudGl0bGUgPT0gXCJcIiAmJiAhdHJhY2suc29uZ25hbWUubWF0Y2gobmV3IFJlZ0V4cCh2bS5maWx0ZXJEYXRhLnRpdGxlLCBcImlcIikpKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Z29vZFNlYXJjaCA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZighdm0uZmlsdGVyRGF0YVt0cmFjay5pbnN0cnVtZW50X2lkXSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGdvb2RTZWFyY2ggPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdGlmKGdvb2RTZWFyY2gpXHJcblx0XHRcdHtcclxuXHRcdFx0XHR2bS5maWx0ZXJlZFRyYWNrcy5wdXNoKHRyYWNrKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYodm0uZmlsdGVyZWRUcmFja3MubGVuZ3RoID09PSAwKSBcclxuXHRcdHtcclxuXHRcdFx0dm0uc2hvd05vUmVzdWx0c0ZvdW5kID0gdHJ1ZTtcclxuXHRcdH1cclxuXHRcdGVsc2VcclxuXHRcdHtcclxuXHRcdFx0dm0uc2hvd05vUmVzdWx0c0ZvdW5kID0gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKmZ1bmN0aW9uIGFycmF5T2JqZWN0SW5kZXhPZihteUFycmF5LCBzZWFyY2hUZXJtLCBwcm9wZXJ0eSkge1xyXG4gICAgXHRcclxuICAgIFx0Zm9yKHZhciBpID0gMCwgbGVuID0gbXlBcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIFx0aWYgKG15QXJyYXlbaV1bcHJvcGVydHldID09PSBzZWFyY2hUZXJtKSByZXR1cm4gaTtcclxuICAgIFx0fVxyXG5cclxuICAgIFx0cmV0dXJuIC0xO1xyXG5cdH0qL1xyXG5cclxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdHZtLnNvbG9UcmFja0F1ZGlvIFx0XHQ9IFtdO1xyXG5cdFx0dm0uY3VycmVudEF1ZGlvVHJhY2tJZCBcdD0gXCJcIjtcclxuXHRcdHZtLnNob3dOb1Jlc3VsdHNGb3VuZCBcdD0gZmFsc2U7XHJcblxyXG5cdFx0aW5zdFN2Yy5nZXRJbnN0cnVtZW50cygpXHJcblx0XHRcdC50aGVuKGZ1bmN0aW9uKGRhdGEpXHJcblx0XHRcdHtcclxuXHRcdFx0XHR2bS5pbnN0cnVtZW50cyA9IGRhdGEuZGF0YTtcclxuXHRcdFx0fSwgZnVuY3Rpb24oZXJyb3IpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdGdldFNvbG9UcmFja3MoKTtcclxuXHRcdHZtLmZpbHRlckRhdGEgXHRcdFx0PSBmbHRTdmMuc29sb0ZpbHRlckRhdGE7XHJcblx0XHR2bS50cmFja0FycmF5IFx0XHRcdD0gYmFuZFN2Yy5nZXRUcmFja0FycmF5O1xyXG5cdFx0dm0uYmFuZFRyYWNrSWRBcnJheSBcdD0gYmFuZFN2Yy5nZXRUcmFja0lkQXJyYXk7XHJcblx0XHR2bS50cmFja0FycmF5Q291bnQgXHRcdD0gYmFuZFN2Yy5nZXRUcmFja0FycmF5Q291bnQ7XHRcclxuXHR9XHJcblxyXG5cdC8vVm0gZnVuY3Rpb25zXHJcblx0dm0uYWRkVG9CYW5kID0gZnVuY3Rpb24odHJhY2spIHtcclxuXHJcblx0XHRiYW5kU3ZjLmFkZFRvVHJhY2tBcnJheSh0cmFjayk7XHJcblx0XHQvKnZtLmJhbmRUcmFja0lkQXJyYXkgPSBbXTtcclxuXHJcblx0XHRiYW5kU3ZjLnRyYWNrQXJyYXkucHVzaCh0cmFjayk7XHJcblx0XHRiYW5kU3ZjLnRyYWNrQXJyYXlDb3VudCArKztcclxuXHRcdGFuZ3VsYXIuZm9yRWFjaChiYW5kU3ZjLnRyYWNrQXJyYXksIGZ1bmN0aW9uKHRyYWNrLCBrZXkpIHtcclxuXHRcdFx0dm0uYmFuZFRyYWNrSWRBcnJheS5wdXNoKHRyYWNrLmlkKTtcclxuXHRcdH0pOyovXHJcblxyXG5cdFx0Y29uc29sZS5sb2codHJhY2spO1xyXG5cdH1cclxuXHJcblx0dm0ucmVtb3ZlRnJvbUJhbmQgPSBmdW5jdGlvbih0cmFjaykge1xyXG5cdFx0XHJcblx0XHRiYW5kU3ZjLnJlbW92ZUZyb21UcmFja0FycmF5KHRyYWNrKTtcclxuXHRcdC8qaW5kZXggPSBhcnJheU9iamVjdEluZGV4T2YoYmFuZFN2Yy50cmFja0FycmF5LCB0cmFjay5pZCwgXCJpZFwiKTtcclxuXHRcdGlmIChpbmRleCA+IC0xKSB7XHJcblx0XHRcdGJhbmRTdmMudHJhY2tBcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHRiYW5kU3ZjLnRyYWNrQXJyYXlDb3VudCAtLTtcclxuXHRcdFx0dm0uYmFuZFRyYWNrQXJyYXkgPSBiYW5kU3ZjLnRyYWNrQXJyYXk7XHJcblxyXG5cdFx0XHRpbnRJbmRleCA9IHZtLmJhbmRUcmFja0lkQXJyYXkuaW5kZXhPZih0cmFjay5pZCk7XHJcblx0XHRcdGlmIChpbnRJbmRleCA+IC0xKSB7XHJcblx0XHRcdFx0dm0uYmFuZFRyYWNrSWRBcnJheS5zcGxpY2UoaW50SW5kZXgsIDEpO1xyXG5cdFx0XHR9XHJcblx0XHR9Ki9cclxuXHJcblx0XHRjb25zb2xlLmxvZyhcIlRyYWNrIHJlbW92ZWQgZnJvbSBuZXcgYmFuZDogXCIgKyB0cmFjayk7XHJcblx0XHQvL2NvbnNvbGUubG9nKGJhbmRTdmMudHJhY2tBcnJheSk7XHJcblx0fVxyXG5cclxuXHR2bS5wbGF5ID0gZnVuY3Rpb24odHJhY2tJZCkge1xyXG5cclxuXHRcdGlmKHZtLmN1cnJlbnRBdWRpb1RyYWNrSWQgIT0gXCJcIikge1xyXG5cdFx0XHR2bS5wYXVzZSh2bS5jdXJyZW50QXVkaW9UcmFja0lkKTtcclxuXHRcdH1cclxuXHJcblx0XHR2bS5jdXJyZW50QXVkaW9UcmFja0lkID0gdHJhY2tJZDtcclxuXHRcdHZtLnNvbG9UcmFja0F1ZGlvW3RyYWNrSWRdLnBsYXkoKTtcclxuXHR9XHJcblxyXG5cdHZtLnBhdXNlID0gZnVuY3Rpb24odHJhY2tJZCkge1xyXG5cdFx0dm0uc29sb1RyYWNrQXVkaW9bdHJhY2tJZF0ucGF1c2UoKTtcclxuXHRcdHZtLmN1cnJlbnRBdWRpb1RyYWNrSWQgPSBcIlwiO1xyXG5cdH1cclxuXHJcblx0Ly9XYXRjaGVzXHJcblx0JHNjb3BlLiR3YXRjaChcclxuXHRcdGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZtLmZpbHRlckRhdGEgfSwgXHJcblx0XHRmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmKHZtLmZpbHRlckRhdGEpIFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZmlsdGVyKCk7XHRcdFxyXG5cdFx0XHR9XHJcblx0XHR9LCB0cnVlKTtcclxuXHJcblx0X2luaXQoKTtcclxufSk7IiwiYXBwLmNvbnRyb2xsZXIoXCJ1cGxvYWRDb250cm9sbGVyXCIsIGZ1bmN0aW9uKFVwbG9hZCwgYXJ0aXN0U2VydmljZSwgaW5zdHJ1bWVudFNlcnZpY2UsIHNvbG9TZXJ2aWNlLCAkc3RhdGUpIHtcclxuICBcclxuICB2YXIgdm0gICAgICAgICAgICA9IHRoaXM7XHJcbiAgdmFyIHNvbG9TdmMgICAgICAgPSBzb2xvU2VydmljZTtcclxuICB2YXIgYXJ0aXN0U3ZjICAgICA9IGFydGlzdFNlcnZpY2U7XHJcbiAgdmFyIGluc3RydW1lbnRTdmMgPSBpbnN0cnVtZW50U2VydmljZTtcclxuICB2YXIgdGFyZ2V0ICAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGxvYWQtc3Bpbm5lcicpO1xyXG4gIFxyXG4gIHZhciBvcHRzID0ge1xyXG4gICAgICBsaW5lczogMTMgLy8gVGhlIG51bWJlciBvZiBsaW5lcyB0byBkcmF3XHJcbiAgICAsIGxlbmd0aDogMjggLy8gVGhlIGxlbmd0aCBvZiBlYWNoIGxpbmVcclxuICAgICwgd2lkdGg6IDEyIC8vIFRoZSBsaW5lIHRoaWNrbmVzc1xyXG4gICAgLCByYWRpdXM6IDQyIC8vIFRoZSByYWRpdXMgb2YgdGhlIGlubmVyIGNpcmNsZVxyXG4gICAgLCBzY2FsZTogMC4zMCAvLyBTY2FsZXMgb3ZlcmFsbCBzaXplIG9mIHRoZSBzcGlubmVyXHJcbiAgICAsIGNvcm5lcnM6IDEgLy8gQ29ybmVyIHJvdW5kbmVzcyAoMC4uMSlcclxuICAgICwgY29sb3I6ICcjMDAwJyAvLyAjcmdiIG9yICNycmdnYmIgb3IgYXJyYXkgb2YgY29sb3JzXHJcbiAgICAsIG9wYWNpdHk6IDAuMjUgLy8gT3BhY2l0eSBvZiB0aGUgbGluZXNcclxuICAgICwgcm90YXRlOiAwIC8vIFRoZSByb3RhdGlvbiBvZmZzZXRcclxuICAgICwgZGlyZWN0aW9uOiAxIC8vIDE6IGNsb2Nrd2lzZSwgLTE6IGNvdW50ZXJjbG9ja3dpc2VcclxuICAgICwgc3BlZWQ6IDEgLy8gUm91bmRzIHBlciBzZWNvbmRcclxuICAgICwgdHJhaWw6IDYwIC8vIEFmdGVyZ2xvdyBwZXJjZW50YWdlXHJcbiAgICAsIGZwczogMjAgLy8gRnJhbWVzIHBlciBzZWNvbmQgd2hlbiB1c2luZyBzZXRUaW1lb3V0KCkgYXMgYSBmYWxsYmFjayBmb3IgQ1NTXHJcbiAgICAsIHpJbmRleDogMmU5IC8vIFRoZSB6LWluZGV4IChkZWZhdWx0cyB0byAyMDAwMDAwMDAwKVxyXG4gICAgLCBjbGFzc05hbWU6ICdzcGlubmVyJyAvLyBUaGUgQ1NTIGNsYXNzIHRvIGFzc2lnbiB0byB0aGUgc3Bpbm5lclxyXG4gICAgLCB0b3A6ICc0MCUnIC8vIFRvcCBwb3NpdGlvbiByZWxhdGl2ZSB0byBwYXJlbnRcclxuICAgICwgbGVmdDogJzUwJScgLy8gTGVmdCBwb3NpdGlvbiByZWxhdGl2ZSB0byBwYXJlbnRcclxuICAgICwgc2hhZG93OiBmYWxzZSAvLyBXaGV0aGVyIHRvIHJlbmRlciBhIHNoYWRvd1xyXG4gICAgLCBod2FjY2VsOiBmYWxzZSAvLyBXaGV0aGVyIHRvIHVzZSBoYXJkd2FyZSBhY2NlbGVyYXRpb25cclxuICAgICwgcG9zaXRpb246ICdhYnNvbHV0ZScgLy8gRWxlbWVudCBwb3NpdGlvbmluZ1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gX2luaXQoKSB7XHJcbiAgICAgIHZtLnVwbG9hZGVkICAgICAgID0gZmFsc2U7XHJcbiAgICAgIHZtLnNob3dmb3JtICAgICAgID0gZmFsc2U7XHJcblxyXG4gICAgICB2bS5pbnN0cnVtZW50cyAgICA9IGluc3RydW1lbnRTdmMuZ2V0SW5zdHJ1bWVudHMoKVxyXG4gICAgICAudGhlbihmdW5jdGlvbihkYXRhKVxyXG4gICAgICB7XHJcbiAgICAgICAgdm0uaW5zdHJ1bWVudHMgID0gZGF0YS5kYXRhO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YSk7XHJcbiAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKVxyXG4gICAgICB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHZtLmFydGlzdHMgICAgICAgID0gYXJ0aXN0U3ZjLmdldEFydGlzdHMoKVxyXG4gICAgICAudGhlbihmdW5jdGlvbihkYXRhKVxyXG4gICAgICB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhKTtcclxuICAgICAgICB2bS5hcnRpc3RzICAgICAgPSBkYXRhLmRhdGE7XHJcbiAgICAgIFxyXG4gICAgICB9LCBmdW5jdGlvbihlcnJvcilcclxuICAgICAge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICB2bS51cGxvYWRGaWxlID0gZnVuY3Rpb24gKGZpbGUpIHtcclxuICAgICAgICB2YXIgc3Bpbm5lciA9IG5ldyBTcGlubmVyKG9wdHMpLnNwaW4odGFyZ2V0KTtcclxuICAgICAgICB2bS5sb2FkaW5nICA9IHRydWU7XHJcbiAgICAgICAgdm0udXBsb2FkZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBmb3JtXHJcbiAgICAgICAgdm0uc2hvd2Zvcm0gICAgID0gdHJ1ZTtcclxuICAgICAgICAkKCdzZWxlY3QnKS5tYXRlcmlhbF9zZWxlY3QoKTtcclxuXHJcbiAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgIHVybDogQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArIFwiL3VwbG9hZFwiLFxyXG4gICAgICAgICAgICBmaWxlRm9ybURhdGFOYW1lOiAnc29uZycsXHJcbiAgICAgICAgICAgIHNlbmRGaWVsZHNBczogJ2Zvcm0nLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgc29uZzogZmlsZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcCkge1xyXG4gICAgICAgICAgICB2bS5maWxlbmFtZSAgICAgPSByZXNwLmRhdGEubmFtZTtcclxuICAgICAgICAgICAgdm0udHJhY2tsZW5ndGggID0gcmVzcC5kYXRhLmxlbmd0aDtcclxuICAgICAgICAgICAgc3Bpbm5lci5zdG9wKCk7XHJcbiAgICAgICAgICAgIHZtLmxvYWRpbmcgICAgICA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2bS51cGxvYWRlZCAgICAgPSB0cnVlO1xyXG4gICAgICAgIH0sIFxyXG4gICAgICAgIGZ1bmN0aW9uIChyZXNwKSB7XHJcbiAgICAgICAgICAgIHZtLmxvYWRpbmcgID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHNwaW5uZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICB2bS51cGxvYWRmYWlsZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5zYXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgdXNlcl9pZCA9IEpTT04ucGFyc2UoZ2V0Q29va2llKCd1c2VyJykpLnVzZXJJZDtcclxuICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IHZtLnNvbmduYW1lLFxyXG4gICAgICAgICAgICBmaWxlX3VybDogdm0uZmlsZW5hbWUsXHJcbiAgICAgICAgICAgIHRyYWNrX2xlbmd0aDogdm0udHJhY2tsZW5ndGgsXHJcbiAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJfaWQsXHJcbiAgICAgICAgICAgIGluc3RydW1lbnRfaWQ6IHZtLmluc3RydW1lbnRzZHJvcGRvd24sXHJcbiAgICAgICAgICAgIGFydGlzdF9pZCA6IHZtLmFydGlzdG5hbWVcclxuICAgICAgICB9XHJcblxyXG4gICAgICBzb2xvU3ZjLmluc2VydFRyYWNrKGRhdGEpXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oXCJzb2xvXCIpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldENvb2tpZShjbmFtZSkge1xyXG4gICAgICAgICAgdmFyIG5hbWUgPSBjbmFtZSArIFwiPVwiO1xyXG4gICAgICAgICAgdmFyIGRlY29kZWRDb29raWUgPSBkZWNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQuY29va2llKTtcclxuICAgICAgICAgIHZhciBjYSA9IGRlY29kZWRDb29raWUuc3BsaXQoJzsnKTtcclxuICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPGNhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGMgPSBjYVtpXTtcclxuICAgICAgICAgICAgICB3aGlsZSAoYy5jaGFyQXQoMCkgPT0gJyAnKSB7XHJcbiAgICAgICAgICAgICAgICAgIGMgPSBjLnN1YnN0cmluZygxKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKGMuaW5kZXhPZihuYW1lKSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjLnN1YnN0cmluZyhuYW1lLmxlbmd0aCwgYy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICB9XHJcbiAgX2luaXQoKTtcclxufSk7IiwiYXBwLmZpbHRlcihcImJhbmRcIiwgZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIGZ1bmN0aW9uKHRyYWNrSWQsIGxpc3QpIHtcclxuXHRcdHZhciByZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG5cdFx0XHJcblx0XHRhbmd1bGFyLmZvckVhY2gobGlzdCwgZnVuY3Rpb24oaWQsIGluZGV4KSB7XHJcblx0XHRcdGlmKGlkID09IHRyYWNrSWQpIHtcclxuXHRcdFx0XHRyZXR1cm5WYWx1ZSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIHJldHVyblZhbHVlO1xyXG5cdH1cclxufSk7IiwiYXBwLnNlcnZpY2UoXCJhcnRpc3RTZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwKSB7XHJcblx0XHJcblx0Ly9HbG9iYWxzXHJcblx0dmFyIHN2YyBcdFx0XHQ9IHRoaXM7XHJcblxyXG5cdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRmdW5jdGlvbiBnZXREYXRhICh1cmwsIG9wdGlvbnMpIHtcclxuXHJcblx0XHQhb3B0aW9ucyA/IG9wdGlvbnMgPSB7fSA6IFwiXCI7XHJcblxyXG5cdFx0cmV0dXJuICRodHRwLmdldCh1cmwsIG9wdGlvbnMpXHJcblx0fVxyXG5cclxuXHQvL1N2YyBmdW5jdGlvbnNcclxuXHRzdmMuZ2V0QXJ0aXN0cyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHR2YXIgdXJsID0gQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArIFwiL2FydGlzdHNcIjtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIGdldERhdGEodXJsKTtcclxuXHR9XHJcbn0pIiwiYXBwLnNlcnZpY2UoXCJhdXRoU2VydmljZVwiLCBmdW5jdGlvbiAoJGF1dGgsICRyb290U2NvcGUsICRjb29raWVzLCAkc3RhdGUsIHVzZXJTZXJ2aWNlKSB7XHJcblx0XHJcblx0dmFyIHN2YyBcdFx0PSB0aGlzO1xyXG5cdHZhciB1c2VyU3ZjIFx0PSB1c2VyU2VydmljZTtcclxuXHJcblx0c3ZjLmlzTG9nZ2VkSW4gXHQ9IGZhbHNlO1xyXG5cclxuXHQvL1ByaXZhdGUgZnVuY3Rpb25zXHJcblx0ZnVuY3Rpb24gbG9naW4gKHRva2VuLCBpZCwgdXNlcm5hbWUsIGVtYWlsKSB7XHJcblxyXG5cdFx0dmFyIGV4cGlyYXRpb25UaW1lID0gbmV3IERhdGUoKTtcclxuXHRcdGV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWUuc2V0VGltZShleHBpcmF0aW9uVGltZS5nZXRUaW1lKCkgKyAodG9rZW5bXCJleHBpcmVzX2luXCJdICogMTAwMCkpO1xyXG5cdFx0ZXhwaXJhdGlvblRpbWUgPSBuZXcgRGF0ZShleHBpcmF0aW9uVGltZSk7XHJcblxyXG5cdFx0dmFyIHVzZXJEYXRhID0ge1xyXG5cclxuXHRcdFx0dG9rZW46IHRva2VuLFxyXG5cdFx0XHR1c2VySWQ6IGlkLFxyXG5cdFx0XHR1c2VybmFtZTogdXNlcm5hbWUsXHJcblx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0Ly9pc0FkbWluOiBkYXRhLmRhdGEuaXNBZG1pblxyXG5cdFx0fVxyXG5cclxuXHRcdC8vY29uc29sZS5sb2codXNlckRhdGEudG9rZW4pO1xyXG5cclxuXHRcdHN2Yy51c2VyID0gdXNlckRhdGE7XHJcblxyXG5cdFx0JGNvb2tpZXMucHV0T2JqZWN0KFwidXNlclwiLCB1c2VyRGF0YSwgeyBleHBpcmVzOiBleHBpcmF0aW9uVGltZSB9KTtcclxuXHRcdCRyb290U2NvcGUuaXNMb2dnZWRJbiA9IHRydWU7XHJcblx0XHRcclxuXHRcdC8vQ2hlY2sgaWYgcmV0dXJuZWQgdXNlciBpcyBBZG1pblxyXG5cdFx0dXNlckRhdGEuaXNBZG1pbiA9PSBcIjFcIiA/ICRyb290U2NvcGUuaXNBZG1pbiA9IHRydWUgOiAkcm9vdFNjb3BlLmlzQWRtaW4gPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8vU3ZjIGZ1bmN0aW9uc1xyXG5cdHN2Yy5sb2dpbiA9IGZ1bmN0aW9uIChjcmVkZW50aWFscykge1xyXG5cclxuXHRcdCRhdXRoLmxvZ2luKGNyZWRlbnRpYWxzKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICBcdC8vIEF1dGhlbnRpY2F0aW9uIHN1Y2Nlc3NcclxuICAgICAgICBcdHRva2VuIFx0XHQ9IGRhdGEuZGF0YS50b2tlbjtcclxuICAgICAgICBcdGlkIFx0XHRcdD0gMDtcclxuICAgICAgICBcdHVzZXJuYW1lIFx0PSBcIlwiO1xyXG4gICAgICAgIFx0ZW1haWwgXHRcdD0gXCJcIjtcclxuXHJcblx0XHRcdHVzZXJTdmMuZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuXHRcdFx0XHRpZCBcdFx0XHQ9IGRhdGEuZGF0YS5pZDtcclxuXHRcdFx0XHR1c2VybmFtZSBcdD0gZGF0YS5kYXRhLnVzZXJuYW1lO1xyXG5cdFx0XHRcdGVtYWlsIFx0XHQ9IGRhdGEuZGF0YS5lbWFpbDtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRsb2dpbih0b2tlbiwgaWQsIHVzZXJuYW1lLCBlbWFpbCk7XHJcblx0XHRcdFx0c3ZjLmlzTG9nZ2VkSW4gPSB0cnVlO1xyXG5cdFx0XHR9LCBmdW5jdGlvbihlcnJvcikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcclxuXHRcdFx0XHRzdmMuaXNMb2dnZWRJbiA9IGZhbHNlO1xyXG5cdFx0XHR9KTtcclxuICAgICAgICB9LCBcclxuICAgICAgICBmdW5jdGlvbihlcnJvcil7XHJcbiAgICAgICAgXHQvLyBBdXRoZW50aWNhdGlvbiBmYWlsZWRcclxuICAgICAgICBcdGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICBcdHN2Yy5pc0xvZ2dlZEluID0gZmFsc2U7IFxyXG4gICAgICAgIH0pO1xyXG5cdH1cclxuXHJcblx0c3ZjLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdCRhdXRoLmxvZ291dCgpXHJcblx0XHRcdC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG5cdFx0XHRcdCRyb290U2NvcGUuaXNMb2dnZWRJbiA9IGZhbHNlO1xyXG5cdFx0XHRcdCRyb290U2NvcGUuaXNBZG1pbiA9IGZhbHNlO1xyXG5cdFx0XHRcdHN2Yy51c2VyID0gbnVsbDtcclxuXHRcdFx0XHRzdmMuaXNMb2dnZWRJbiA9IG51bGw7XHJcblxyXG5cdFx0XHRcdCRjb29raWVzLnJlbW92ZShcInVzZXJcIik7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0JHN0YXRlLmdvKFwiaG9tZVwiKTtcclxuXHRcdFx0fSwgZnVuY3Rpb24gKGVycm9yKSB7XHJcblxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcclxuXHRcdFx0fSlcclxuXHR9XHJcblxyXG5cdHN2Yy5yZWdpc3RlciA9IGZ1bmN0aW9uICh1c2VyKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi91c2VyXCI7XHJcblxyXG5cdFx0cmV0dXJuICRodHRwLnBvc3QodXJsLCB1c2VyKTtcclxuXHR9XHJcbn0pOyIsImFwcC5zZXJ2aWNlKFwiYmFuZFNlcnZpY2VcIiwgZnVuY3Rpb24oKSB7XHJcblx0XHJcblx0dmFyIHN2YyA9IHRoaXM7XHJcblxyXG5cdHRyYWNrQXJyYXkgPSBbXTtcclxuXHR0cmFja0lkQXJyYXkgPSBbXTtcclxuXHR0cmFja0FycmF5Q291bnQgPSAwO1xyXG5cclxuXHQvL1ByaXZhdGUgZnVuY3Rpb25zXHJcblx0ZnVuY3Rpb24gYXJyYXlPYmplY3RJbmRleE9mKG15QXJyYXksIHNlYXJjaFRlcm0sIHByb3BlcnR5KSB7XHJcbiAgICBcdFxyXG4gICAgXHRmb3IodmFyIGkgPSAwLCBsZW4gPSBteUFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgXHRpZiAobXlBcnJheVtpXVtwcm9wZXJ0eV0gPT09IHNlYXJjaFRlcm0pIHJldHVybiBpO1xyXG4gICAgXHR9XHJcblxyXG4gICAgXHRyZXR1cm4gLTE7XHJcblx0fVxyXG5cdC8vVHJhY2tBcnJheUNvdW50XHJcblx0ZnVuY3Rpb24gaW5jcmVtZW50VHJhY2tBcnJheUNvdW50KCkge1xyXG5cdFx0dHJhY2tBcnJheUNvdW50ICsrO1xyXG5cdFx0cmV0dXJuIHRyYWNrQXJyYXlDb3VudDtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGRlY3JlbWVudFRyYWNrQXJyYXlDb3VudCgpIHtcclxuXHRcdHRyYWNrQXJyYXlDb3VudCAtLTtcclxuXHRcdHJldHVybiB0cmFja0FycmF5Q291bnQ7XHJcblx0fVxyXG5cclxuXHQvL1RyYWNrSWRBcnJheVxyXG5cdGZ1bmN0aW9uIGFkZFRvVHJhY2tJZEFycmF5KHRyYWNrSWQpIHtcclxuXHRcdHRyYWNrSWRBcnJheS5wdXNoKHRyYWNrSWQpO1xyXG5cdFx0cmV0dXJuIHRyYWNrSWRBcnJheTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHJlbW92ZUZyb21UcmFja0lkQXJyYXkodHJhY2tJZCkge1xyXG5cdFx0aW5kZXggPSB0cmFja0lkQXJyYXkuaW5kZXhPZih0cmFja0lkKTtcclxuXHRcdGlmKGluZGV4ID4gLTEpIHtcclxuXHRcdFx0dHJhY2tJZEFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRyYWNrSWRBcnJheTtcclxuXHR9XHJcblxyXG5cdC8vU3ZjIGZ1bmN0aW9uc1xyXG5cdHN2Yy5nZXRUcmFja0FycmF5Q291bnQgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiB0cmFja0FycmF5Q291bnQ7XHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0VHJhY2tJZEFycmF5ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdHJhY2tJZEFycmF5O1xyXG5cdH1cclxuXHJcblxyXG5cdHN2Yy5hZGRUb1RyYWNrQXJyYXkgPSBmdW5jdGlvbih0cmFjaykge1xyXG5cdFx0dHJhY2tBcnJheS5wdXNoKHRyYWNrKTtcclxuXHRcdGluY3JlbWVudFRyYWNrQXJyYXlDb3VudCgpO1xyXG5cdFx0YWRkVG9UcmFja0lkQXJyYXkodHJhY2suaWQpO1xyXG5cdFx0cmV0dXJuIHRyYWNrQXJyYXk7XHJcblx0fVxyXG5cclxuXHRzdmMucmVtb3ZlRnJvbVRyYWNrQXJyYXkgPSBmdW5jdGlvbih0cmFjaykge1xyXG5cdFx0aW5kZXggPSBhcnJheU9iamVjdEluZGV4T2YodHJhY2tBcnJheSwgdHJhY2suaWQsIFwiaWRcIik7XHJcblx0XHRpZihpbmRleCA+IC0xKSB7XHJcblx0XHRcdHRyYWNrQXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZGVjcmVtZW50VHJhY2tBcnJheUNvdW50KCk7XHJcblx0XHRyZW1vdmVGcm9tVHJhY2tJZEFycmF5KHRyYWNrLmlkKTtcclxuXHRcdHJldHVybiB0cmFja0FycmF5O1xyXG5cdH1cclxuXHJcblx0c3ZjLmdldFRyYWNrQXJyYXkgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiB0cmFja0FycmF5O1xyXG5cdH1cclxuXHJcblx0XHJcblxyXG5cclxuXHJcblxyXG5cdHN2Yy50ZXN0RnVuY3Rpb24gPSBmdW5jdGlvbigpIHtcclxuXHRcdGFsZXJ0KFwiVGVzdCBmdW5jdGlvbiBjYWxsZWQgZnJvbSBpbnNpZGUgc2VydmljZSFcIik7XHJcblx0fVxyXG59KSIsImFwcC5zZXJ2aWNlKFwiZmlsdGVyU2VydmljZVwiLCBmdW5jdGlvbihpbnN0cnVtZW50U2VydmljZSkge1xyXG5cdFxyXG5cdHZhciBzdmMgPSB0aGlzO1xyXG5cdHZhciBpbnN0U3ZjID0gaW5zdHJ1bWVudFNlcnZpY2U7XHJcblxyXG5cclxuXHRzdmMuY3JlYXRlU29sb0ZpbHRlckRhdGEgPSBmdW5jdGlvbigpXHJcblx0e1xyXG5cdFx0c3ZjLnNvbG9GaWx0ZXJEYXRhID0ge1x0XCJhcnRpc3RcIjogXCJcIixcclxuXHRcdFx0XHRcdFx0XHRcdFwidGl0bGVcIjogXCJcIixcclxuXHRcdFx0XHRcdFx0XHRcdH07XHJcblxyXG5cdFx0YW5ndWxhci5mb3JFYWNoKGluc3RTdmMuaW5zdHJ1bWVudHMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpXHJcblx0XHR7XHJcblx0XHRcdHN2Yy5zb2xvRmlsdGVyRGF0YVt2YWx1ZS5pZF0gPSB0cnVlO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRzdmMuY3JlYXRlTWVyZ2VkRmlsdGVyRGF0YSA9IGZ1bmN0aW9uKClcclxuXHR7XHJcblx0XHRzdmMubWVyZ2VkRmlsdGVyRGF0YSA9IHtcdFwiYXJ0aXN0XCI6IFwiXCIsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFwidGl0bGVcIjogXCJcIixcclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIF9pbml0KCkge1xyXG5cdFx0c3ZjLmNyZWF0ZVNvbG9GaWx0ZXJEYXRhKCk7XHJcblx0XHRzdmMuY3JlYXRlTWVyZ2VkRmlsdGVyRGF0YSgpO1xyXG5cdH1cclxuXHJcblx0X2luaXQoKTtcclxufSkiLCJhcHAuc2VydmljZShcImluc3RydW1lbnRTZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwKSB7XHJcblx0XHJcblx0Ly9HbG9iYWxzXHJcblx0dmFyIHN2YyA9IHRoaXM7XHJcblxyXG5cdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRmdW5jdGlvbiBnZXREYXRhICh1cmwsIG9wdGlvbnMpIHtcclxuXHJcblx0XHQhb3B0aW9ucyA/IG9wdGlvbnMgPSB7fSA6IFwiXCI7XHJcblxyXG5cdFx0cmV0dXJuICRodHRwLmdldCh1cmwsIG9wdGlvbnMpXHJcblx0fVxyXG5cclxuXHQvL1N2YyBmdW5jdGlvbnNcclxuXHRzdmMuZ2V0SW5zdHJ1bWVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi9pbnN0cnVtZW50c1wiO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gZ2V0RGF0YSh1cmwpO1xyXG5cdH1cclxuXHJcblx0Ly8gSW5pdGlhbCB2YWx1ZXMgKHdpbGwgYmUgb3ZlcndyaXR0ZSBieSBkYiB2YWx1ZXMpXHJcblx0c3ZjLmluc3RydW1lbnRzID0gW3tcclxuIFx0XHRcdFx0XHRcdFx0XCJuYW1lXCI6XCJMZWFkLWd1aXRhclwiLFxyXG4gXHRcdFx0XHRcdFx0XHRcImlkXCI6MVxyXG4gXHRcdFx0XHRcdFx0fSxcclxuIFx0XHRcdFx0XHRcdHtcclxuIFx0XHRcdFx0XHRcdFx0XCJuYW1lXCI6XCJSeXRobS1ndWl0YXJcIixcclxuIFx0XHRcdFx0XHRcdFx0XCJpZFwiOjJcclxuIFx0XHRcdFx0XHRcdH0sXHJcbiBcdFx0XHRcdFx0XHR7XHJcbiBcdFx0XHRcdFx0XHRcdFwibmFtZVwiOlwiRHJ1bVwiLFxyXG4gXHRcdFx0XHRcdFx0XHRcImlkXCI6M1xyXG4gXHRcdFx0XHRcdFx0fSxcclxuIFx0XHRcdFx0XHRcdHtcclxuIFx0XHRcdFx0XHRcdFx0XCJuYW1lXCI6XCJCYXNzXCIsXHJcblx0XHRcdFx0XHRcdFx0XCJpZFwiOjRcclxuIFx0XHRcdFx0XHRcdH0sXHJcbiBcdFx0XHRcdFx0XHR7XHJcbiBcdFx0XHRcdFx0XHRcdFwibmFtZVwiOlwiQmFzc1wiLFxyXG5cdFx0XHRcdFx0XHRcdFwiaWRcIjo1XHJcbiBcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XCJuYW1lXCI6XCJLZXlzXCIsXHJcbiBcdFx0XHRcdFx0XHRcdFwiaWRcIjo2XHJcbiBcdFx0XHRcdFx0XHR9XTtcclxufSkiLCJhcHAuc2VydmljZShcIm1lcmdlZFNlcnZpY2VcIiwgZnVuY3Rpb24oJGh0dHApIHtcclxuXHRcclxuXHQvL0dsb2JhbHNcclxuXHR2YXIgc3ZjID0gdGhpcztcclxuXHJcblx0Ly9Qcml2YXRlIGZ1bmN0aW9uc1xyXG5cdGZ1bmN0aW9uIGdldERhdGEgKHVybCwgb3B0aW9ucykge1xyXG5cclxuXHRcdCFvcHRpb25zID8gb3B0aW9ucyA9IHt9IDogXCJcIjtcclxuXHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KHVybCwgb3B0aW9ucylcclxuXHR9XHJcblxyXG5cdC8vU3ZjIGZ1bmN0aW9uc1xyXG5cdHN2Yy5nZXRUcmFja3MgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi9tZXJnZWR0cmFja3NcIjtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIGdldERhdGEodXJsKTtcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRUcmFja0J5SWQgPSBmdW5jdGlvbiAoaWQpIHtcclxuXHJcblx0XHR2YXIgdXJsID0gQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArIFwiL21lcmdlZHRyYWNrcy9cIiArIGlkO1xyXG5cclxuXHRcdHJldHVybiBnZXREYXRhKHVybCk7XHJcblx0fVxyXG5cclxuXHRzdmMubWVyZ2VUcmFja3MgPSBmdW5jdGlvbihkYXRhKVxyXG5cdHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi9tZXJnZWR0cmFja3MvY3JlYXRlXCIsIGRhdGEpO1xyXG5cdH1cclxuXHJcblx0c3ZjLmluc2VydFZvdGUgPSBmdW5jdGlvbihkYXRhKVxyXG5cdHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi92b3RlL2NyZWF0ZVwiLCBkYXRhKTtcclxuXHR9XHJcblxyXG5cdHN2Yy5kb3dubG9hZCA9IGZ1bmN0aW9uIChpZCkge1xyXG5cclxuXHRcdHZhciB1cmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvbWVyZ2VkdHJhY2tzL1wiICsgaWQgKyBcIi9kb3dubG9hZFwiO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gZ2V0RGF0YSh1cmwpO1xyXG5cdH1cclxuXHJcblx0c3ZjLmdldFVzZXJWb3RlcyA9IGZ1bmN0aW9uKHVzZXJfaWQpIHtcclxuXHRcdHZhciB1cmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvdm90ZXMvXCIgKyB1c2VyX2lkO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gZ2V0RGF0YSh1cmwpO1xyXG5cdH1cclxufSkiLCJhcHAuc2VydmljZShcInNvbG9TZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwKSB7XHJcblx0XHJcblx0Ly9HbG9iYWxzXHJcblx0dmFyIHN2YyA9IHRoaXM7XHJcblxyXG5cdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRmdW5jdGlvbiBnZXREYXRhICh1cmwsIG9wdGlvbnMpIHtcclxuXHJcblx0XHQhb3B0aW9ucyA/IG9wdGlvbnMgPSB7fSA6IFwiXCI7XHJcblxyXG5cdFx0cmV0dXJuICRodHRwLmdldCh1cmwsIG9wdGlvbnMpXHJcblx0fVxyXG5cclxuXHQvL1N2YyBmdW5jdGlvbnNcclxuXHRzdmMuZ2V0VHJhY2tzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdHZhciB1cmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvdHJhY2tzXCI7XHJcblx0XHRcclxuXHRcdHJldHVybiBnZXREYXRhKHVybCk7XHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0VHJhY2tCeUlkID0gZnVuY3Rpb24gKGlkKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi90cmFja3MvXCIgKyBpZDtcclxuXHJcblx0XHRyZXR1cm4gZ2V0RGF0YSh1cmwpO1xyXG5cdH1cclxuXHJcblx0c3ZjLmluc2VydFRyYWNrID0gZnVuY3Rpb24oZGF0YSlcclxuXHR7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdChDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvdHJhY2tzL2NyZWF0ZVwiLCBkYXRhKTtcclxuXHR9XHJcbn0pIiwiYXBwLnNlcnZpY2UoXCJ1c2VyU2VydmljZVwiLCBmdW5jdGlvbigkaHR0cCkge1x0XHJcblx0XHJcblx0dmFyIHN2YyA9IHRoaXM7XHJcblxyXG5cdHN2Yy5nZXRVc2VyID0gZnVuY3Rpb24oKVxyXG5cdHtcclxuXHRcdHJldHVybiAkaHR0cC5nZXQoQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArIFwiL3VzZXJcIik7XHJcblx0fVxyXG5cclxuXHRzdmMudXBkYXRlVXNlciA9IGZ1bmN0aW9uKGRhdGEpXHJcblx0e1xyXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArIFwiL3VzZXJcIiwgZGF0YSk7XHJcblx0fVxyXG59KSIsImFwcC5kaXJlY3RpdmUoXCJkY2JCYW5kXCIsIGZ1bmN0aW9uKGJhbmRTZXJ2aWNlKSB7XHJcblx0cmV0dXJuIHtcclxuXHRcdHJlc3RyaWN0OiBcIkVcIixcclxuXHRcdHRlbXBsYXRlVXJsOiBcImFwcC9kaXJlY3RpdmVzL2RjYi1iYW5kL2RjYi1iYW5kLmh0bWxcIixcclxuXHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRzY29wZToge30sXHJcblx0XHRjb250cm9sbGVyQXM6IFwiYmFuZFwiLFxyXG5cdFx0Y29udHJvbGxlcjogZnVuY3Rpb24oJGF1dGgsICRzY29wZSwgJHJvb3RTY29wZSkge1xyXG5cdFx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0XHR2YXIgYmFuZFN2YyA9IGJhbmRTZXJ2aWNlO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gX2luaXQoKSB7XHJcblx0XHRcdFx0dm0udHJhY2tBcnJheSBcdFx0XHQ9IGJhbmRTdmMuZ2V0VHJhY2tBcnJheTtcclxuXHRcdFx0XHR2bS5iYW5kVHJhY2tJZEFycmF5IFx0PSBiYW5kU3ZjLmdldFRyYWNrSWRBcnJheTtcclxuXHRcdFx0XHR2bS50cmFja0FycmF5Q291bnQgXHRcdD0gYmFuZFN2Yy5nZXRUcmFja0FycmF5Q291bnQ7XHJcblxyXG5cdFx0XHRcdC8vY29uc29sZS5sb2codm0udHJhY2tBcnJheUNvdW50KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dm0ucmVtb3ZlRnJvbUJhbmQgPSBmdW5jdGlvbih0cmFjaykge1xyXG5cdFx0XHJcblx0XHRcdFx0YmFuZFN2Yy5yZW1vdmVGcm9tVHJhY2tBcnJheSh0cmFjayk7XHJcblxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiVHJhY2sgcmVtb3ZlZCBmcm9tIG5ldyBiYW5kOiBcIiArIHRyYWNrKTtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKGJhbmRTdmMudHJhY2tBcnJheSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdF9pbml0KCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSIsImFwcC5kaXJlY3RpdmUoXCJkY2JIZWFkZXJcIiwgZnVuY3Rpb24oYmFuZFNlcnZpY2UpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0cmVzdHJpY3Q6IFwiRVwiLFxyXG5cdFx0dGVtcGxhdGVVcmw6IFwiYXBwL2RpcmVjdGl2ZXMvZGNiLWhlYWRlci9kY2ItaGVhZGVyLmh0bWxcIixcclxuXHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRzY29wZToge30sXHJcblx0XHRjb250cm9sbGVyQXM6IFwiaGVhZFwiLFxyXG5cdFx0Y29udHJvbGxlcjogZnVuY3Rpb24oJHNjb3BlLCB1c2VyU2VydmljZSwgYXV0aFNlcnZpY2UsICRhdXRoLCAkcm9vdFNjb3BlKSB7XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgdm0gXHRcdFx0PSB0aGlzO1xyXG5cdFx0XHR2YXIgdXNlclN2YyBcdD0gdXNlclNlcnZpY2U7XHJcblx0XHRcdHZhciBhdXRoU3ZjIFx0PSBhdXRoU2VydmljZTtcclxuXHRcdFx0dmFyIGJhbmRTdmMgXHQ9IGJhbmRTZXJ2aWNlO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gX2luaXQoKSB7XHJcblx0XHRcdFx0dm0udHJhY2tBcnJheSA9IGJhbmRTdmMuZ2V0VHJhY2tBcnJheTtcclxuXHRcdFx0XHR2bS50cmFja0FycmF5Q291bnQgPSBiYW5kU3ZjLmdldFRyYWNrQXJyYXlDb3VudDtcclxuXHJcblx0XHRcdFx0aWYoJGF1dGguaXNBdXRoZW50aWNhdGVkKCkpXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0dXNlclN2Yy5nZXRVc2VyKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLnVzZXJuYW1lID0gZGF0YS5kYXRhLnVzZXJuYW1lO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2bS5zaG93TG9naW4gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JCgnI2xvZ2luX21vZGFsJykubW9kYWwoKTtcclxuXHRcdFx0XHQkKCcjbG9naW5fbW9kYWwnKS5tb2RhbCgnb3BlbicpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2bS5sb2dvdXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0YXV0aFN2Yy5sb2dvdXQoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dm0uc2hvd1JlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCQoJyNyZWdpc3Rlcl9tb2RhbCcpLm1vZGFsKCk7XHJcblx0XHRcdFx0JCgnI3JlZ2lzdGVyX21vZGFsJykubW9kYWwoJ29wZW4nKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dm0uc2hvd0JhbmQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JCgnI2JhbmRfbW9kYWwnKS5tb2RhbCgpO1xyXG5cdFx0XHRcdCQoJyNiYW5kX21vZGFsJykubW9kYWwoJ29wZW4nKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dm0uaXNBdXRoZW50aWNhdGVkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuICRhdXRoLmlzQXV0aGVudGljYXRlZCgpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0X2luaXQoKTtcclxuXHJcblx0XHRcdC8vV2F0Y2hlc1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKFxyXG5cdFx0XHRcdGZ1bmN0aW9uICgpIHsgcmV0dXJuIGF1dGhTdmMudXNlciB9LCBcclxuXHRcdFx0XHRmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRcdFx0dm0udXNlciA9IGF1dGhTdmMudXNlcjtcclxuXHRcdFx0XHRcdC8vY29uc29sZS5sb2codm0udXNlcik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSIsImFwcC5kaXJlY3RpdmUoXCJkY2JNZXJnZXByb2Nlc3NpbmdcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlc3RyaWN0OiBcIkVcIixcclxuICAgICAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZGlyZWN0aXZlcy9kY2ItbWVyZ2Vwcm9jZXNzaW5nL2RjYi1tZXJnZXByb2Nlc3NpbmcuaHRtbFwiLFxyXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICAgICAgc2NvcGU6IHt9LFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogXCJwcm9jZXNzaW5nXCIsXHJcbiAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oJGludGVydmFsKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciB2bSAgICAgICAgICA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9jZXNzaW5nLXNwaW5uZXInKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBvcHRzID0ge1xyXG4gICAgICAgICAgICAgICAgbGluZXM6IDEzIC8vIFRoZSBudW1iZXIgb2YgbGluZXMgdG8gZHJhd1xyXG4gICAgICAgICAgICAgICAgLCBsZW5ndGg6IDI4IC8vIFRoZSBsZW5ndGggb2YgZWFjaCBsaW5lXHJcbiAgICAgICAgICAgICAgICAsIHdpZHRoOiAxNCAvLyBUaGUgbGluZSB0aGlja25lc3NcclxuICAgICAgICAgICAgICAgICwgcmFkaXVzOiA0MiAvLyBUaGUgcmFkaXVzIG9mIHRoZSBpbm5lciBjaXJjbGVcclxuICAgICAgICAgICAgICAgICwgc2NhbGU6IDAuNCAvLyBTY2FsZXMgb3ZlcmFsbCBzaXplIG9mIHRoZSBzcGlubmVyXHJcbiAgICAgICAgICAgICAgICAsIGNvcm5lcnM6IDEgLy8gQ29ybmVyIHJvdW5kbmVzcyAoMC4uMSlcclxuICAgICAgICAgICAgICAgICwgY29sb3I6ICcjMDAwJyAvLyAjcmdiIG9yICNycmdnYmIgb3IgYXJyYXkgb2YgY29sb3JzXHJcbiAgICAgICAgICAgICAgICAsIG9wYWNpdHk6IDAuMjUgLy8gT3BhY2l0eSBvZiB0aGUgbGluZXNcclxuICAgICAgICAgICAgICAgICwgcm90YXRlOiAwIC8vIFRoZSByb3RhdGlvbiBvZmZzZXRcclxuICAgICAgICAgICAgICAgICwgZGlyZWN0aW9uOiAxIC8vIDE6IGNsb2Nrd2lzZSwgLTE6IGNvdW50ZXJjbG9ja3dpc2VcclxuICAgICAgICAgICAgICAgICwgc3BlZWQ6IDEgLy8gUm91bmRzIHBlciBzZWNvbmRcclxuICAgICAgICAgICAgICAgICwgdHJhaWw6IDYwIC8vIEFmdGVyZ2xvdyBwZXJjZW50YWdlXHJcbiAgICAgICAgICAgICAgICAsIGZwczogMjAgLy8gRnJhbWVzIHBlciBzZWNvbmQgd2hlbiB1c2luZyBzZXRUaW1lb3V0KCkgYXMgYSBmYWxsYmFjayBmb3IgQ1NTXHJcbiAgICAgICAgICAgICAgICAsIHpJbmRleDogMmU5IC8vIFRoZSB6LWluZGV4IChkZWZhdWx0cyB0byAyMDAwMDAwMDAwKVxyXG4gICAgICAgICAgICAgICAgLCBjbGFzc05hbWU6ICdzcGlubmVyJyAvLyBUaGUgQ1NTIGNsYXNzIHRvIGFzc2lnbiB0byB0aGUgc3Bpbm5lclxyXG4gICAgICAgICAgICAgICAgLCB0b3A6ICc0MCUnIC8vIFRvcCBwb3NpdGlvbiByZWxhdGl2ZSB0byBwYXJlbnRcclxuICAgICAgICAgICAgICAgICwgbGVmdDogJzUwJScgLy8gTGVmdCBwb3NpdGlvbiByZWxhdGl2ZSB0byBwYXJlbnRcclxuICAgICAgICAgICAgICAgICwgc2hhZG93OiBmYWxzZSAvLyBXaGV0aGVyIHRvIHJlbmRlciBhIHNoYWRvd1xyXG4gICAgICAgICAgICAgICAgLCBod2FjY2VsOiBmYWxzZSAvLyBXaGV0aGVyIHRvIHVzZSBoYXJkd2FyZSBhY2NlbGVyYXRpb25cclxuICAgICAgICAgICAgICAgICwgcG9zaXRpb246ICdhYnNvbHV0ZScgLy8gRWxlbWVudCBwb3NpdGlvbmluZ1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgdGV4dEFycmF5ICAgICAgID0gW1xyXG4gICAgICAgICAgICAgICAgXCJUdW5pbmcgaW5zdHJ1bWVudHMuLi5cIiwgXHJcbiAgICAgICAgICAgICAgICBcIkFkanVzdGluZyBhbXAgc2V0dGluZ3MuLi5cIiwgXHJcbiAgICAgICAgICAgICAgICBcIlNvdW5kY2hlY2tpbmcuLi5cIiwgXHJcbiAgICAgICAgICAgICAgICBcIlJlY29yZGluZy4uLlwiLCBcclxuICAgICAgICAgICAgICAgIFwiTWl4aW5nIHNvdW5kLi4uXCIsIFxyXG4gICAgICAgICAgICAgICAgXCJGaW5pc2hpbmcgdXAuLi5cIlxyXG4gICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgICAgdmFyIHNwaW5uZXIgICAgICAgICA9IG5ldyBTcGlubmVyKG9wdHMpLnNwaW4odGFyZ2V0KTtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRJbmRleCAgICA9IDA7XHJcblxyXG4gICAgICAgICAgICAkaW50ZXJ2YWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZigkKCcjcHJvY2Vzc2luZ19tb2RhbCcpLmlzKFwiOnZpc2libGVcIikpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdm0udGV4dCA9IHRleHRBcnJheVtjdXJyZW50SW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJbmRleCsrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50SW5kZXggPj0gdGV4dEFycmF5Lmxlbmd0aCAtIDEpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50SW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgNDAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSIsImFwcC5kaXJlY3RpdmUoXCJkY2JMb2dpblwiLCBmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0cmVzdHJpY3Q6IFwiRVwiLFxyXG5cdFx0dGVtcGxhdGVVcmw6IFwiYXBwL2RpcmVjdGl2ZXMvZGNiLWxvZ2luL2RjYi1sb2dpbi5odG1sXCIsXHJcblx0XHRyZXBsYWNlOiB0cnVlLFxyXG5cdFx0c2NvcGU6IHt9LFxyXG5cdFx0Y29udHJvbGxlckFzOiBcImxvZ2luXCIsXHJcblx0XHRjb250cm9sbGVyOiBmdW5jdGlvbigkYXV0aCwgJHNjb3BlLCAkcm9vdFNjb3BlLCB1c2VyU2VydmljZSwgYXV0aFNlcnZpY2UsICRjb29raWVzKSB7XHJcblx0XHRcdHZhciB2bSBcdFx0XHQ9IHRoaXM7XHJcblx0XHRcdHZhciB1c2VyU3ZjIFx0PSB1c2VyU2VydmljZTtcclxuXHRcdFx0dmFyIGF1dGhTdmMgXHQ9IGF1dGhTZXJ2aWNlO1xyXG5cdFx0XHR2YXIgdGFyZ2V0IFx0XHQ9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbi1zcGlubmVyJyk7XHJcblxyXG5cdFx0XHR2YXIgb3B0cyA9IHtcclxuXHQgIFx0XHRcdGxpbmVzOiAxMyAvLyBUaGUgbnVtYmVyIG9mIGxpbmVzIHRvIGRyYXdcclxuXHRcdFx0XHQsIGxlbmd0aDogMjggLy8gVGhlIGxlbmd0aCBvZiBlYWNoIGxpbmVcclxuXHRcdFx0XHQsIHdpZHRoOiAxNCAvLyBUaGUgbGluZSB0aGlja25lc3NcclxuXHRcdFx0XHQsIHJhZGl1czogNDIgLy8gVGhlIHJhZGl1cyBvZiB0aGUgaW5uZXIgY2lyY2xlXHJcblx0XHRcdFx0LCBzY2FsZTogMC40IC8vIFNjYWxlcyBvdmVyYWxsIHNpemUgb2YgdGhlIHNwaW5uZXJcclxuXHRcdFx0XHQsIGNvcm5lcnM6IDEgLy8gQ29ybmVyIHJvdW5kbmVzcyAoMC4uMSlcclxuXHRcdFx0XHQsIGNvbG9yOiAnIzAwMCcgLy8gI3JnYiBvciAjcnJnZ2JiIG9yIGFycmF5IG9mIGNvbG9yc1xyXG5cdFx0XHRcdCwgb3BhY2l0eTogMC4yNSAvLyBPcGFjaXR5IG9mIHRoZSBsaW5lc1xyXG5cdFx0XHRcdCwgcm90YXRlOiAwIC8vIFRoZSByb3RhdGlvbiBvZmZzZXRcclxuXHRcdFx0XHQsIGRpcmVjdGlvbjogMSAvLyAxOiBjbG9ja3dpc2UsIC0xOiBjb3VudGVyY2xvY2t3aXNlXHJcblx0XHRcdFx0LCBzcGVlZDogMSAvLyBSb3VuZHMgcGVyIHNlY29uZFxyXG5cdFx0XHRcdCwgdHJhaWw6IDYwIC8vIEFmdGVyZ2xvdyBwZXJjZW50YWdlXHJcblx0XHRcdFx0LCBmcHM6IDIwIC8vIEZyYW1lcyBwZXIgc2Vjb25kIHdoZW4gdXNpbmcgc2V0VGltZW91dCgpIGFzIGEgZmFsbGJhY2sgZm9yIENTU1xyXG5cdFx0XHRcdCwgekluZGV4OiAyZTkgLy8gVGhlIHotaW5kZXggKGRlZmF1bHRzIHRvIDIwMDAwMDAwMDApXHJcblx0XHRcdFx0LCBjbGFzc05hbWU6ICdzcGlubmVyJyAvLyBUaGUgQ1NTIGNsYXNzIHRvIGFzc2lnbiB0byB0aGUgc3Bpbm5lclxyXG5cdFx0XHRcdCwgdG9wOiAnNjAlJyAvLyBUb3AgcG9zaXRpb24gcmVsYXRpdmUgdG8gcGFyZW50XHJcblx0XHRcdFx0LCBsZWZ0OiAnNTAlJyAvLyBMZWZ0IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG5cdFx0XHRcdCwgc2hhZG93OiBmYWxzZSAvLyBXaGV0aGVyIHRvIHJlbmRlciBhIHNoYWRvd1xyXG5cdFx0XHRcdCwgaHdhY2NlbDogZmFsc2UgLy8gV2hldGhlciB0byB1c2UgaGFyZHdhcmUgYWNjZWxlcmF0aW9uXHJcblx0XHRcdFx0LCBwb3NpdGlvbjogJ2Fic29sdXRlJyAvLyBFbGVtZW50IHBvc2l0aW9uaW5nXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRcdFx0ZnVuY3Rpb24gbG9naW4gKHRva2VuLCBpZCwgdXNlcm5hbWUsIGVtYWlsKSB7XHJcblxyXG5cdFx0XHRcdHZhciBleHBpcmF0aW9uVGltZSA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdFx0ZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZS5zZXRUaW1lKGV4cGlyYXRpb25UaW1lLmdldFRpbWUoKSArICh0b2tlbltcImV4cGlyZXNfaW5cIl0gKiAxMDAwKSk7XHJcblx0XHRcdFx0ZXhwaXJhdGlvblRpbWUgPSBuZXcgRGF0ZShleHBpcmF0aW9uVGltZSk7XHJcblxyXG5cdFx0XHRcdHZhciB1c2VyRGF0YSA9IHtcclxuXHJcblx0XHRcdFx0XHR0b2tlbjogdG9rZW4sXHJcblx0XHRcdFx0XHR1c2VySWQ6IGlkLFxyXG5cdFx0XHRcdFx0dXNlcm5hbWU6IHVzZXJuYW1lLFxyXG5cdFx0XHRcdFx0ZW1haWw6IGVtYWlsLFxyXG5cdFx0XHRcdFx0Ly9pc0FkbWluOiBkYXRhLmRhdGEuaXNBZG1pblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Y29uc29sZS5sb2codXNlckRhdGEudG9rZW4pO1xyXG5cclxuXHRcdFx0XHRhdXRoU3ZjLnVzZXIgPSB1c2VyRGF0YTtcclxuXHJcblx0XHRcdFx0JGNvb2tpZXMucHV0T2JqZWN0KFwidXNlclwiLCB1c2VyRGF0YSwgeyBleHBpcmVzOiBleHBpcmF0aW9uVGltZSB9KTtcclxuXHRcdFx0XHQkcm9vdFNjb3BlLmlzTG9nZ2VkSW4gPSB0cnVlO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vQ2hlY2sgaWYgcmV0dXJuZWQgdXNlciBpcyBBZG1pblxyXG5cdFx0XHRcdHVzZXJEYXRhLmlzQWRtaW4gPT0gXCIxXCIgPyAkcm9vdFNjb3BlLmlzQWRtaW4gPSB0cnVlIDogJHJvb3RTY29wZS5pc0FkbWluID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHQvL1ZtIGZ1bmN0aW9uc1xyXG5cdCAgICAgICAgdm0ubG9naW4gPSBmdW5jdGlvbigpIHtcclxuXHQgICAgICAgIFx0dmFyIHNwaW5uZXIgPSBuZXcgU3Bpbm5lcihvcHRzKS5zcGluKHRhcmdldCk7XHJcblx0ICAgICAgICBcdHZtLmxvYWRpbmcgXHQ9IHRydWU7XHJcblx0ICAgICAgICBcdGNvbnNvbGUubG9nKHZtLmxvYWRpbmcpO1xyXG5cclxuXHQgICAgICAgICAgICB2YXIgY3JlZGVudGlhbHMgPSB7XHJcblx0ICAgICAgICAgICAgICAgIGVtYWlsOiB2bS5lbWFpbCxcclxuXHQgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHZtLnBhc3N3b3JkXHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIFxyXG5cdCAgICAgICAgICAgIGF1dGhTdmMubG9naW4oY3JlZGVudGlhbHMpO1xyXG5cdCAgICAgICAgICAgIFxyXG5cdCAgICAgICAgICAgIC8vV2F0Y2hlc1xyXG5cdFx0XHRcdHZhciB1bnJlZ2lzdGVyID0gJHNjb3BlLiR3YXRjaChcclxuXHRcdFx0XHQgXHRmdW5jdGlvbiAoKSB7IHJldHVybiBhdXRoU3ZjLmlzTG9nZ2VkSW4gfSwgXHJcblx0XHRcdFx0IFx0ZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRpZihhdXRoU3ZjLmlzTG9nZ2VkSW4pIFxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdCAgICAgICAgXHQkKCcjbG9naW5fbW9kYWwnKS5tb2RhbCgpO1xyXG5cdFx0XHRcdFx0XHRcdCQoJyNsb2dpbl9tb2RhbCcpLm1vZGFsKCdjbG9zZScpO1xyXG5cdFx0XHRcdCAgICAgICAgXHRzcGlubmVyLnN0b3AoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZighYXV0aFN2Yy5pc0xvZ2dlZEluKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0c3Bpbm5lci5zdG9wKCk7XHJcblx0XHRcdFx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LCB0cnVlKTtcclxuXHQgICAgICAgIH1cclxuXHRcdH1cclxuXHR9XHJcbn0pIiwiYXBwLmRpcmVjdGl2ZShcImRjYlN0aWNreVwiLCBmdW5jdGlvbigkd2luZG93KSB7XHJcblx0dmFyICR3aW4gPSBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdyk7IC8vIHdyYXAgd2luZG93IG9iamVjdCBhcyBqUXVlcnkgb2JqZWN0XHJcblxyXG5cdHJldHVybiB7XHJcblx0XHRyZXN0cmljdDogXCJBXCIsXHJcblx0XHRsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcblx0ICAgICAgXHR2YXIgdG9wQ2xhc3MgPSBhdHRycy5kY2JTdGlja3ksIC8vIGdldCBDU1MgY2xhc3MgZnJvbSBkaXJlY3RpdmUncyBhdHRyaWJ1dGUgdmFsdWVcclxuXHQgICAgICAgICAgXHRvZmZzZXRUb3AgPSBlbGVtZW50Lm9mZnNldCgpLnRvcDsgLy8gZ2V0IGVsZW1lbnQncyBvZmZzZXQgdG9wIHJlbGF0aXZlIHRvIGRvY3VtZW50XHJcblxyXG5cdCAgICAgIFx0JHdpbi5vbignc2Nyb2xsJywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdCAgICAgICAgaWYgKCR3aW4uc2Nyb2xsVG9wKCkgPj0gb2Zmc2V0VG9wKSB7XHJcblx0XHQgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyh0b3BDbGFzcyk7XHJcblx0XHQgICAgICAgIH0gZWxzZSB7XHJcblx0XHQgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyh0b3BDbGFzcyk7XHJcblx0XHQgICAgICAgIH1cclxuXHQgICAgICBcdH0pO1xyXG5cdCAgXHR9XHJcblx0fVxyXG59KSIsImFwcC5kaXJlY3RpdmUoXCJkY2JSZWdpc3RlclwiLCBmdW5jdGlvbih1c2VyU2VydmljZSkge1xyXG5cdHJldHVybiB7XHJcblx0XHRyZXN0cmljdDogXCJFXCIsXHJcblx0XHR0ZW1wbGF0ZVVybDogXCJhcHAvZGlyZWN0aXZlcy9kY2ItcmVnaXN0ZXIvZGNiLXJlZ2lzdGVyLmh0bWxcIixcclxuXHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRzY29wZToge30sXHJcblx0XHRjb250cm9sbGVyQXM6IFwicmVnaXN0ZXJcIixcclxuXHRcdGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRhdXRoLCAkc2NvcGUsICRyb290U2NvcGUsIHVzZXJTZXJ2aWNlLCBhdXRoU2VydmljZSkge1xyXG5cdFx0XHR2YXIgdm0gXHRcdFx0PSB0aGlzO1xyXG5cdFx0XHR2YXIgdXNlclN2YyBcdD0gdXNlclNlcnZpY2U7XHJcblx0XHRcdHZhciBhdXRoU3ZjIFx0PSBhdXRoU2VydmljZTtcclxuXHRcdFx0dmFyIHRhcmdldCBcdFx0PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaXN0ZXItc3Bpbm5lcicpO1xyXG5cclxuXHRcdFx0dmFyIG9wdHMgPSB7XHJcblx0ICBcdFx0XHRsaW5lczogMTMgLy8gVGhlIG51bWJlciBvZiBsaW5lcyB0byBkcmF3XHJcblx0XHRcdFx0LCBsZW5ndGg6IDI4IC8vIFRoZSBsZW5ndGggb2YgZWFjaCBsaW5lXHJcblx0XHRcdFx0LCB3aWR0aDogMTQgLy8gVGhlIGxpbmUgdGhpY2tuZXNzXHJcblx0XHRcdFx0LCByYWRpdXM6IDQyIC8vIFRoZSByYWRpdXMgb2YgdGhlIGlubmVyIGNpcmNsZVxyXG5cdFx0XHRcdCwgc2NhbGU6IDAuNCAvLyBTY2FsZXMgb3ZlcmFsbCBzaXplIG9mIHRoZSBzcGlubmVyXHJcblx0XHRcdFx0LCBjb3JuZXJzOiAxIC8vIENvcm5lciByb3VuZG5lc3MgKDAuLjEpXHJcblx0XHRcdFx0LCBjb2xvcjogJyMwMDAnIC8vICNyZ2Igb3IgI3JyZ2diYiBvciBhcnJheSBvZiBjb2xvcnNcclxuXHRcdFx0XHQsIG9wYWNpdHk6IDAuMjUgLy8gT3BhY2l0eSBvZiB0aGUgbGluZXNcclxuXHRcdFx0XHQsIHJvdGF0ZTogMCAvLyBUaGUgcm90YXRpb24gb2Zmc2V0XHJcblx0XHRcdFx0LCBkaXJlY3Rpb246IDEgLy8gMTogY2xvY2t3aXNlLCAtMTogY291bnRlcmNsb2Nrd2lzZVxyXG5cdFx0XHRcdCwgc3BlZWQ6IDEgLy8gUm91bmRzIHBlciBzZWNvbmRcclxuXHRcdFx0XHQsIHRyYWlsOiA2MCAvLyBBZnRlcmdsb3cgcGVyY2VudGFnZVxyXG5cdFx0XHRcdCwgZnBzOiAyMCAvLyBGcmFtZXMgcGVyIHNlY29uZCB3aGVuIHVzaW5nIHNldFRpbWVvdXQoKSBhcyBhIGZhbGxiYWNrIGZvciBDU1NcclxuXHRcdFx0XHQsIHpJbmRleDogMmU5IC8vIFRoZSB6LWluZGV4IChkZWZhdWx0cyB0byAyMDAwMDAwMDAwKVxyXG5cdFx0XHRcdCwgY2xhc3NOYW1lOiAnc3Bpbm5lcicgLy8gVGhlIENTUyBjbGFzcyB0byBhc3NpZ24gdG8gdGhlIHNwaW5uZXJcclxuXHRcdFx0XHQsIHRvcDogJzYwJScgLy8gVG9wIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG5cdFx0XHRcdCwgbGVmdDogJzUwJScgLy8gTGVmdCBwb3NpdGlvbiByZWxhdGl2ZSB0byBwYXJlbnRcclxuXHRcdFx0XHQsIHNoYWRvdzogZmFsc2UgLy8gV2hldGhlciB0byByZW5kZXIgYSBzaGFkb3dcclxuXHRcdFx0XHQsIGh3YWNjZWw6IGZhbHNlIC8vIFdoZXRoZXIgdG8gdXNlIGhhcmR3YXJlIGFjY2VsZXJhdGlvblxyXG5cdFx0XHRcdCwgcG9zaXRpb246ICdhYnNvbHV0ZScgLy8gRWxlbWVudCBwb3NpdGlvbmluZ1xyXG5cdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0XHJcblx0XHRcdHZtLnJlZ2lzdGVyID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyIHNwaW5uZXIgPSBuZXcgU3Bpbm5lcihvcHRzKS5zcGluKHRhcmdldCk7XHJcblx0ICAgICAgICBcdHZtLmxvYWRpbmcgXHQ9IHRydWU7XHJcblxyXG5cdFx0XHRcdHZhciB1c2VyID0ge1xyXG5cdFx0XHRcdCAgXHR1c2VybmFtZTogdm0udXNlcm5hbWUsXHJcblx0XHRcdFx0ICBcdGVtYWlsOiB2bS5lbWFpbCxcclxuXHRcdFx0XHQgIFx0cGFzc3dvcmQ6IHZtLnBhc3N3b3JkXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0JGF1dGguc2lnbnVwKHVzZXIpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdC8vIFJlZ2lzdHJhdGlvbiBzdWNjZXNzXHJcblx0XHRcdFx0XHRhdXRoU3ZjLmxvZ2luKHVzZXIpO1xyXG5cclxuXHRcdCAgICAgICAgICAgIC8vV2F0Y2hlc1xyXG5cdFx0XHRcdFx0dmFyIHVucmVnaXN0ZXIgPSAkc2NvcGUuJHdhdGNoKFxyXG5cdFx0XHRcdFx0XHRmdW5jdGlvbiAoKSB7IHJldHVybiBhdXRoU3ZjLmlzTG9nZ2VkSW4gfSwgXHJcblx0XHRcdFx0XHRcdGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYoYXV0aFN2Yy5pc0xvZ2dlZEluKSBcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0XHQgICAgICAgIFx0JCgnI3JlZ2lzdGVyX21vZGFsJykubW9kYWwoKTtcclxuXHRcdFx0XHRcdFx0XHRcdCQoJyNyZWdpc3Rlcl9tb2RhbCcpLm1vZGFsKCdjbG9zZScpO1xyXG5cdFx0XHRcdFx0ICAgICAgICBcdHNwaW5uZXIuc3RvcCgpO1xyXG5cdFx0XHRcdFx0ICAgICAgICBcdHVucmVnaXN0ZXIoKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0aWYoYXV0aFN2Yy5pc0xvZ2dlZEluID09PSBmYWxzZSlcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRzcGlubmVyLnN0b3AoKTtcclxuXHQgICAgICAgIFx0XHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0ICAgICAgICBcdFx0XHRcdFx0dW5yZWdpc3RlcigpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSwgdHJ1ZSk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuY2F0Y2goZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdC8vIFJlZ2lzdHJhdGlvbiBmYWlsZWRcclxuXHRcdFx0XHQgIFx0c3Bpbm5lci5zdG9wKCk7XHJcblx0XHRcdFx0ICBcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHQgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSJdfQ==
