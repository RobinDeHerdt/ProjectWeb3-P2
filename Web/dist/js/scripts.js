var app=angular.module("app",["ui.router","satellizer"]),CONSTANTS=function(){var e={};return e.API_BASE_URL="http://discoverbandapi.int/public/api",e}();app.config(["$stateProvider","$urlRouterProvider","$authProvider",function(e,t,o){o.loginUrl=CONSTANTS.API_BASE_URL+"/authenticate",t.otherwise("/"),e.state("home",{url:"/",templateUrl:"app/pages/home.html",controller:"homeController as home"}).state("solo",{url:"/solo",templateUrl:"app/pages/solo.html",controller:"soloController as solo"}).state("merged",{url:"/merged",templateUrl:"app/pages/merged.html",controller:"mergedController as merged"})}]),app.controller("homeController",function(){function e(){t.test="This value has been initiated through _init() and bound to the scope!"}var t=this;e()}),app.controller("mergeController",function(){function e(){}e()}),app.controller("mergedController",function(){function e(){t.test="Merged"}var t=this;e()}),app.controller("soloController",["$scope","bandService","soloService",function(e,t,o){function r(){s.getTracks().then(function(e){l.soloTracks=e.data,l.filteredTracks=l.soloTracks},function(e){console.log(e)})}function a(){l.formData={artist:"layer",title:"blood"},angular.forEach(l.instruments,function(e,t){l.formData[e.id]=!0})}function n(){l.filteredTracks=[],angular.forEach(l.soloTracks,function(e,t){console.log(e),goodSearch=!0,""!=!l.formData.artist||e.artist.name.match(new RegExp(l.formData.artist,"i"))||(goodSearch=!1),""!=!l.formData.title||e.songname.match(new RegExp(l.formData.title,"i"))||(goodSearch=!1),l.formData[e.instrument_id]||(goodSearch=!1),goodSearch&&l.filteredTracks.push(e),console.log(l.filteredTracks)})}function i(){a(),r()}var l=this,c=t,s=o;l.advancedFilter=function(e){return e.artist.name.match(new RegExp(l.formData.artist,"i"))&&e.songname.match(new RegExp(l.formData.title,"i"))},l.addToBand=function(e){c.trackArray.push(e)},e.$watch(function(){return l.formData},function(){l.formData&&n()},!0),l.track1=new Audio("dist/audio/Behemoth - Conquer All - Drum.mp3"),l.track2=new Audio("dist/audio/Behemoth - Conquer All - Guitar.mp3"),l.instruments=[{name:"Guitar",id:1},{name:"Drum",id:2},{name:"Bass",id:3},{name:"Piano",id:4}],i()}]),app.service("bandService",function(){var e=this;e.testValue="This value is from a service!",e.trackArray=[],e.testFunction=function(){alert("Test function called from inside service!")}}),app.service("soloService",["$http",function(e){function t(t,o){return o?"":o={},e.get(t,o)}var o=this;o.getTracks=function(){var e=CONSTANTS.API_BASE_URL+"/tracks";return t(e)},o.getTrackById=function(e){var o=CONSTANTS.API_BASE_URL+"/tracks/"+e;return t(o)}}]),app.directive("dcbHeader",function(){return{restrict:"E",templateUrl:"app/directives/dcb-header/dcb-header.html",replace:!0,scope:{},controllerAs:"head",controller:function(){function e(){t.value="This is a directive test value!"}var t=this;t.showLogin=function(){$("#login_modal").modal()},t.showRegister=function(){$("#register_modal").modal()},e()}}}),app.directive("dcbLogin",function(){return{restrict:"E",templateUrl:"app/directives/dcb-login/dcb-login.html",replace:!0,scope:{},controllerAs:"login",controller:["$auth",function(e){var t=this;t.sendCredentials=function(){console.log("Sent");var o={email:t.email,password:t.password};e.login(o).then(function(e){console.log(e)},function(e){console.log(e)})}}]}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbmZpZy5qcyIsInJvdXRlcy5qcyIsImhvbWVDb250cm9sbGVyLmpzIiwibWVyZ2VDb250cm9sbGVyLmpzIiwibWVyZ2VkQ29udHJvbGxlci5qcyIsInNvbG9Db250cm9sbGVyLmpzIiwiYmFuZFNlcnZpY2UuanMiLCJzb2xvU2VydmljZS5qcyIsImRjYi1oZWFkZXIvZGNiLWhlYWRlci5qcyIsImRjYi1sb2dpbi9kY2ItbG9naW4uanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsIkNPTlNUQU5UUyIsIkFQSV9CQVNFX1VSTCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGF1dGhQcm92aWRlciIsImxvZ2luVXJsIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJfaW5pdCIsInZtIiwidGVzdCIsInRoaXMiLCIkc2NvcGUiLCJiYW5kU2VydmljZSIsInNvbG9TZXJ2aWNlIiwiZ2V0U29sb1RyYWNrcyIsInNvbG9TdmMiLCJnZXRUcmFja3MiLCJ0aGVuIiwiZGF0YSIsInNvbG9UcmFja3MiLCJmaWx0ZXJlZFRyYWNrcyIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImNyZWF0ZUZvcm1EYXRhIiwiZm9ybURhdGEiLCJhcnRpc3QiLCJ0aXRsZSIsImZvckVhY2giLCJpbnN0cnVtZW50cyIsInZhbHVlIiwia2V5IiwiaWQiLCJmaWx0ZXIiLCJ0cmFjayIsImdvb2RTZWFyY2giLCJuYW1lIiwibWF0Y2giLCJSZWdFeHAiLCJzb25nbmFtZSIsImluc3RydW1lbnRfaWQiLCJwdXNoIiwiYmFuZFN2YyIsImFkdmFuY2VkRmlsdGVyIiwiYWRkVG9CYW5kIiwidHJhY2tBcnJheSIsIiR3YXRjaCIsInRyYWNrMSIsIkF1ZGlvIiwidHJhY2syIiwic2VydmljZSIsInN2YyIsInRlc3RWYWx1ZSIsInRlc3RGdW5jdGlvbiIsImFsZXJ0IiwiJGh0dHAiLCJnZXREYXRhIiwib3B0aW9ucyIsImdldCIsImdldFRyYWNrQnlJZCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwicmVwbGFjZSIsInNjb3BlIiwiY29udHJvbGxlckFzIiwic2hvd0xvZ2luIiwiJCIsIm1vZGFsIiwic2hvd1JlZ2lzdGVyIiwiJGF1dGgiLCJzZW5kQ3JlZGVudGlhbHMiLCJjcmVkZW50aWFscyIsImVtYWlsIiwicGFzc3dvcmQiLCJsb2dpbiJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBSUEsS0FBTUMsUUFBUUMsT0FBTyxPQUFRLFlBQWEsZUNBMUNDLFVBQWEsV0FFaEIsR0FBSUQsS0FJSixPQUZBQSxHQUFPRSxhQUFlLHdDQUVmRixJQ05SRixLQUFJSyxRQUFBLGlCQUFBLHFCQUFBLGdCQUFPLFNBQVNDLEVBQWdCQyxFQUFvQkMsR0FDdERBLEVBQWNDLFNBQVdOLFVBQVVDLGFBQWUsZ0JBQ2xERyxFQUFtQkcsVUFBVSxLQUU3QkosRUFDR0ssTUFBTSxRQUNMQyxJQUFLLElBQ0xDLFlBQWEsc0JBQ2JDLFdBQVksMkJBRWRILE1BQU0sUUFDSkMsSUFBSyxRQUNMQyxZQUFhLHNCQUNiQyxXQUFZLDJCQUViSCxNQUFNLFVBQ0xDLElBQUssVUFDTEMsWUFBYSx3QkFDYkMsV0FBWSxrQ0NsQmxCZCxJQUFJYyxXQUFXLGlCQUFrQixXQUdoQyxRQUFTQyxLQUNSQyxFQUFHQyxLQUFPLHdFQUhYLEdBQUlELEdBQUtFLElBTVRILE9DUERmLElBQUljLFdBQVcsa0JBQW1CLFdBR2pDLFFBQVNDLE1BSVRBLE1DUERmLElBQUljLFdBQVcsbUJBQW9CLFdBR2xDLFFBQVNDLEtBQ1JDLEVBQUdDLEtBQU8sU0FIWCxHQUFJRCxHQUFLRSxJQU1USCxPQ1BEZixJQUFJYyxXQUFXLGtCQUFBLFNBQUEsY0FBQSxjQUFrQixTQUFTSyxFQUFRQyxFQUFhQyxHQVk5RCxRQUFTQyxLQUVSQyxFQUFRQyxZQUNOQyxLQUFLLFNBQVNDLEdBRWRWLEVBQUdXLFdBQWFELEVBQUtBLEtBQ3JCVixFQUFHWSxlQUFp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S0UsSUFFSEYsR0FBRzhELGdCQUFrQixXQUNwQmhELFFBQVFDLElBQUksT0FDVCxJQUFJZ0QsSUFDQUMsTUFBT2hFLEVBQUdnRSxNQUNWQyxTQUFVakUsRUFBR2lFLFNBR2pCSixHQUFNSyxNQUFNSCxHQUFhdEQsS0FBSyxTQUFTQyxHQUN0Q0ksUUFBUUMsSUFBSUwsSUFDVixTQUFTRyxHQUNYQyxRQUFRQyxJQUFJRiIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIsIFtcInVpLnJvdXRlclwiLCBcInNhdGVsbGl6ZXJcIl0pOyIsInZhciBDT05TVEFOVFMgPSAoZnVuY3Rpb24gKCkge1xyXG5cdFxyXG5cdHZhciBtb2R1bGUgPSB7fTtcclxuXHJcblx0bW9kdWxlLkFQSV9CQVNFX1VSTCA9IFwiaHR0cDovL2Rpc2NvdmVyYmFuZGFwaS5pbnQvcHVibGljL2FwaVwiO1xyXG5cclxuXHRyZXR1cm4gbW9kdWxlO1xyXG59KCkpOyIsImFwcC5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGF1dGhQcm92aWRlcikge1xyXG4gICRhdXRoUHJvdmlkZXIubG9naW5VcmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgJy9hdXRoZW50aWNhdGUnO1xyXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoXCIvXCIpO1xyXG5cclxuICAkc3RhdGVQcm92aWRlclxyXG4gICAgLnN0YXRlKCdob21lJywge1xyXG4gICAgICB1cmw6IFwiL1wiLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogXCJhcHAvcGFnZXMvaG9tZS5odG1sXCIsXHJcbiAgICAgIGNvbnRyb2xsZXI6IFwiaG9tZUNvbnRyb2xsZXIgYXMgaG9tZVwiXHJcbiAgICB9KVxyXG4gIFx0LnN0YXRlKCdzb2xvJywge1xyXG4gICAgICB1cmw6IFwiL3NvbG9cIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL3NvbG8uaHRtbFwiLFxyXG4gICAgICBjb250cm9sbGVyOiBcInNvbG9Db250cm9sbGVyIGFzIHNvbG9cIlxyXG4gICAgfSlcclxuICAgIC5zdGF0ZSgnbWVyZ2VkJywge1xyXG4gICAgICB1cmw6IFwiL21lcmdlZFwiLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogXCJhcHAvcGFnZXMvbWVyZ2VkLmh0bWxcIixcclxuICAgICAgY29udHJvbGxlcjogXCJtZXJnZWRDb250cm9sbGVyIGFzIG1lcmdlZFwiXHJcbiAgICB9KVxyXG59KTsiLCJhcHAuY29udHJvbGxlcihcImhvbWVDb250cm9sbGVyXCIsIGZ1bmN0aW9uKCkge1xyXG5cdHZhciB2bSA9IHRoaXM7XHJcblxyXG5cdGZ1bmN0aW9uIF9pbml0KCkge1xyXG5cdFx0dm0udGVzdCA9IFwiVGhpcyB2YWx1ZSBoYXMgYmVlbiBpbml0aWF0ZWQgdGhyb3VnaCBfaW5pdCgpIGFuZCBib3VuZCB0byB0aGUgc2NvcGUhXCI7XHJcblx0fVxyXG5cclxuXHRfaW5pdCgpO1xyXG59KTsiLCJhcHAuY29udHJvbGxlcihcIm1lcmdlQ29udHJvbGxlclwiLCBmdW5jdGlvbigpIHtcclxuXHR2YXIgdm0gPSB0aGlzO1xyXG5cclxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdFxyXG5cdH1cclxuXHJcblx0X2luaXQoKTtcclxufSk7IiwiYXBwLmNvbnRyb2xsZXIoXCJtZXJnZWRDb250cm9sbGVyXCIsIGZ1bmN0aW9uKCkge1xyXG5cdHZhciB2bSA9IHRoaXM7XHJcblxyXG5cdGZ1bmN0aW9uIF9pbml0KCkge1xyXG5cdFx0dm0udGVzdCA9IFwiTWVyZ2VkXCI7XHJcblx0fVxyXG5cclxuXHRfaW5pdCgpO1xyXG59KTsiLCJhcHAuY29udHJvbGxlcihcInNvbG9Db250cm9sbGVyXCIsIGZ1bmN0aW9uKCRzY29wZSwgYmFuZFNlcnZpY2UsIHNvbG9TZXJ2aWNlKSB7XHJcblx0XHJcblx0dmFyIHZtID0gdGhpcztcclxuXHR2YXIgYmFuZFN2YyA9IGJhbmRTZXJ2aWNlO1xyXG5cdHZhciBzb2xvU3ZjID0gc29sb1NlcnZpY2U7XHJcblxyXG5cdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRmdW5jdGlvbiBwbGF5QXVkaW9GaWxlKHRyYWNrKVxyXG5cdHtcclxuXHRcdHRyYWNrLnBsYXkoKTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGdldFNvbG9UcmFja3MoKVxyXG5cdHtcclxuXHRcdHNvbG9TdmMuZ2V0VHJhY2tzKClcclxuXHRcdFx0LnRoZW4oZnVuY3Rpb24oZGF0YSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHZtLnNvbG9UcmFja3MgPSBkYXRhLmRhdGE7XHJcblx0XHRcdFx0dm0uZmlsdGVyZWRUcmFja3MgPSB2bS5zb2xvVHJhY2tzO1xyXG5cdFx0XHRcclxuXHRcdFx0fSwgZnVuY3Rpb24oZXJyb3IpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gY3JlYXRlRm9ybURhdGEoKVxyXG5cdHtcclxuXHRcdHZtLmZvcm1EYXRhID0ge1x0XCJhcnRpc3RcIjogXCJsYXllclwiLFxyXG5cdFx0XHRcdFx0XHRcInRpdGxlXCI6IFwiYmxvb2RcIixcclxuXHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRhbmd1bGFyLmZvckVhY2godm0uaW5zdHJ1bWVudHMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpXHJcblx0XHR7XHJcblx0XHRcdHZtLmZvcm1EYXRhW3ZhbHVlLmlkXSA9IHRydWU7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGZpbHRlcigpXHJcblx0e1xyXG5cdFx0dm0uZmlsdGVyZWRUcmFja3MgPSBbXTtcclxuXHJcblx0XHRhbmd1bGFyLmZvckVhY2godm0uc29sb1RyYWNrcywgZnVuY3Rpb24odHJhY2ssIGtleSlcclxuXHRcdHtcclxuXHRcdFx0Y29uc29sZS5sb2codHJhY2spO1xyXG5cdFx0XHRnb29kU2VhcmNoID0gdHJ1ZTtcclxuXHJcblx0XHRcdGlmKCF2bS5mb3JtRGF0YS5hcnRpc3QgPT0gXCJcIiAmJiAhdHJhY2suYXJ0aXN0Lm5hbWUubWF0Y2gobmV3IFJlZ0V4cCh2bS5mb3JtRGF0YS5hcnRpc3QsIFwiaVwiKSkpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRnb29kU2VhcmNoID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKCF2bS5mb3JtRGF0YS50aXRsZSA9PSBcIlwiICYmICF0cmFjay5zb25nbmFtZS5tYXRjaChuZXcgUmVnRXhwKHZtLmZvcm1EYXRhLnRpdGxlLCBcImlcIikpKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Z29vZFNlYXJjaCA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZighdm0uZm9ybURhdGFbdHJhY2suaW5zdHJ1bWVudF9pZF0pXHJcblx0XHRcdHtcclxuXHRcdFx0XHRnb29kU2VhcmNoID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRpZihnb29kU2VhcmNoKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dm0uZmlsdGVyZWRUcmFja3MucHVzaCh0cmFjayk7XHJcblx0XHRcdH1cclxuXHRcdFx0Y29uc29sZS5sb2codm0uZmlsdGVyZWRUcmFja3MpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdGNyZWF0ZUZvcm1EYXRhKCk7XHJcblxyXG5cdFx0Z2V0U29sb1RyYWNrcygpO1xyXG5cclxuXHRcdC8vdm0udHJhY2sxLnBsYXkoKTtcclxuXHRcdC8vc2V0VGltZW91dChmdW5jdGlvbigpe3BsYXlBdWRpb0ZpbGUodm0udHJhY2syKX0sIDQwMCk7XHJcblx0fVxyXG5cclxuXHQvL1ZtIGZ1bmN0aW9uc1xyXG5cdHZtLmFkdmFuY2VkRmlsdGVyID0gZnVuY3Rpb24odHJhY2spXHJcblx0e1xyXG5cdFx0cmV0dXJuIHRyYWNrLmFydGlzdC5uYW1lLm1hdGNoKG5ldyBSZWdFeHAodm0uZm9ybURhdGEuYXJ0aXN0LCBcImlcIikpXHJcblx0XHRcdFx0JiZcclxuXHRcdFx0XHR0cmFjay5zb25nbmFtZS5tYXRjaChuZXcgUmVnRXhwKHZtLmZvcm1EYXRhLnRpdGxlLCBcImlcIikpO1xyXG5cdH1cclxuXHJcblx0dm0uYWRkVG9CYW5kID0gZnVuY3Rpb24odHJhY2spIHtcclxuXHRcdFxyXG5cdFx0YmFuZFN2Yy50cmFja0FycmF5LnB1c2godHJhY2spO1xyXG5cdH1cclxuXHJcblx0Ly9XYXRjaGVzXHJcblx0JHNjb3BlLiR3YXRjaChcclxuXHRcdGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZtLmZvcm1EYXRhIH0sIFxyXG5cdFx0ZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0aWYodm0uZm9ybURhdGEpIFxyXG5cdFx0XHR7XHRcdFxyXG5cdFx0XHRcdGZpbHRlcigpO1xyXG5cdFx0XHR9XHJcblx0XHR9LCB0cnVlKTtcclxuXHJcblxyXG5cclxuXHR2bS50cmFjazEgPSBuZXcgQXVkaW8oXCJkaXN0L2F1ZGlvL0JlaGVtb3RoIC0gQ29ucXVlciBBbGwgLSBEcnVtLm1wM1wiKTtcclxuXHR2bS50cmFjazIgPSBuZXcgQXVkaW8oXCJkaXN0L2F1ZGlvL0JlaGVtb3RoIC0gQ29ucXVlciBBbGwgLSBHdWl0YXIubXAzXCIpO1xyXG5cclxuXHR2bS5pbnN0cnVtZW50cyA9IFt7XHJcblx0XHRcdFx0XHRcdFx0XCJuYW1lXCI6XCJHdWl0YXJcIixcclxuXHRcdFx0XHRcdFx0XHRcImlkXCI6MVxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XCJuYW1lXCI6XCJEcnVtXCIsXHJcblx0XHRcdFx0XHRcdFx0XCJpZFwiOjJcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFwibmFtZVwiOlwiQmFzc1wiLFxyXG5cdFx0XHRcdFx0XHRcdFwiaWRcIjozXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcIm5hbWVcIjpcIlBpYW5vXCIsXHJcblx0XHRcdFx0XHRcdFx0XCJpZFwiOjRcclxuXHRcdFx0XHRcdFx0fV07XHJcblxyXG5cclxuXHRfaW5pdCgpO1xyXG59KTsiLCJhcHAuc2VydmljZShcImJhbmRTZXJ2aWNlXCIsIGZ1bmN0aW9uKCkge1xyXG5cdHZhciBzdmMgPSB0aGlzO1xyXG5cdHN2Yy50ZXN0VmFsdWUgPSBcIlRoaXMgdmFsdWUgaXMgZnJvbSBhIHNlcnZpY2UhXCI7XHJcblxyXG5cdHN2Yy50cmFja0FycmF5ID0gW107XHJcblxyXG5cdFxyXG5cclxuXHJcblxyXG5cclxuXHRzdmMudGVzdEZ1bmN0aW9uID0gZnVuY3Rpb24oKSB7XHJcblx0XHRhbGVydChcIlRlc3QgZnVuY3Rpb24gY2FsbGVkIGZyb20gaW5zaWRlIHNlcnZpY2UhXCIpO1xyXG5cdH1cclxufSkiLCJhcHAuc2VydmljZShcInNvbG9TZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwKSB7XHJcblx0XHJcblx0Ly9HbG9iYWxzXHJcblx0dmFyIHN2YyA9IHRoaXM7XHJcblxyXG5cdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRmdW5jdGlvbiBnZXREYXRhICh1cmwsIG9wdGlvbnMpIHtcclxuXHJcblx0XHQhb3B0aW9ucyA/IG9wdGlvbnMgPSB7fSA6IFwiXCI7XHJcblxyXG5cdFx0cmV0dXJuICRodHRwLmdldCh1cmwsIG9wdGlvbnMpXHJcblx0fVxyXG5cclxuXHQvL1N2YyBmdW5jdGlvbnNcclxuXHRzdmMuZ2V0VHJhY2tzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdHZhciB1cmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvdHJhY2tzXCI7XHJcblx0XHRcclxuXHRcdHJldHVybiBnZXREYXRhKHVybCk7XHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0VHJhY2tCeUlkID0gZnVuY3Rpb24gKGlkKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi90cmFja3MvXCIgKyBpZDtcclxuXHJcblx0XHRyZXR1cm4gZ2V0RGF0YSh1cmwpO1xyXG5cdH1cclxufSkiLCJhcHAuZGlyZWN0aXZlKFwiZGNiSGVhZGVyXCIsIGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB7XHJcblx0XHRyZXN0cmljdDogXCJFXCIsXHJcblx0XHR0ZW1wbGF0ZVVybDogXCJhcHAvZGlyZWN0aXZlcy9kY2ItaGVhZGVyL2RjYi1oZWFkZXIuaHRtbFwiLFxyXG5cdFx0cmVwbGFjZTogdHJ1ZSxcclxuXHRcdHNjb3BlOiB7fSxcclxuXHRcdGNvbnRyb2xsZXJBczogXCJoZWFkXCIsXHJcblx0XHRjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHZtID0gdGhpcztcclxuXHJcblx0XHRcdGZ1bmN0aW9uIF9pbml0KCkge1xyXG5cdFx0XHRcdHZtLnZhbHVlID0gXCJUaGlzIGlzIGEgZGlyZWN0aXZlIHRlc3QgdmFsdWUhXCI7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZtLnNob3dMb2dpbiA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCQoXCIjbG9naW5fbW9kYWxcIikubW9kYWwoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dm0uc2hvd1JlZ2lzdGVyID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JChcIiNyZWdpc3Rlcl9tb2RhbFwiKS5tb2RhbCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRfaW5pdCgpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkiLCJhcHAuZGlyZWN0aXZlKFwiZGNiTG9naW5cIiwgZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHtcclxuXHRcdHJlc3RyaWN0OiBcIkVcIixcclxuXHRcdHRlbXBsYXRlVXJsOiBcImFwcC9kaXJlY3RpdmVzL2RjYi1sb2dpbi9kY2ItbG9naW4uaHRtbFwiLFxyXG5cdFx0cmVwbGFjZTogdHJ1ZSxcclxuXHRcdHNjb3BlOiB7fSxcclxuXHRcdGNvbnRyb2xsZXJBczogXCJsb2dpblwiLFxyXG5cdFx0Y29udHJvbGxlcjogZnVuY3Rpb24oJGF1dGgpIHtcclxuXHRcdFx0dmFyIHZtID0gdGhpcztcclxuXHJcblx0ICAgICAgICB2bS5zZW5kQ3JlZGVudGlhbHMgPSBmdW5jdGlvbigpIHtcclxuXHQgICAgICAgIFx0Y29uc29sZS5sb2coJ1NlbnQnKTtcclxuXHQgICAgICAgICAgICB2YXIgY3JlZGVudGlhbHMgPSB7XHJcblx0ICAgICAgICAgICAgICAgIGVtYWlsOiB2bS5lbWFpbCxcclxuXHQgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHZtLnBhc3N3b3JkXHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIFxyXG5cdCAgICAgICAgICAgICRhdXRoLmxvZ2luKGNyZWRlbnRpYWxzKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuXHQgICAgICAgICAgICBcdGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cdCAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKXtcclxuXHQgICAgICAgICAgICBcdGNvbnNvbGUubG9nKGVycm9yKTtcclxuXHQgICAgICAgICAgICB9KTtcclxuXHQgICAgICAgIH1cclxuXHRcdH1cclxuXHR9XHJcbn0pIl19
