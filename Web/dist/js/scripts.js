var app=angular.module("app",["ui.router","satellizer","ngCookies","ngFileUpload"]),CONSTANTS=function(){var e={};return e.API_BASE_URL="http://discoverbandapi.int/public/api",e}();app.config(["$stateProvider","$urlRouterProvider","$authProvider",function(e,r,t){t.loginUrl=CONSTANTS.API_BASE_URL+"/login",t.signupUrl=CONSTANTS.API_BASE_URL+"/register",r.otherwise("/"),e.state("home",{url:"/",templateUrl:"app/pages/home.html",controller:"homeController as home"}).state("solo",{url:"/solo",templateUrl:"app/pages/solo.html",controller:"soloController as solo"}).state("merged",{url:"/merged",templateUrl:"app/pages/merged.html",controller:"mergedController as merged"}).state("band",{url:"/band",templateUrl:"app/pages/band.html",controller:"bandController as band"}).state("merge",{url:"/merge",templateUrl:"app/pages/merge.html",controller:"mergeController as merge"}).state("profile",{url:"/profile",templateUrl:"app/pages/profile.html",controller:"profileController as profile"}).state("upload",{url:"/upload",templateUrl:"app/pages/upload.html",controller:"uploadController as upload"})}]),app.controller("bandController",["bandService",function(e){function r(){t.trackArray=n.getTrackArray}var t=this,n=e;r()}]),app.controller("homeController",["instrumentService","filterService",function(e,r){function t(){n.filterData=a.soloFilterData}var n=this,a=r;t()}]),app.controller("mergeController",["bandService","mergedService",function(e,r){function t(){n.tracks=a.getTrackArray(),n.thereAreTracks=!1,n.showTracks=!1,n.loadedTracks=[],n.tracks.length>0&&(n.thereAreTracks=!0)}var n=this,a=e,o=r,i=[];n.load=function(){if(n.thereAreTracks){for(var e=n.tracks.length-1;e>=0;e--){var r=n.tracks[e].id;document.getElementById(r).checked&&(console.log("ID: "+r),i[r]=WaveSurfer.create({container:"#waveform"+r,waveColor:"green",progressColor:"purple"}),i[r].load("http://discoverbandapi.int/public/api/audio/"+n.tracks[e].file_url),n.loadedTracks.push({track_id:r,trim_amount:0}))}n.showTracks=!0}console.log(n.loadedTracks)},n.playPause=function(e){console.log(e),i[e].playPause(),i[e].zoom(50)},n.trim=function(e){for(var r=i[e].getCurrentTime(),t=n.loadedTracks.length-1;t>=0;t--)n.loadedTracks[t].track_id===e&&(n.loadedTracks[t].trim_amount=r)},n.playPauseAll=function(){for(var e=n.loadedTracks.length-1;e>=0;e--){var r=n.loadedTracks[e];i[r].playPause(),i[r].zoom(50)}},n.save=function(){o.mergeTracks(n.loadedTracks).then(function(e){console.log(e)},function(e){console.log(e)})},t()}]),app.controller("mergedController",["$scope","mergedService","filterService",function(e,r,t){function n(){r.getTracks().then(function(e){i.mergedTracks=e.data,i.filteredTracks=i.mergedTracks,a(),angular.forEach(i.mergedTracks,function(e,r){newTrack=new Audio("dist/audio/Behemoth - Conquer All - Drum.mp3"),i.mergedTrackAudio[e.id]=newTrack})},function(e){console.log(e)})}function a(){i.filteredTracks=[],angular.forEach(i.mergedTracks,function(e,r){goodSearch=!0,""!=!i.filterData.artist||e.artist.name.match(new RegExp(i.filterData.artist,"i"))||(goodSearch=!1),""!=!i.filterData.title||e.songname.match(new RegExp(i.filterData.title,"i"))||(goodSearch=!1),goodSearch&&i.filteredTracks.push(e)})}function o(){i.mergedTrackAudio=[],i.currentAudioTrackId="",n(),i.filterData=c.mergedFilterData}var i=this,c=t;i.play=function(e){""!=i.currentAudioTrackId&&i.pause(i.currentAudioTrackId),i.currentAudioTrackId=e,i.mergedTrackAudio[e].play()},i.pause=function(e){i.mergedTrackAudio[e].pause(),i.currentAudioTrackId=""},e.$watch(function(){return i.filterData},function(){i.filterData&&a()},!0),i.track1=new Audio("dist/audio/Behemoth - Conquer All - Drum.mp3"),i.track2=new Audio("dist/audio/Behemoth - Conquer All - Guitar.mp3"),o()}]),app.controller("profileController",["userService",function(e){function r(){n.getUser().then(function(e){t.username=e.data.username,t.email=e.data.email})}var t=this,n=e,a=document.getElementById("update-profile-spinner"),o={lines:13,length:28,width:12,radius:42,scale:.15,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"89%",left:"25.5%",shadow:!1,hwaccel:!1,position:"absolute"};t.update=function(){var e=new Spinner(o).spin(a);t.loading=!0;var r={username:t.username,email:t.email};n.updateUser(r).then(function(r){e.stop(),t.loading=!1},function(r){e.stop(),t.loading=!1})},r()}]),app.controller("soloController",["$scope","bandService","soloService","instrumentService","filterService",function(e,r,t,n,a){function o(){u.getTracks().then(function(e){l.soloTracks=e.data,l.filteredTracks=l.soloTracks,i(),angular.forEach(l.soloTracks,function(e,r){newTrack=new Audio("http://discoverbandapi.int/public/audio/"+e.file_url),l.soloTrackAudio[e.id]=newTrack})},function(e){console.log(e)})}function i(){l.filteredTracks=[],angular.forEach(l.soloTracks,function(e,r){goodSearch=!0,""!=!l.filterData.artist||e.artist.name.match(new RegExp(l.filterData.artist,"i"))||(goodSearch=!1),""!=!l.filterData.title||e.songname.match(new RegExp(l.filterData.title,"i"))||(goodSearch=!1),l.filterData[e.instrument_id]||(goodSearch=!1),goodSearch&&l.filteredTracks.push(e)})}function c(){l.soloTrackAudio=[],l.currentAudioTrackId="",o(),l.instruments=d.instruments,l.filterData=p.soloFilterData,l.trackArray=s.getTrackArray,l.bandTrackIdArray=s.getTrackIdArray,l.trackArrayCount=s.getTrackArrayCount}var l=this,s=r,u=t,d=n,p=a;l.addToBand=function(e){s.addToTrackArray(e),console.log(e)},l.removeFromBand=function(e){s.removeFromTrackArray(e),console.log("Track removed from new band: "+e)},l.play=function(e){""!=l.currentAudioTrackId&&l.pause(l.currentAudioTrackId),l.currentAudioTrackId=e,l.soloTrackAudio[e].play()},l.pause=function(e){l.soloTrackAudio[e].pause(),l.currentAudioTrackId=""},e.$watch(function(){return l.filterData},function(){l.filterData&&i()},!0),c()}]),app.controller("uploadController",["Upload","artistService","instrumentService","soloService",function(e,r,t,n){function a(){i.uploaded=!1,i.showform=!1,i.instruments=s.getInstruments().then(function(e){i.instruments=e.data,console.log(e.data)},function(e){console.log(e)}),i.artists=l.getArtists().then(function(e){console.log(e.data),i.artists=e.data},function(e){console.log(e)})}function o(e){for(var r=e+"=",t=decodeURIComponent(document.cookie),n=t.split(";"),a=0;a<n.length;a++){for(var o=n[a];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(r))return o.substring(r.length,o.length)}return""}var i=this,c=n,l=r,s=t,u=document.getElementById("upload-spinner"),d={lines:13,length:28,width:12,radius:42,scale:.3,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"40%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};i.uploadFile=function(r){var t=new Spinner(d).spin(u);i.loading=!0,i.uploaded=!1,e.upload({url:CONSTANTS.API_BASE_URL+"/upload",fileFormDataName:"song",sendFieldsAs:"form",data:{song:r}}).then(function(e){i.filename=e.data.name,i.tracklength=e.data.length,t.stop(),i.loading=!1,i.uploaded=!0,i.showform=!0,$("select").material_select()},function(e){i.loading=!1,t.stop(),console.log("Error")})},i.save=function(){var e=JSON.parse(o("user")).userId,r={name:i.songname,file_url:i.filename,track_length:i.tracklength,user_id:e,instrument_id:i.instrumentsdropdown,artist_id:i.artistsdropdown};c.insertTrack(r).then(function(e){console.log(e)},function(e){console.log(e)})},a()}]),app.filter("band",function(){return function(e,r){var t=!1;return angular.forEach(r,function(r,n){r==e&&(t=!0)}),t}}),app.service("artistService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getArtists=function(){var e=CONSTANTS.API_BASE_URL+"/artists";return r(e)}}]),app.service("authService",["$auth","$rootScope","$cookies","$state","userService",function(e,r,t,n,a){function o(e,n,a,o){var c=new Date;c=c.setTime(c.getTime()+1e3*e.expires_in),c=new Date(c);var l={token:e,userId:n,username:a,email:o};i.user=l,t.putObject("user",l,{expires:c}),r.isLoggedIn=!0,"1"==l.isAdmin?r.isAdmin=!0:r.isAdmin=!1}var i=this,c=a;i.isLoggedIn=null,i.login=function(r){e.login(r).then(function(e){token=e.data.token,id=0,username="",email="",c.getUser().then(function(e){id=e.data.id,username=e.data.username,email=e.data.email,o(token,id,username,email),i.isLoggedIn=!0},function(e){console.log(e),i.isLoggedIn=!1})},function(e){console.log(e),i.isLoggedIn=!1})},i.logout=function(){e.logout().then(function(e){r.isLoggedIn=!1,r.isAdmin=!1,i.user=null,i.isLoggedIn=null,t.remove("user"),n.go("home")},function(e){console.log(e)})},i.register=function(e){var r=CONSTANTS.API_BASE_URL+"/user";return $http.post(r,e)}}]),app.service("bandService",function(){function e(){return trackArrayCount++,trackArrayCount}function r(){return trackArrayCount--,trackArrayCount}function t(e){return trackIdArray.push(e),trackIdArray}function n(e){return index=trackIdArray.indexOf(e),index>-1&&trackIdArray.splice(index,1),trackIdArray}var a=this;trackArray=[],trackIdArray=[],trackArrayCount=0,a.getTrackArrayCount=function(){return trackArrayCount},a.getTrackIdArray=function(){return trackIdArray},a.addToTrackArray=function(r){return trackArray.push(r),e(),t(r.id),trackArray},a.removeFromTrackArray=function(e){return index=e.arrayObjectIndexOf(trackArray,e.id,"id"),index>-1&&trackArray.splice(index,1),r(),n(e.id),trackArray},a.getTrackArray=function(){return trackArray},a.testFunction=function(){alert("Test function called from inside service!")}}),app.service("filterService",["instrumentService",function(e){function r(){t.createSoloFilterData(),t.createMergedFilterData()}var t=this,n=e;t.createSoloFilterData=function(){t.soloFilterData={artist:"",title:""},angular.forEach(n.instruments,function(e,r){t.soloFilterData[e.id]=!0})},t.createMergedFilterData=function(){t.mergedFilterData={artist:"",title:""}},r()}]),app.service("instrumentService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getInstruments=function(){var e=CONSTANTS.API_BASE_URL+"/instruments";return r(e)},t.instruments=[{name:"Lead-guitar",id:1},{name:"Drum",id:2},{name:"Bass",id:3},{name:"Keys",id:4}]}]),app.service("mergedService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getTracks=function(){var e=CONSTANTS.API_BASE_URL+"/mergedtracks";return r(e)},t.getTrackById=function(e){var t=CONSTANTS.API_BASE_URL+"/mergedtracks/"+e;return r(t)},t.mergeTracks=function(r){return e.post(CONSTANTS.API_BASE_URL+"/mergedtracks/create",r)}}]),app.service("soloService",["$http",function(e){function r(r,t){return t?"":t={},e.get(r,t)}var t=this;t.getTracks=function(){var e=CONSTANTS.API_BASE_URL+"/tracks";return r(e)},t.getTrackById=function(e){var t=CONSTANTS.API_BASE_URL+"/tracks/"+e;return r(t)},t.insertTrack=function(r){return e.post(CONSTANTS.API_BASE_URL+"/tracks/create",r)}}]),app.service("userService",["$http",function(e){var r=this;r.getUser=function(){return e.get(CONSTANTS.API_BASE_URL+"/user")},r.updateUser=function(r){return e.post(CONSTANTS.API_BASE_URL+"/user",r)}}]),app.directive("dcbBand",["bandService",function(e){return{restrict:"E",templateUrl:"app/directives/dcb-band/dcb-band.html",replace:!0,scope:{},controllerAs:"band",controller:function(){function e(){r.value="NewBand"}var r=this;e()}}}]),app.directive("dcbHeader",["bandService",function(e){return{restrict:"E",templateUrl:"app/directives/dcb-header/dcb-header.html",replace:!0,scope:{},controllerAs:"head",controller:["$scope","userService","authService","$auth","$rootScope",function(r,t,n,a,o){function i(){c.trackArray=u.getTrackArray,c.trackArrayCount=u.getTrackArrayCount,a.isAuthenticated()&&l.getUser().then(function(e){o.username=e.data.username})}var c=this,l=t,s=n,u=e;c.showLogin=function(){$("#login_modal").modal(),$("#login_modal").modal("open")},c.logout=function(){s.logout()},c.showRegister=function(){$("#register_modal").modal(),$("#register_modal").modal("open")},c.isAuthenticated=function(){return a.isAuthenticated()},i(),r.$watch(function(){return s.user},function(){c.user=s.user})}]}}]),app.directive("dcbLogin",function(){return{restrict:"E",templateUrl:"app/directives/dcb-login/dcb-login.html",replace:!0,scope:{},controllerAs:"login",controller:["$auth","$scope","$rootScope","userService","authService","$cookies",function(e,r,t,n,a,o){var i=this,c=a,l=document.getElementById("login-spinner"),s={lines:13,length:28,width:14,radius:42,scale:.4,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"60%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};i.login=function(){var e=new Spinner(s).spin(l);i.loading=!0;var t={email:i.email,password:i.password};c.login(t);var n=r.$watch(function(){return c.isLoggedIn},function(){c.isLoggedIn&&(i.loading=!1,$("#login_modal").modal(),$("#login_modal").modal("close"),e.stop(),n()),c.isLoggedIn===!1&&(e.stop(),i.loading=!1,n())},!0)}}]}}),app.directive("dcbRegister",["userService",function(e){return{restrict:"E",templateUrl:"app/directives/dcb-register/dcb-register.html",replace:!0,scope:{},controllerAs:"register",controller:["$auth","$scope","$rootScope","userService","authService",function(e,r,t,n,a){var o=this,i=a,c=document.getElementById("register-spinner"),l={lines:13,length:28,width:14,radius:42,scale:.4,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"60%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};o.register=function(){var t=new Spinner(l).spin(c);o.loading=!0;var n={username:o.username,email:o.email,password:o.password};e.signup(n).then(function(e){i.login(n);var a=r.$watch(function(){return i.isLoggedIn},function(){i.isLoggedIn&&(o.loading=!1,$("#register_modal").modal(),$("#register_modal").modal("close"),t.stop(),a()),i.isLoggedIn===!1&&(t.stop(),o.loading=!1,a())},!0)})["catch"](function(e){t.stop(),o.loading=!1,console.log(e)})}}]}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbmZpZy5qcyIsInJvdXRlcy5qcyIsImJhbmRDb250cm9sbGVyLmpzIiwiaG9tZUNvbnRyb2xsZXIuanMiLCJtZXJnZUNvbnRyb2xsZXIuanMiLCJtZXJnZWRDb250cm9sbGVyLmpzIiwicHJvZmlsZUNvbnRyb2xsZXIuanMiLCJzb2xvQ29udHJvbGxlci5qcyIsInVwbG9hZENvbnRyb2xsZXIuanMiLCJiYW5kRmlsdGVyLmpzIiwiYXJ0aXN0U2VydmljZS5qcyIsImF1dGhTZXJ2aWNlLmpzIiwiYmFuZFNlcnZpY2UuanMiLCJmaWx0ZXJTZXJ2aWNlLmpzIiwiaW5zdHJ1bWVudFNlcnZpY2UuanMiLCJtZXJnZWRTZXJ2aWNlLmpzIiwic29sb1NlcnZpY2UuanMiLCJ1c2VyU2VydmljZS5qcyIsImRjYi1iYW5kL2RjYi1iYW5kLmpzIiwiZGNiLWhlYWRlci9kY2ItaGVhZGVyLmpzIiwiZGNiLWxvZ2luL2RjYi1sb2dpbi5qcyIsImRjYi1yZWdpc3Rlci9kY2ItcmVnaXN0ZXIuanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsIkNPTlNUQU5UUyIsIkFQSV9CQVNFX1VSTCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGF1dGhQcm92aWRlciIsImxvZ2luVXJsIiwic2lnbnVwVXJsIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJiYW5kU2VydmljZSIsIl9pbml0Iiwidm0iLCJ0cmFja0FycmF5IiwiYmFuZFN2YyIsImdldFRyYWNrQXJyYXkiLCJ0aGlzIiwiaW5zdHJ1bWVudFNlcnZpY2UiLCJmaWx0ZXJTZXJ2aWNlIiwiZmlsdGVyRGF0YSIsImZsdFN2YyIsInNvbG9GaWx0ZXJEYXRhIiwibWVyZ2VkU2VydmljZSIsInRyYWNrcyIsInRoZXJlQXJlVHJhY2tzIiwic2hvd1RyYWNrcyIsImxvYWRlZFRyYWNrcyIsImxlbmd0aCIsIm1lcmdlZFN2YyIsIndhdmVzdXJmZXIiLCJsb2FkIiwiaSIsInRyYWNrX2lkIiwiaWQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY2hlY2tlZCIsImNvbnNvbGUiLCJsb2ciLCJXYXZlU3VyZmVyIiwiY3JlYXRlIiwiY29udGFpbmVyIiwid2F2ZUNvbG9yIiwicHJvZ3Jlc3NDb2xvciIsImZpbGVfdXJsIiwicHVzaCIsInRyaW1fYW1vdW50IiwicGxheVBhdXNlIiwiem9vbSIsInRyaW0iLCJ0aW1lVG9UcmltIiwiZ2V0Q3VycmVudFRpbWUiLCJwbGF5UGF1c2VBbGwiLCJzYXZlIiwibWVyZ2VUcmFja3MiLCJ0aGVuIiwiZGF0YSIsImVycm9yIiwiJHNjb3BlIiwiZ2V0TWVyZ2VkVHJhY2tzIiwiZ2V0VHJhY2tzIiwibWVyZ2VkVHJhY2tzIiwiZmlsdGVyZWRUcmFja3MiLCJmaWx0ZXIiLCJmb3JFYWNoIiwidHJhY2siLCJrZXkiLCJuZXdUcmFjayIsIkF1ZGlvIiwibWVyZ2VkVHJhY2tBdWRpbyIsImdvb2RTZWFyY2giLCJhcnRpc3QiLCJuYW1lIiwibWF0Y2giLCJSZWdFeHAiLCJ0aXRsZSIsInNvbmduYW1lIiwiY3VycmVudEF1ZGlvVHJhY2tJZCIsIm1lcmdlZEZpbHRlckRhdGEiLCJwbGF5IiwidHJhY2tJZCIsInBhdXNlIiwiJHdhdGNoIiwidHJhY2sxIiwidHJhY2syIiwidXNlclNlcnZpY2UiLCJ1c2VyU3ZjIiwiZ2V0VXNlciIsInVzZXJuYW1lIiwiZW1haWwiLCJ0YXJnZXQiLCJvcHRzIiwibGluZXMiLCJ3aWR0aCIsInJhZGl1cyIsInNjYWxlIiwiY29ybmVycyIsImNvbG9yIiwib3BhY2l0eSIsInJvdGF0ZSIsImRpcmVjdGlvbiIsInNwZWVkIiwidHJhaWwiLCJmcHMiLCJ6SW5kZXgiLCJjbGFzc05hbWUiLCJ0b3AiLCJsZWZ0Iiwic2hhZG93IiwiaHdhY2NlbCIsInBvc2l0aW9uIiwidXBkYXRlIiwic3Bpbm5lciIsIlNwaW5uZXIiLCJzcGluIiwibG9hZGluZyIsInVzZXJpbmZvIiwidXBkYXRlVXNlciIsInN0b3AiLCJzb2xvU2VydmljZSIsImdldFNvbG9UcmFja3MiLCJzb2xvU3ZjIiwic29sb1RyYWNrcyIsInNvbG9UcmFja0F1ZGlvIiwiaW5zdHJ1bWVudF9pZCIsImluc3RydW1lbnRzIiwiaW5zdFN2YyIsImJhbmRUcmFja0lkQXJyYXkiLCJnZXRUcmFja0lkQXJyYXkiLCJ0cmFja0FycmF5Q291bnQiLCJnZXRUcmFja0FycmF5Q291bnQiLCJhZGRUb0JhbmQiLCJhZGRUb1RyYWNrQXJyYXkiLCJyZW1vdmVGcm9tQmFuZCIsInJlbW92ZUZyb21UcmFja0FycmF5IiwiVXBsb2FkIiwiYXJ0aXN0U2VydmljZSIsInVwbG9hZGVkIiwic2hvd2Zvcm0iLCJpbnN0cnVtZW50U3ZjIiwiZ2V0SW5zdHJ1bWVudHMiLCJhcnRpc3RzIiwiYXJ0aXN0U3ZjIiwiZ2V0QXJ0aXN0cyIsImdldENvb2tpZSIsImNuYW1lIiwiZGVjb2RlZENvb2tpZSIsImRlY29kZVVSSUNvbXBvbmVudCIsImNvb2tpZSIsImNhIiwic3BsaXQiLCJjIiwiY2hhckF0Iiwic3Vic3RyaW5nIiwiaW5kZXhPZiIsInVwbG9hZEZpbGUiLCJmaWxlIiwidXBsb2FkIiwiZmlsZUZvcm1EYXRhTmFtZSIsInNlbmRGaWVsZHNBcyIsInNvbmciLCJyZXNwIiwiZmlsZW5hbWUiLCJ0cmFja2xlbmd0aCIsIiQiLCJtYXRlcmlhbF9zZWxlY3QiLCJ1c2VyX2lkIiwiSlNPTiIsInBhcnNlIiwidXNlcklkIiwidHJhY2tfbGVuZ3RoIiwiaW5zdHJ1bWVudHNkcm9wZG93biIsImFydGlzdF9pZCIsImFydGlzdHNkcm9wZG93biIsImluc2VydFRyYWNrIiwibGlzdCIsInJldHVyblZhbHVlIiwiaW5kZXgiLCJzZXJ2aWNlIiwiJGh0dHAiLCJnZXREYXRhIiwib3B0aW9ucyIsImdldCIsInN2YyIsIiRhdXRoIiwiJHJvb3RTY29wZSIsIiRjb29raWVzIiwiJHN0YXRlIiwibG9naW4iLCJ0b2tlbiIsImV4cGlyYXRpb25UaW1lIiwiRGF0ZSIsInNldFRpbWUiLCJnZXRUaW1lIiwidXNlckRhdGEiLCJ1c2VyIiwicHV0T2JqZWN0IiwiZXhwaXJlcyIsImlzTG9nZ2VkSW4iLCJpc0FkbWluIiwiY3JlZGVudGlhbHMiLCJsb2dvdXQiLCJyZW1vdmUiLCJnbyIsInJlZ2lzdGVyIiwicG9zdCIsImluY3JlbWVudFRyYWNrQXJyYXlDb3VudCIsImRlY3JlbWVudFRyYWNrQXJyYXlDb3VudCIsImFkZFRvVHJhY2tJZEFycmF5IiwidHJhY2tJZEFycmF5IiwicmVtb3ZlRnJvbVRyYWNrSWRBcnJheSIsInNwbGljZSIsImFycmF5T2JqZWN0SW5kZXhPZiIsInRlc3RGdW5jdGlvbiIsImFsZXJ0IiwiY3JlYXRlU29sb0ZpbHRlckRhdGEiLCJjcmVhdGVNZXJnZWRGaWx0ZXJEYXRhIiwidmFsdWUiLCJnZXRUcmFja0J5SWQiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInJlcGxhY2UiLCJzY29wZSIsImNvbnRyb2xsZXJBcyIsImF1dGhTZXJ2aWNlIiwiaXNBdXRoZW50aWNhdGVkIiwiYXV0aFN2YyIsInNob3dMb2dpbiIsIm1vZGFsIiwic2hvd1JlZ2lzdGVyIiwicGFzc3dvcmQiLCJ1bnJlZ2lzdGVyIiwic2lnbnVwIiwicmVzcG9uc2UiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUlBLEtBQU1DLFFBQVFDLE9BQU8sT0FDdkIsWUFDQSxhQUNBLFlBQ0EsaUJDSkVDLFVBQWEsV0FFaEIsR0FBSUQsS0FJSixPQUZBQSxHQUFPRSxhQUFlLHdDQUVmRixJQ05SRixLQUFJSyxRQUFBLGlCQUFBLHFCQUFBLGdCQUFPLFNBQVNDLEVBQWdCQyxFQUFvQkMsR0FDdERBLEVBQWNDLFNBQWNOLFVBQVVDLGFBQWUsU0FDckRJLEVBQWNFLFVBQWNQLFVBQVVDLGFBQWUsWUFDckRHLEVBQW1CSSxVQUFVLEtBRTdCTCxFQUNHTSxNQUFNLFFBQ0xDLElBQUssSUFDTEMsWUFBYSxzQkFDYkMsV0FBWSwyQkFFZEgsTUFBTSxRQUNKQyxJQUFLLFFBQ0xDLFlB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LE1BQU1PLEVBR2QsSUFBSW9DLEdBQWE3SyxFQUFPd0IsT0FDdkIsV0FBYyxNQUFPZ0osR0FBUTVCLFlBQzdCLFdBRUk0QixFQUFRNUIsYUFFVjFMLEVBQUd1RyxTQUFVLEVBQ1BpRCxFQUFFLG1CQUFtQmdFLFFBQzNCaEUsRUFBRSxtQkFBbUJnRSxNQUFNLFNBQ3JCcEgsRUFBUU0sT0FDUmlILEtBRUpMLEVBQVE1QixjQUFlLElBRXpCdEYsRUFBUU0sT0FDRjFHLEVBQUd1RyxTQUFVLEVBQ2JvSCxPQUVMLEtBdkJML0MsU0F5Qk8sU0FBU2lELEdBRWJ6SCxFQUFRTSxPQUNSMUcsRUFBR3VHLFNBQVUsRUFDWjlFLFFBQVFDLElBQUltTSIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIsIFtcclxuXHRcdFwidWkucm91dGVyXCIsXHJcblx0XHRcInNhdGVsbGl6ZXJcIixcclxuXHRcdFwibmdDb29raWVzXCIsXHJcblx0XHRcIm5nRmlsZVVwbG9hZFwiXHJcblx0XSk7IiwidmFyIENPTlNUQU5UUyA9IChmdW5jdGlvbiAoKSB7XHJcblx0XHJcblx0dmFyIG1vZHVsZSA9IHt9O1xyXG5cclxuXHRtb2R1bGUuQVBJX0JBU0VfVVJMID0gXCJodHRwOi8vZGlzY292ZXJiYW5kYXBpLmludC9wdWJsaWMvYXBpXCI7XHJcblxyXG5cdHJldHVybiBtb2R1bGU7XHJcbn0oKSk7IiwiYXBwLmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkYXV0aFByb3ZpZGVyKSB7XHJcbiAgJGF1dGhQcm92aWRlci5sb2dpblVybCAgICA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyAnL2xvZ2luJztcclxuICAkYXV0aFByb3ZpZGVyLnNpZ251cFVybCAgID0gQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArICcvcmVnaXN0ZXInO1xyXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoXCIvXCIpO1xyXG5cclxuICAkc3RhdGVQcm92aWRlclxyXG4gICAgLnN0YXRlKCdob21lJywge1xyXG4gICAgICB1cmw6IFwiL1wiLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogXCJhcHAvcGFnZXMvaG9tZS5odG1sXCIsXHJcbiAgICAgIGNvbnRyb2xsZXI6IFwiaG9tZUNvbnRyb2xsZXIgYXMgaG9tZVwiXHJcbiAgICB9KVxyXG4gIFx0LnN0YXRlKCdzb2xvJywge1xyXG4gICAgICB1cmw6IFwiL3NvbG9cIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL3NvbG8uaHRtbFwiLFxyXG4gICAgICBjb250cm9sbGVyOiBcInNvbG9Db250cm9sbGVyIGFzIHNvbG9cIlxyXG4gICAgfSlcclxuICAgIC5zdGF0ZSgnbWVyZ2VkJywge1xyXG4gICAgICB1cmw6IFwiL21lcmdlZFwiLFxyXG4gICAgICB0ZW1wbGF0ZVVybDogXCJhcHAvcGFnZXMvbWVyZ2VkLmh0bWxcIixcclxuICAgICAgY29udHJvbGxlcjogXCJtZXJnZWRDb250cm9sbGVyIGFzIG1lcmdlZFwiXHJcbiAgICB9KVxyXG4gICAgLnN0YXRlKCdiYW5kJywge1xyXG4gICAgICB1cmw6IFwiL2JhbmRcIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL2JhbmQuaHRtbFwiLFxyXG4gICAgICBjb250cm9sbGVyOiBcImJhbmRDb250cm9sbGVyIGFzIGJhbmRcIlxyXG4gICAgfSlcclxuICAgIC5zdGF0ZSgnbWVyZ2UnLCB7XHJcbiAgICAgIHVybDogXCIvbWVyZ2VcIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL21lcmdlLmh0bWxcIixcclxuICAgICAgY29udHJvbGxlcjogXCJtZXJnZUNvbnRyb2xsZXIgYXMgbWVyZ2VcIlxyXG4gICAgfSlcclxuICAgIC5zdGF0ZSgncHJvZmlsZScsIHtcclxuICAgICAgdXJsOiBcIi9wcm9maWxlXCIsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wYWdlcy9wcm9maWxlLmh0bWxcIixcclxuICAgICAgY29udHJvbGxlcjogXCJwcm9maWxlQ29udHJvbGxlciBhcyBwcm9maWxlXCJcclxuICAgIH0pXHJcbiAgICAuc3RhdGUoJ3VwbG9hZCcsIHtcclxuICAgICAgdXJsOiBcIi91cGxvYWRcIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL3VwbG9hZC5odG1sXCIsXHJcbiAgICAgIGNvbnRyb2xsZXI6IFwidXBsb2FkQ29udHJvbGxlciBhcyB1cGxvYWRcIlxyXG4gICAgfSlcclxufSk7IiwiYXBwLmNvbnRyb2xsZXIoXCJiYW5kQ29udHJvbGxlclwiLCBmdW5jdGlvbihiYW5kU2VydmljZSkge1xyXG5cdFxyXG5cdHZhciB2bSBcdFx0PSB0aGlzO1xyXG5cdHZhciBiYW5kU3ZjID0gYmFuZFNlcnZpY2U7XHJcblxyXG5cdGZ1bmN0aW9uIF9pbml0KCkge1xyXG5cdFx0dm0udHJhY2tBcnJheSA9IGJhbmRTdmMuZ2V0VHJhY2tBcnJheTtcclxuXHR9XHJcblxyXG5cdF9pbml0KCk7XHJcbn0pOyIsImFwcC5jb250cm9sbGVyKFwiaG9tZUNvbnRyb2xsZXJcIiwgZnVuY3Rpb24oaW5zdHJ1bWVudFNlcnZpY2UsIGZpbHRlclNlcnZpY2UpIHtcclxuXHRcclxuXHR2YXIgdm0gPSB0aGlzO1xyXG5cdHZhciBpbnN0U3ZjID0gaW5zdHJ1bWVudFNlcnZpY2U7XHJcblx0dmFyIGZsdFN2YyA9IGZpbHRlclNlcnZpY2U7XHJcblxyXG5cdGZ1bmN0aW9uIF9pbml0KCkge1xyXG5cdFx0Ly9pbnN0U3ZjLmdldEluc3RydW1lbnRzKCk7XHJcblxyXG5cdFx0dm0uZmlsdGVyRGF0YSA9IGZsdFN2Yy5zb2xvRmlsdGVyRGF0YTtcclxuXHR9XHJcblxyXG5cdF9pbml0KCk7XHJcbn0pOyIsImFwcC5jb250cm9sbGVyKFwibWVyZ2VDb250cm9sbGVyXCIsIGZ1bmN0aW9uKGJhbmRTZXJ2aWNlLCBtZXJnZWRTZXJ2aWNlKSB7XHJcblx0dmFyIHZtIFx0XHRcdD0gdGhpcztcclxuXHR2YXIgYmFuZFN2YyBcdD0gYmFuZFNlcnZpY2U7XHJcblx0dmFyIG1lcmdlZFN2YyBcdD0gbWVyZ2VkU2VydmljZTtcclxuXHR2YXIgd2F2ZXN1cmZlciBcdD0gW107XHJcblxyXG5cdGZ1bmN0aW9uIF9pbml0KCkge1xyXG5cdFx0dm0udHJhY2tzIFx0XHRcdD0gYmFuZFN2Yy5nZXRUcmFja0FycmF5KCk7XHJcblx0XHR2bS50aGVyZUFyZVRyYWNrcyBcdD0gZmFsc2U7XHJcblx0XHR2bS5zaG93VHJhY2tzIFx0XHQ9IGZhbHNlO1xyXG5cdFx0dm0ubG9hZGVkVHJhY2tzIFx0PSBbXTtcclxuXHJcblx0XHRpZih2bS50cmFja3MubGVuZ3RoID4gMCkgXHJcblx0XHR7XHJcblx0XHRcdHZtLnRoZXJlQXJlVHJhY2tzID0gdHJ1ZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZtLmxvYWQgPSBmdW5jdGlvbigpIHtcclxuXHRcdGlmKHZtLnRoZXJlQXJlVHJhY2tzKVxyXG5cdFx0e1xyXG5cdFx0XHRmb3IgKHZhciBpID0gdm0udHJhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdFx0dmFyIHRyYWNrX2lkID0gdm0udHJhY2tzW2ldLmlkO1xyXG5cclxuXHRcdFx0XHRpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0cmFja19pZCkuY2hlY2tlZCkgXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ0lEOiAnICsgdHJhY2tfaWQpO1xyXG5cdFx0XHRcdFx0d2F2ZXN1cmZlclt0cmFja19pZF0gPSBXYXZlU3VyZmVyLmNyZWF0ZSh7XHJcblx0XHRcdCAgICBcdFx0Y29udGFpbmVyOiAnI3dhdmVmb3JtJyt0cmFja19pZCxcclxuXHRcdFx0ICAgIFx0XHR3YXZlQ29sb3I6ICdncmVlbicsXHJcblx0XHRcdCAgICBcdFx0cHJvZ3Jlc3NDb2xvcjogJ3B1cnBsZSdcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdHdhdmVzdXJmZXJbdHJhY2tfaWRdLmxvYWQoJ2h0dHA6Ly9kaXNjb3ZlcmJhbmRhcGkuaW50L3B1YmxpYy9hcGkvYXVkaW8vJyArIHZtLnRyYWNrc1tpXS5maWxlX3VybCk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHZtLmxvYWRlZFRyYWNrcy5wdXNoKHtcclxuXHRcdFx0ICAgICAgICAgICAgXHR0cmFja19pZDogdHJhY2tfaWQsXHJcblx0XHRcdCAgICAgICAgICAgIFx0dHJpbV9hbW91bnQ6IDBcclxuXHRcdFx0ICAgICAgICB9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dm0uc2hvd1RyYWNrcyA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRjb25zb2xlLmxvZyh2bS5sb2FkZWRUcmFja3MpO1xyXG5cdH1cclxuXHJcblx0dm0ucGxheVBhdXNlID0gZnVuY3Rpb24oaWQpIHtcclxuXHRcdGNvbnNvbGUubG9nKGlkKTtcclxuXHRcdHdhdmVzdXJmZXJbaWRdLnBsYXlQYXVzZSgpO1xyXG5cdFx0d2F2ZXN1cmZlcltpZF0uem9vbSg1MCk7XHJcblx0fVxyXG5cclxuXHR2bS50cmltID0gZnVuY3Rpb24oaWQpIHtcclxuXHRcdHZhciB0aW1lVG9UcmltID0gd2F2ZXN1cmZlcltpZF0uZ2V0Q3VycmVudFRpbWUoKTtcclxuXHRcdGZvciAodmFyIGkgPSB2bS5sb2FkZWRUcmFja3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuXHRcdFx0aWYodm0ubG9hZGVkVHJhY2tzW2ldLnRyYWNrX2lkID09PSBpZClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHZtLmxvYWRlZFRyYWNrc1tpXS50cmltX2Ftb3VudCA9IHRpbWVUb1RyaW07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHR2bS5wbGF5UGF1c2VBbGwgPSBmdW5jdGlvbigpIHtcclxuXHRcdGZvciAodmFyIGkgPSB2bS5sb2FkZWRUcmFja3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuXHRcdFx0dmFyIGlkID0gdm0ubG9hZGVkVHJhY2tzW2ldO1xyXG4gICAgXHRcdHdhdmVzdXJmZXJbaWRdLnBsYXlQYXVzZSgpO1xyXG4gICAgXHRcdHdhdmVzdXJmZXJbaWRdLnpvb20oNTApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0XHJcblx0dm0uc2F2ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0bWVyZ2VkU3ZjLm1lcmdlVHJhY2tzKHZtLmxvYWRlZFRyYWNrcylcclxuXHRcdC50aGVuKGZ1bmN0aW9uKGRhdGEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG5cdH1cclxuXHJcblx0X2luaXQoKTtcclxufSk7IiwiYXBwLmNvbnRyb2xsZXIoXCJtZXJnZWRDb250cm9sbGVyXCIsIGZ1bmN0aW9uKCRzY29wZSwgbWVyZ2VkU2VydmljZSwgZmlsdGVyU2VydmljZSkge1xyXG5cdFxyXG5cdHZhciB2bSAgXHRcdD0gdGhpcztcclxuXHR2YXIgbWdkU3ZjIFx0XHQ9IG1lcmdlZFNlcnZpY2U7XHJcblx0dmFyIGZsdFN2YyBcdFx0PSBmaWx0ZXJTZXJ2aWNlO1xyXG5cclxuXHQvL1ByaXZhdGUgZnVuY3Rpb25zXHJcblx0ZnVuY3Rpb24gcGxheUF1ZGlvRmlsZSh0cmFjaylcclxuXHR7XHJcblx0XHR0cmFjay5wbGF5KCk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBnZXRNZXJnZWRUcmFja3MoKSB7XHJcblx0XHRtZXJnZWRTZXJ2aWNlLmdldFRyYWNrcygpXHJcblx0XHRcdC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHR2bS5tZXJnZWRUcmFja3MgPSBkYXRhLmRhdGE7XHJcblx0XHRcdFx0dm0uZmlsdGVyZWRUcmFja3MgPSB2bS5tZXJnZWRUcmFja3M7XHJcblx0XHRcdFx0ZmlsdGVyKCk7XHJcblxyXG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaCh2bS5tZXJnZWRUcmFja3MsIGZ1bmN0aW9uKHRyYWNrLCBrZXkpIHtcclxuXHRcdFx0XHRcdFx0Ly9uZXdUcmFjayA9IG5ldyBBdWRpbyh0cmFjay5maWxlX3VybCk7XHJcblx0XHRcdFx0XHRcdG5ld1RyYWNrID0gbmV3IEF1ZGlvKFwiZGlzdC9hdWRpby9CZWhlbW90aCAtIENvbnF1ZXIgQWxsIC0gRHJ1bS5tcDNcIik7XHJcblx0XHRcdFx0XHRcdHZtLm1lcmdlZFRyYWNrQXVkaW9bdHJhY2suaWRdID0gbmV3VHJhY2s7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSwgZnVuY3Rpb24oZXJyb3IpIHtcclxuXHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGZpbHRlcigpIHtcclxuXHRcdFxyXG5cdFx0dm0uZmlsdGVyZWRUcmFja3MgPSBbXTtcclxuXHJcblx0XHRhbmd1bGFyLmZvckVhY2godm0ubWVyZ2VkVHJhY2tzLCBmdW5jdGlvbih0cmFjaywga2V5KSB7XHJcblxyXG5cdFx0XHRnb29kU2VhcmNoID0gdHJ1ZTtcclxuXHJcblx0XHRcdGlmKCF2bS5maWx0ZXJEYXRhLmFydGlzdCA9PSBcIlwiICYmICF0cmFjay5hcnRpc3QubmFtZS5tYXRjaChuZXcgUmVnRXhwKHZtLmZpbHRlckRhdGEuYXJ0aXN0LCBcImlcIikpKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Z29vZFNlYXJjaCA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZighdm0uZmlsdGVyRGF0YS50aXRsZSA9PSBcIlwiICYmICF0cmFjay5zb25nbmFtZS5tYXRjaChuZXcgUmVnRXhwKHZtLmZpbHRlckRhdGEudGl0bGUsIFwiaVwiKSkpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRnb29kU2VhcmNoID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRpZihnb29kU2VhcmNoKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dm0uZmlsdGVyZWRUcmFja3MucHVzaCh0cmFjayk7XHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdHZtLm1lcmdlZFRyYWNrQXVkaW8gPSBbXTtcclxuXHRcdHZtLmN1cnJlbnRBdWRpb1RyYWNrSWQgPSBcIlwiO1xyXG5cclxuXHRcdGdldE1lcmdlZFRyYWNrcygpO1xyXG5cdFx0dm0uZmlsdGVyRGF0YSA9IGZsdFN2Yy5tZXJnZWRGaWx0ZXJEYXRhO1xyXG5cdH1cclxuXHJcblx0Ly9WbSBmdW5jdGlvbnNcclxuXHR2bS5wbGF5ID0gZnVuY3Rpb24odHJhY2tJZCkge1xyXG5cclxuXHRcdGlmKHZtLmN1cnJlbnRBdWRpb1RyYWNrSWQgIT0gXCJcIikge1xyXG5cdFx0XHR2bS5wYXVzZSh2bS5jdXJyZW50QXVkaW9UcmFja0lkKTtcclxuXHRcdH1cclxuXHJcblx0XHR2bS5jdXJyZW50QXVkaW9UcmFja0lkID0gdHJhY2tJZDtcclxuXHRcdHZtLm1lcmdlZFRyYWNrQXVkaW9bdHJhY2tJZF0ucGxheSgpO1xyXG5cdH1cclxuXHJcblx0dm0ucGF1c2UgPSBmdW5jdGlvbih0cmFja0lkKSB7XHJcblx0XHR2bS5tZXJnZWRUcmFja0F1ZGlvW3RyYWNrSWRdLnBhdXNlKCk7XHJcblx0XHR2bS5jdXJyZW50QXVkaW9UcmFja0lkID0gXCJcIjtcclxuXHR9XHJcblxyXG5cdC8vV2F0Y2hlc1xyXG5cdCRzY29wZS4kd2F0Y2goXHJcblx0XHRmdW5jdGlvbiAoKSB7IHJldHVybiB2bS5maWx0ZXJEYXRhIH0sIFxyXG5cdFx0ZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdFx0aWYodm0uZmlsdGVyRGF0YSkgXHJcblx0XHRcdHtcclxuXHRcdFx0XHRmaWx0ZXIoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSwgdHJ1ZSk7XHJcblxyXG5cclxuXHJcblx0dm0udHJhY2sxID0gbmV3IEF1ZGlvKFwiZGlzdC9hdWRpby9CZWhlbW90aCAtIENvbnF1ZXIgQWxsIC0gRHJ1bS5tcDNcIik7XHJcblx0dm0udHJhY2syID0gbmV3IEF1ZGlvKFwiZGlzdC9hdWRpby9CZWhlbW90aCAtIENvbnF1ZXIgQWxsIC0gR3VpdGFyLm1wM1wiKTtcclxuXHJcblxyXG5cdF9pbml0KCk7XHJcbn0pOyIsImFwcC5jb250cm9sbGVyKFwicHJvZmlsZUNvbnRyb2xsZXJcIiwgZnVuY3Rpb24odXNlclNlcnZpY2UpIHtcclxuXHRcclxuXHR2YXIgdm0gXHRcdD0gdGhpcztcclxuXHR2YXIgdXNlclN2YyA9IHVzZXJTZXJ2aWNlO1xyXG5cdHZhciB0YXJnZXQgXHQ9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGRhdGUtcHJvZmlsZS1zcGlubmVyJyk7XHJcblxyXG5cdHZhciBvcHRzID0ge1xyXG5cdFx0XHRsaW5lczogMTMgLy8gVGhlIG51bWJlciBvZiBsaW5lcyB0byBkcmF3XHJcblx0XHQsIGxlbmd0aDogMjggLy8gVGhlIGxlbmd0aCBvZiBlYWNoIGxpbmVcclxuXHRcdCwgd2lkdGg6IDEyIC8vIFRoZSBsaW5lIHRoaWNrbmVzc1xyXG5cdFx0LCByYWRpdXM6IDQyIC8vIFRoZSByYWRpdXMgb2YgdGhlIGlubmVyIGNpcmNsZVxyXG5cdFx0LCBzY2FsZTogMC4xNSAvLyBTY2FsZXMgb3ZlcmFsbCBzaXplIG9mIHRoZSBzcGlubmVyXHJcblx0XHQsIGNvcm5lcnM6IDEgLy8gQ29ybmVyIHJvdW5kbmVzcyAoMC4uMSlcclxuXHRcdCwgY29sb3I6ICcjMDAwJyAvLyAjcmdiIG9yICNycmdnYmIgb3IgYXJyYXkgb2YgY29sb3JzXHJcblx0XHQsIG9wYWNpdHk6IDAuMjUgLy8gT3BhY2l0eSBvZiB0aGUgbGluZXNcclxuXHRcdCwgcm90YXRlOiAwIC8vIFRoZSByb3RhdGlvbiBvZmZzZXRcclxuXHRcdCwgZGlyZWN0aW9uOiAxIC8vIDE6IGNsb2Nrd2lzZSwgLTE6IGNvdW50ZXJjbG9ja3dpc2VcclxuXHRcdCwgc3BlZWQ6IDEgLy8gUm91bmRzIHBlciBzZWNvbmRcclxuXHRcdCwgdHJhaWw6IDYwIC8vIEFmdGVyZ2xvdyBwZXJjZW50YWdlXHJcblx0XHQsIGZwczogMjAgLy8gRnJhbWVzIHBlciBzZWNvbmQgd2hlbiB1c2luZyBzZXRUaW1lb3V0KCkgYXMgYSBmYWxsYmFjayBmb3IgQ1NTXHJcblx0XHQsIHpJbmRleDogMmU5IC8vIFRoZSB6LWluZGV4IChkZWZhdWx0cyB0byAyMDAwMDAwMDAwKVxyXG5cdFx0LCBjbGFzc05hbWU6ICdzcGlubmVyJyAvLyBUaGUgQ1NTIGNsYXNzIHRvIGFzc2lnbiB0byB0aGUgc3Bpbm5lclxyXG5cdFx0LCB0b3A6ICc4OSUnIC8vIFRvcCBwb3NpdGlvbiByZWxhdGl2ZSB0byBwYXJlbnRcclxuXHRcdCwgbGVmdDogJzI1LjUlJyAvLyBMZWZ0IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG5cdFx0LCBzaGFkb3c6IGZhbHNlIC8vIFdoZXRoZXIgdG8gcmVuZGVyIGEgc2hhZG93XHJcblx0XHQsIGh3YWNjZWw6IGZhbHNlIC8vIFdoZXRoZXIgdG8gdXNlIGhhcmR3YXJlIGFjY2VsZXJhdGlvblxyXG5cdFx0LCBwb3NpdGlvbjogJ2Fic29sdXRlJyAvLyBFbGVtZW50IHBvc2l0aW9uaW5nXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdHVzZXJTdmMuZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuXHRcdFx0dm0udXNlcm5hbWUgPSBkYXRhLmRhdGEudXNlcm5hbWU7XHJcblx0XHRcdHZtLmVtYWlsIFx0PSBkYXRhLmRhdGEuZW1haWw7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHZtLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHNwaW5uZXIgPSBuZXcgU3Bpbm5lcihvcHRzKS5zcGluKHRhcmdldCk7XHJcblx0ICAgIHZtLmxvYWRpbmcgXHQ9IHRydWU7XHJcblxyXG5cdFx0dmFyIHVzZXJpbmZvID0ge1xyXG4gICAgICAgICAgICB1c2VybmFtZTogdm0udXNlcm5hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiB2bS5lbWFpbFxyXG4gICAgICAgIH1cclxuXHJcblx0XHR1c2VyU3ZjLnVwZGF0ZVVzZXIodXNlcmluZm8pXHJcblx0XHRcdC50aGVuKGZ1bmN0aW9uKGRhdGEpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRzcGlubmVyLnN0b3AoKTtcclxuXHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdH0sIGZ1bmN0aW9uKGVycm9yKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0c3Bpbm5lci5zdG9wKCk7XHJcblx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdF9pbml0KCk7XHJcbn0pOyIsImFwcC5jb250cm9sbGVyKFwic29sb0NvbnRyb2xsZXJcIiwgZnVuY3Rpb24oJHNjb3BlLCBiYW5kU2VydmljZSwgc29sb1NlcnZpY2UsIGluc3RydW1lbnRTZXJ2aWNlLCBmaWx0ZXJTZXJ2aWNlKSB7XHJcblx0XHJcblx0dmFyIHZtID0gdGhpcztcclxuXHR2YXIgYmFuZFN2YyA9IGJhbmRTZXJ2aWNlO1xyXG5cdHZhciBzb2xvU3ZjID0gc29sb1NlcnZpY2U7XHJcblx0dmFyIGluc3RTdmMgPSBpbnN0cnVtZW50U2VydmljZTtcclxuXHR2YXIgZmx0U3ZjID0gZmlsdGVyU2VydmljZTtcclxuXHJcblx0Ly9Qcml2YXRlIGZ1bmN0aW9uc1xyXG5cdGZ1bmN0aW9uIHBsYXlBdWRpb0ZpbGUodHJhY2spXHJcblx0e1xyXG5cdFx0dHJhY2sucGxheSgpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZ2V0U29sb1RyYWNrcygpXHJcblx0e1xyXG5cdFx0c29sb1N2Yy5nZXRUcmFja3MoKVxyXG5cdFx0XHQudGhlbihmdW5jdGlvbihkYXRhKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dm0uc29sb1RyYWNrcyA9IGRhdGEuZGF0YTtcclxuXHRcdFx0XHR2bS5maWx0ZXJlZFRyYWNrcyA9IHZtLnNvbG9UcmFja3M7XHJcblx0XHRcdFx0ZmlsdGVyKCk7XHJcblxyXG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaCh2bS5zb2xvVHJhY2tzLCBmdW5jdGlvbih0cmFjaywga2V5KSB7XHJcblx0XHRcdFx0XHRcdC8vbmV3VHJhY2sgPSBuZXcgQXVkaW8odHJhY2suZmlsZV91cmwpO1xyXG5cdFx0XHRcdFx0XHRuZXdUcmFjayA9IG5ldyBBdWRpbygnaHR0cDovL2Rpc2NvdmVyYmFuZGFwaS5pbnQvcHVibGljL2F1ZGlvLycgKyB0cmFjay5maWxlX3VybCk7XHJcblx0XHRcdFx0XHRcdHZtLnNvbG9UcmFja0F1ZGlvW3RyYWNrLmlkXSA9IG5ld1RyYWNrO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHR9LCBmdW5jdGlvbihlcnJvcilcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBmaWx0ZXIoKVxyXG5cdHtcclxuXHRcdHZtLmZpbHRlcmVkVHJhY2tzID0gW107XHJcblxyXG5cdFx0YW5ndWxhci5mb3JFYWNoKHZtLnNvbG9UcmFja3MsIGZ1bmN0aW9uKHRyYWNrLCBrZXkpXHJcblx0XHR7XHJcblx0XHRcdC8vY29uc29sZS5sb2codHJhY2spO1xyXG5cdFx0XHRnb29kU2VhcmNoID0gdHJ1ZTtcclxuXHJcblx0XHRcdGlmKCF2bS5maWx0ZXJEYXRhLmFydGlzdCA9PSBcIlwiICYmICF0cmFjay5hcnRpc3QubmFtZS5tYXRjaChuZXcgUmVnRXhwKHZtLmZpbHRlckRhdGEuYXJ0aXN0LCBcImlcIikpKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Z29vZFNlYXJjaCA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZighdm0uZmlsdGVyRGF0YS50aXRsZSA9PSBcIlwiICYmICF0cmFjay5zb25nbmFtZS5tYXRjaChuZXcgUmVnRXhwKHZtLmZpbHRlckRhdGEudGl0bGUsIFwiaVwiKSkpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRnb29kU2VhcmNoID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKCF2bS5maWx0ZXJEYXRhW3RyYWNrLmluc3RydW1lbnRfaWRdKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Z29vZFNlYXJjaCA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0aWYoZ29vZFNlYXJjaClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHZtLmZpbHRlcmVkVHJhY2tzLnB1c2godHJhY2spO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vY29uc29sZS5sb2codm0uZmlsdGVyZWRUcmFja3MpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKmZ1bmN0aW9uIGFycmF5T2JqZWN0SW5kZXhPZihteUFycmF5LCBzZWFyY2hUZXJtLCBwcm9wZXJ0eSkge1xyXG4gICAgXHRcclxuICAgIFx0Zm9yKHZhciBpID0gMCwgbGVuID0gbXlBcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIFx0aWYgKG15QXJyYXlbaV1bcHJvcGVydHldID09PSBzZWFyY2hUZXJtKSByZXR1cm4gaTtcclxuICAgIFx0fVxyXG5cclxuICAgIFx0cmV0dXJuIC0xO1xyXG5cdH0qL1xyXG5cclxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdHZtLnNvbG9UcmFja0F1ZGlvID0gW107XHJcblx0XHR2bS5jdXJyZW50QXVkaW9UcmFja0lkID0gXCJcIjtcclxuXHJcblx0XHRnZXRTb2xvVHJhY2tzKCk7XHJcblx0XHR2bS5pbnN0cnVtZW50cyA9IGluc3RTdmMuaW5zdHJ1bWVudHM7XHJcblx0XHR2bS5maWx0ZXJEYXRhID0gZmx0U3ZjLnNvbG9GaWx0ZXJEYXRhO1xyXG5cdFx0dm0udHJhY2tBcnJheSA9IGJhbmRTdmMuZ2V0VHJhY2tBcnJheTtcclxuXHRcdHZtLmJhbmRUcmFja0lkQXJyYXkgPSBiYW5kU3ZjLmdldFRyYWNrSWRBcnJheTtcclxuXHRcdHZtLnRyYWNrQXJyYXlDb3VudCA9IGJhbmRTdmMuZ2V0VHJhY2tBcnJheUNvdW50O1xyXG5cclxuXHRcdC8qYW5ndWxhci5mb3JFYWNoKGJhbmRTdmMudHJhY2tBcnJheSwgZnVuY3Rpb24odHJhY2ssIGtleSkge1xyXG5cdFx0XHR2bS5iYW5kVHJhY2tJZEFycmF5LnB1c2godHJhY2suaWQpO1xyXG5cdFx0fSk7Ki9cclxuXHJcblx0XHQvL3ZtLnRyYWNrMS5wbGF5KCk7XHJcblx0XHQvL3NldFRpbWVvdXQoZnVuY3Rpb24oKXtwbGF5QXVkaW9GaWxlKHZtLnRyYWNrMil9LCA0MDApO1xyXG5cdH1cclxuXHJcblx0Ly9WbSBmdW5jdGlvbnNcclxuXHR2bS5hZGRUb0JhbmQgPSBmdW5jdGlvbih0cmFjaykge1xyXG5cclxuXHRcdGJhbmRTdmMuYWRkVG9UcmFja0FycmF5KHRyYWNrKTtcclxuXHRcdC8qdm0uYmFuZFRyYWNrSWRBcnJheSA9IFtdO1xyXG5cclxuXHRcdGJhbmRTdmMudHJhY2tBcnJheS5wdXNoKHRyYWNrKTtcclxuXHRcdGJhbmRTdmMudHJhY2tBcnJheUNvdW50ICsrO1xyXG5cdFx0YW5ndWxhci5mb3JFYWNoKGJhbmRTdmMudHJhY2tBcnJheSwgZnVuY3Rpb24odHJhY2ssIGtleSkge1xyXG5cdFx0XHR2bS5iYW5kVHJhY2tJZEFycmF5LnB1c2godHJhY2suaWQpO1xyXG5cdFx0fSk7Ki9cclxuXHJcblx0XHRjb25zb2xlLmxvZyh0cmFjayk7XHJcblx0XHQvL2NvbnNvbGUubG9nKGJhbmRTdmMudHJhY2tBcnJheSk7XHJcblx0XHQvL2NvbnNvbGUubG9nKHZtLmJhbmRUcmFja0lkQXJyYXkpO1xyXG5cdFx0Ly9jb25zb2xlLmxvZyh2bS50cmFja0FycmF5Q291bnQoKSk7XHJcblx0XHQvL2NvbnNvbGUubG9nKHZtLmJhbmRUcmFja0lkQXJyYXkoKSk7XHJcblx0fVxyXG5cclxuXHR2bS5yZW1vdmVGcm9tQmFuZCA9IGZ1bmN0aW9uKHRyYWNrKSB7XHJcblx0XHRcclxuXHRcdGJhbmRTdmMucmVtb3ZlRnJvbVRyYWNrQXJyYXkodHJhY2spO1xyXG5cdFx0LyppbmRleCA9IGFycmF5T2JqZWN0SW5kZXhPZihiYW5kU3ZjLnRyYWNrQXJyYXksIHRyYWNrLmlkLCBcImlkXCIpO1xyXG5cdFx0aWYgKGluZGV4ID4gLTEpIHtcclxuXHRcdFx0YmFuZFN2Yy50cmFja0FycmF5LnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdGJhbmRTdmMudHJhY2tBcnJheUNvdW50IC0tO1xyXG5cdFx0XHR2bS5iYW5kVHJhY2tBcnJheSA9IGJhbmRTdmMudHJhY2tBcnJheTtcclxuXHJcblx0XHRcdGludEluZGV4ID0gdm0uYmFuZFRyYWNrSWRBcnJheS5pbmRleE9mKHRyYWNrLmlkKTtcclxuXHRcdFx0aWYgKGludEluZGV4ID4gLTEpIHtcclxuXHRcdFx0XHR2bS5iYW5kVHJhY2tJZEFycmF5LnNwbGljZShpbnRJbmRleCwgMSk7XHJcblx0XHRcdH1cclxuXHRcdH0qL1xyXG5cclxuXHRcdGNvbnNvbGUubG9nKFwiVHJhY2sgcmVtb3ZlZCBmcm9tIG5ldyBiYW5kOiBcIiArIHRyYWNrKTtcclxuXHRcdC8vY29uc29sZS5sb2coYmFuZFN2Yy50cmFja0FycmF5KTtcclxuXHR9XHJcblxyXG5cdHZtLnBsYXkgPSBmdW5jdGlvbih0cmFja0lkKSB7XHJcblxyXG5cdFx0aWYodm0uY3VycmVudEF1ZGlvVHJhY2tJZCAhPSBcIlwiKSB7XHJcblx0XHRcdHZtLnBhdXNlKHZtLmN1cnJlbnRBdWRpb1RyYWNrSWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZtLmN1cnJlbnRBdWRpb1RyYWNrSWQgPSB0cmFja0lkO1xyXG5cdFx0dm0uc29sb1RyYWNrQXVkaW9bdHJhY2tJZF0ucGxheSgpO1xyXG5cdH1cclxuXHJcblx0dm0ucGF1c2UgPSBmdW5jdGlvbih0cmFja0lkKSB7XHJcblx0XHR2bS5zb2xvVHJhY2tBdWRpb1t0cmFja0lkXS5wYXVzZSgpO1xyXG5cdFx0dm0uY3VycmVudEF1ZGlvVHJhY2tJZCA9IFwiXCI7XHJcblx0fVxyXG5cclxuXHQvL1dhdGNoZXNcclxuXHQkc2NvcGUuJHdhdGNoKFxyXG5cdFx0ZnVuY3Rpb24gKCkgeyByZXR1cm4gdm0uZmlsdGVyRGF0YSB9LCBcclxuXHRcdGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdGlmKHZtLmZpbHRlckRhdGEpIFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZmlsdGVyKCk7XHJcblx0XHRcdH1cclxuXHRcdH0sIHRydWUpO1xyXG5cclxuXHJcblxyXG5cdC8vdm0udHJhY2sxID0gbmV3IEF1ZGlvKCdodHRwOi8vZGlzY292ZXJiYW5kYXBpLmludC9wdWJsaWMvYXVkaW8vZHJ1bS53YXYnKTtcclxuXHQvL3ZtLnRyYWNrMiA9IG5ldyBBdWRpbygnaHR0cDovL2Rpc2NvdmVyYmFuZGFwaS5pbnQvcHVibGljL2F1ZGlvL2d1aXRhci53YXYnKTtcclxuXHJcblxyXG5cdF9pbml0KCk7XHJcbn0pOyIsImFwcC5jb250cm9sbGVyKFwidXBsb2FkQ29udHJvbGxlclwiLCBmdW5jdGlvbihVcGxvYWQsIGFydGlzdFNlcnZpY2UsIGluc3RydW1lbnRTZXJ2aWNlLCBzb2xvU2VydmljZSkge1xyXG4gIFxyXG4gIHZhciB2bSAgICAgICAgICAgID0gdGhpcztcclxuICB2YXIgc29sb1N2YyAgICAgICA9IHNvbG9TZXJ2aWNlO1xyXG4gIHZhciBhcnRpc3RTdmMgICAgID0gYXJ0aXN0U2VydmljZTtcclxuICB2YXIgaW5zdHJ1bWVudFN2YyA9IGluc3RydW1lbnRTZXJ2aWNlO1xyXG4gIHZhciB0YXJnZXQgICAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwbG9hZC1zcGlubmVyJyk7XHJcbiAgXHJcbiAgdmFyIG9wdHMgPSB7XHJcbiAgICAgIGxpbmVzOiAxMyAvLyBUaGUgbnVtYmVyIG9mIGxpbmVzIHRvIGRyYXdcclxuICAgICwgbGVuZ3RoOiAyOCAvLyBUaGUgbGVuZ3RoIG9mIGVhY2ggbGluZVxyXG4gICAgLCB3aWR0aDogMTIgLy8gVGhlIGxpbmUgdGhpY2tuZXNzXHJcbiAgICAsIHJhZGl1czogNDIgLy8gVGhlIHJhZGl1cyBvZiB0aGUgaW5uZXIgY2lyY2xlXHJcbiAgICAsIHNjYWxlOiAwLjMwIC8vIFNjYWxlcyBvdmVyYWxsIHNpemUgb2YgdGhlIHNwaW5uZXJcclxuICAgICwgY29ybmVyczogMSAvLyBDb3JuZXIgcm91bmRuZXNzICgwLi4xKVxyXG4gICAgLCBjb2xvcjogJyMwMDAnIC8vICNyZ2Igb3IgI3JyZ2diYiBvciBhcnJheSBvZiBjb2xvcnNcclxuICAgICwgb3BhY2l0eTogMC4yNSAvLyBPcGFjaXR5IG9mIHRoZSBsaW5lc1xyXG4gICAgLCByb3RhdGU6IDAgLy8gVGhlIHJvdGF0aW9uIG9mZnNldFxyXG4gICAgLCBkaXJlY3Rpb246IDEgLy8gMTogY2xvY2t3aXNlLCAtMTogY291bnRlcmNsb2Nrd2lzZVxyXG4gICAgLCBzcGVlZDogMSAvLyBSb3VuZHMgcGVyIHNlY29uZFxyXG4gICAgLCB0cmFpbDogNjAgLy8gQWZ0ZXJnbG93IHBlcmNlbnRhZ2VcclxuICAgICwgZnBzOiAyMCAvLyBGcmFtZXMgcGVyIHNlY29uZCB3aGVuIHVzaW5nIHNldFRpbWVvdXQoKSBhcyBhIGZhbGxiYWNrIGZvciBDU1NcclxuICAgICwgekluZGV4OiAyZTkgLy8gVGhlIHotaW5kZXggKGRlZmF1bHRzIHRvIDIwMDAwMDAwMDApXHJcbiAgICAsIGNsYXNzTmFtZTogJ3NwaW5uZXInIC8vIFRoZSBDU1MgY2xhc3MgdG8gYXNzaWduIHRvIHRoZSBzcGlubmVyXHJcbiAgICAsIHRvcDogJzQwJScgLy8gVG9wIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG4gICAgLCBsZWZ0OiAnNTAlJyAvLyBMZWZ0IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG4gICAgLCBzaGFkb3c6IGZhbHNlIC8vIFdoZXRoZXIgdG8gcmVuZGVyIGEgc2hhZG93XHJcbiAgICAsIGh3YWNjZWw6IGZhbHNlIC8vIFdoZXRoZXIgdG8gdXNlIGhhcmR3YXJlIGFjY2VsZXJhdGlvblxyXG4gICAgLCBwb3NpdGlvbjogJ2Fic29sdXRlJyAvLyBFbGVtZW50IHBvc2l0aW9uaW5nXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBfaW5pdCgpIHtcclxuICAgICAgdm0udXBsb2FkZWQgICAgICAgPSBmYWxzZTtcclxuICAgICAgdm0uc2hvd2Zvcm0gICAgICAgPSBmYWxzZTtcclxuXHJcbiAgICAgIHZtLmluc3RydW1lbnRzICAgID0gaW5zdHJ1bWVudFN2Yy5nZXRJbnN0cnVtZW50cygpXHJcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpXHJcbiAgICAgIHtcclxuICAgICAgICB2bS5pbnN0cnVtZW50cyAgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhKTtcclxuICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpXHJcbiAgICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdm0uYXJ0aXN0cyAgICAgICAgPSBhcnRpc3RTdmMuZ2V0QXJ0aXN0cygpXHJcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpXHJcbiAgICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEpO1xyXG4gICAgICAgIHZtLmFydGlzdHMgICAgICA9IGRhdGEuZGF0YTtcclxuICAgICAgXHJcbiAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKVxyXG4gICAgICB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIHZtLnVwbG9hZEZpbGUgPSBmdW5jdGlvbiAoZmlsZSkge1xyXG4gICAgICAgIHZhciBzcGlubmVyID0gbmV3IFNwaW5uZXIob3B0cykuc3Bpbih0YXJnZXQpO1xyXG4gICAgICAgIHZtLmxvYWRpbmcgID0gdHJ1ZTtcclxuICAgICAgICB2bS51cGxvYWRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgdXJsOiBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvdXBsb2FkXCIsXHJcbiAgICAgICAgICAgIGZpbGVGb3JtRGF0YU5hbWU6ICdzb25nJyxcclxuICAgICAgICAgICAgc2VuZEZpZWxkc0FzOiAnZm9ybScsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICBzb25nOiBmaWxlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XHJcbiAgICAgICAgICAgIHZtLmZpbGVuYW1lICAgICA9IHJlc3AuZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICB2bS50cmFja2xlbmd0aCAgPSByZXNwLmRhdGEubGVuZ3RoO1xyXG4gICAgICAgICAgICBzcGlubmVyLnN0b3AoKTtcclxuICAgICAgICAgICAgdm0ubG9hZGluZyAgICAgID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZtLnVwbG9hZGVkICAgICA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIGZvcm1cclxuICAgICAgICAgICAgdm0uc2hvd2Zvcm0gICAgID0gdHJ1ZTtcclxuICAgICAgICAgICAgJCgnc2VsZWN0JykubWF0ZXJpYWxfc2VsZWN0KCk7XHJcbiAgICAgICAgfSwgXHJcbiAgICAgICAgZnVuY3Rpb24gKHJlc3ApIHtcclxuICAgICAgICAgICAgdm0ubG9hZGluZyAgPSBmYWxzZTtcclxuICAgICAgICAgICAgc3Bpbm5lci5zdG9wKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvcicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5zYXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgdXNlcl9pZCA9IEpTT04ucGFyc2UoZ2V0Q29va2llKCd1c2VyJykpLnVzZXJJZDtcclxuICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IHZtLnNvbmduYW1lLFxyXG4gICAgICAgICAgICBmaWxlX3VybDogdm0uZmlsZW5hbWUsXHJcbiAgICAgICAgICAgIHRyYWNrX2xlbmd0aDogdm0udHJhY2tsZW5ndGgsXHJcbiAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJfaWQsXHJcbiAgICAgICAgICAgIGluc3RydW1lbnRfaWQ6IHZtLmluc3RydW1lbnRzZHJvcGRvd24sXHJcbiAgICAgICAgICAgIGFydGlzdF9pZCA6IHZtLmFydGlzdHNkcm9wZG93blxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIHNvbG9TdmMuaW5zZXJ0VHJhY2soZGF0YSlcclxuICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRDb29raWUoY25hbWUpIHtcclxuICAgICAgICAgIHZhciBuYW1lID0gY25hbWUgKyBcIj1cIjtcclxuICAgICAgICAgIHZhciBkZWNvZGVkQ29va2llID0gZGVjb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LmNvb2tpZSk7XHJcbiAgICAgICAgICB2YXIgY2EgPSBkZWNvZGVkQ29va2llLnNwbGl0KCc7Jyk7XHJcbiAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDxjYS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgIHZhciBjID0gY2FbaV07XHJcbiAgICAgICAgICAgICAgd2hpbGUgKGMuY2hhckF0KDApID09ICcgJykge1xyXG4gICAgICAgICAgICAgICAgICBjID0gYy5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmIChjLmluZGV4T2YobmFtZSkgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gYy5zdWJzdHJpbmcobmFtZS5sZW5ndGgsIGMubGVuZ3RoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgfVxyXG4gIF9pbml0KCk7XHJcbn0pOyIsImFwcC5maWx0ZXIoXCJiYW5kXCIsIGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiBmdW5jdGlvbih0cmFja0lkLCBsaXN0KSB7XHJcblx0XHR2YXIgcmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuXHRcdFxyXG5cdFx0YW5ndWxhci5mb3JFYWNoKGxpc3QsIGZ1bmN0aW9uKGlkLCBpbmRleCkge1xyXG5cdFx0XHRpZihpZCA9PSB0cmFja0lkKSB7XHJcblx0XHRcdFx0cmV0dXJuVmFsdWUgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiByZXR1cm5WYWx1ZTtcclxuXHR9XHJcbn0pOyIsImFwcC5zZXJ2aWNlKFwiYXJ0aXN0U2VydmljZVwiLCBmdW5jdGlvbigkaHR0cCkge1xyXG5cdFxyXG5cdC8vR2xvYmFsc1xyXG5cdHZhciBzdmMgXHRcdFx0PSB0aGlzO1xyXG5cclxuXHQvL1ByaXZhdGUgZnVuY3Rpb25zXHJcblx0ZnVuY3Rpb24gZ2V0RGF0YSAodXJsLCBvcHRpb25zKSB7XHJcblxyXG5cdFx0IW9wdGlvbnMgPyBvcHRpb25zID0ge30gOiBcIlwiO1xyXG5cclxuXHRcdHJldHVybiAkaHR0cC5nZXQodXJsLCBvcHRpb25zKVxyXG5cdH1cclxuXHJcblx0Ly9TdmMgZnVuY3Rpb25zXHJcblx0c3ZjLmdldEFydGlzdHMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi9hcnRpc3RzXCI7XHJcblx0XHRcclxuXHRcdHJldHVybiBnZXREYXRhKHVybCk7XHJcblx0fVxyXG59KSIsImFwcC5zZXJ2aWNlKFwiYXV0aFNlcnZpY2VcIiwgZnVuY3Rpb24gKCRhdXRoLCAkcm9vdFNjb3BlLCAkY29va2llcywgJHN0YXRlLCB1c2VyU2VydmljZSkge1xyXG5cdFxyXG5cdHZhciBzdmMgXHRcdD0gdGhpcztcclxuXHR2YXIgdXNlclN2YyBcdD0gdXNlclNlcnZpY2U7XHJcblxyXG5cdHN2Yy5pc0xvZ2dlZEluIFx0PSBudWxsO1xyXG5cclxuXHQvL1ByaXZhdGUgZnVuY3Rpb25zXHJcblx0ZnVuY3Rpb24gbG9naW4gKHRva2VuLCBpZCwgdXNlcm5hbWUsIGVtYWlsKSB7XHJcblxyXG5cdFx0dmFyIGV4cGlyYXRpb25UaW1lID0gbmV3IERhdGUoKTtcclxuXHRcdGV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWUuc2V0VGltZShleHBpcmF0aW9uVGltZS5nZXRUaW1lKCkgKyAodG9rZW5bXCJleHBpcmVzX2luXCJdICogMTAwMCkpO1xyXG5cdFx0ZXhwaXJhdGlvblRpbWUgPSBuZXcgRGF0ZShleHBpcmF0aW9uVGltZSk7XHJcblxyXG5cdFx0dmFyIHVzZXJEYXRhID0ge1xyXG5cclxuXHRcdFx0dG9rZW46IHRva2VuLFxyXG5cdFx0XHR1c2VySWQ6IGlkLFxyXG5cdFx0XHR1c2VybmFtZTogdXNlcm5hbWUsXHJcblx0XHRcdGVtYWlsOiBlbWFpbCxcclxuXHRcdFx0Ly9pc0FkbWluOiBkYXRhLmRhdGEuaXNBZG1pblxyXG5cdFx0fVxyXG5cclxuXHRcdC8vY29uc29sZS5sb2codXNlckRhdGEudG9rZW4pO1xyXG5cclxuXHRcdHN2Yy51c2VyID0gdXNlckRhdGE7XHJcblxyXG5cdFx0JGNvb2tpZXMucHV0T2JqZWN0KFwidXNlclwiLCB1c2VyRGF0YSwgeyBleHBpcmVzOiBleHBpcmF0aW9uVGltZSB9KTtcclxuXHRcdCRyb290U2NvcGUuaXNMb2dnZWRJbiA9IHRydWU7XHJcblx0XHRcclxuXHRcdC8vQ2hlY2sgaWYgcmV0dXJuZWQgdXNlciBpcyBBZG1pblxyXG5cdFx0dXNlckRhdGEuaXNBZG1pbiA9PSBcIjFcIiA/ICRyb290U2NvcGUuaXNBZG1pbiA9IHRydWUgOiAkcm9vdFNjb3BlLmlzQWRtaW4gPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8vU3ZjIGZ1bmN0aW9uc1xyXG5cdHN2Yy5sb2dpbiA9IGZ1bmN0aW9uIChjcmVkZW50aWFscykge1xyXG5cclxuXHRcdCRhdXRoLmxvZ2luKGNyZWRlbnRpYWxzKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICBcdC8vIEF1dGhlbnRpY2F0aW9uIHN1Y2Nlc3NcclxuICAgICAgICBcdHRva2VuIFx0XHQ9IGRhdGEuZGF0YS50b2tlbjtcclxuICAgICAgICBcdGlkIFx0XHRcdD0gMDtcclxuICAgICAgICBcdHVzZXJuYW1lIFx0PSBcIlwiO1xyXG4gICAgICAgIFx0ZW1haWwgXHRcdD0gXCJcIjtcclxuXHJcblx0XHRcdHVzZXJTdmMuZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuXHRcdFx0XHRpZCBcdFx0XHQ9IGRhdGEuZGF0YS5pZDtcclxuXHRcdFx0XHR1c2VybmFtZSBcdD0gZGF0YS5kYXRhLnVzZXJuYW1lO1xyXG5cdFx0XHRcdGVtYWlsIFx0XHQ9IGRhdGEuZGF0YS5lbWFpbDtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRsb2dpbih0b2tlbiwgaWQsIHVzZXJuYW1lLCBlbWFpbCk7XHJcblx0XHRcdFx0c3ZjLmlzTG9nZ2VkSW4gPSB0cnVlO1xyXG5cdFx0XHR9LCBmdW5jdGlvbihlcnJvcikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcclxuXHRcdFx0XHRzdmMuaXNMb2dnZWRJbiA9IGZhbHNlO1xyXG5cdFx0XHR9KTtcclxuICAgICAgICB9LCBcclxuICAgICAgICBmdW5jdGlvbihlcnJvcil7XHJcbiAgICAgICAgXHQvLyBBdXRoZW50aWNhdGlvbiBmYWlsZWRcclxuICAgICAgICBcdGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICBcdHN2Yy5pc0xvZ2dlZEluID0gZmFsc2U7IFxyXG4gICAgICAgIH0pO1xyXG5cdH1cclxuXHJcblx0c3ZjLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHQkYXV0aC5sb2dvdXQoKVxyXG5cdFx0XHQudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuXHRcdFx0XHQkcm9vdFNjb3BlLmlzTG9nZ2VkSW4gPSBmYWxzZTtcclxuXHRcdFx0XHQkcm9vdFNjb3BlLmlzQWRtaW4gPSBmYWxzZTtcclxuXHRcdFx0XHRzdmMudXNlciA9IG51bGw7XHJcblx0XHRcdFx0c3ZjLmlzTG9nZ2VkSW4gPSBudWxsO1xyXG5cclxuXHRcdFx0XHQkY29va2llcy5yZW1vdmUoXCJ1c2VyXCIpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdCRzdGF0ZS5nbyhcImhvbWVcIik7XHJcblx0XHRcdH0sIGZ1bmN0aW9uIChlcnJvcikge1xyXG5cclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdH0pXHJcblx0fVxyXG5cclxuXHRzdmMucmVnaXN0ZXIgPSBmdW5jdGlvbiAodXNlcikge1xyXG5cclxuXHRcdHZhciB1cmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvdXNlclwiO1xyXG5cclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KHVybCwgdXNlcik7XHJcblx0fVxyXG59KTsiLCJhcHAuc2VydmljZShcImJhbmRTZXJ2aWNlXCIsIGZ1bmN0aW9uKCkge1xyXG5cdFxyXG5cdHZhciBzdmMgPSB0aGlzO1xyXG5cclxuXHR0cmFja0FycmF5ID0gW107XHJcblx0dHJhY2tJZEFycmF5ID0gW107XHJcblx0dHJhY2tBcnJheUNvdW50ID0gMDtcclxuXHJcblx0Ly9Qcml2YXRlIGZ1bmN0aW9uc1xyXG5cdGZ1bmN0aW9uIGFycmF5T2JqZWN0SW5kZXhPZihteUFycmF5LCBzZWFyY2hUZXJtLCBwcm9wZXJ0eSkge1xyXG4gICAgXHRcclxuICAgIFx0Zm9yKHZhciBpID0gMCwgbGVuID0gbXlBcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIFx0aWYgKG15QXJyYXlbaV1bcHJvcGVydHldID09PSBzZWFyY2hUZXJtKSByZXR1cm4gaTtcclxuICAgIFx0fVxyXG5cclxuICAgIFx0cmV0dXJuIC0xO1xyXG5cdH1cclxuXHQvL1RyYWNrQXJyYXlDb3VudFxyXG5cdGZ1bmN0aW9uIGluY3JlbWVudFRyYWNrQXJyYXlDb3VudCgpIHtcclxuXHRcdHRyYWNrQXJyYXlDb3VudCArKztcclxuXHRcdHJldHVybiB0cmFja0FycmF5Q291bnQ7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBkZWNyZW1lbnRUcmFja0FycmF5Q291bnQoKSB7XHJcblx0XHR0cmFja0FycmF5Q291bnQgLS07XHJcblx0XHRyZXR1cm4gdHJhY2tBcnJheUNvdW50O1xyXG5cdH1cclxuXHJcblx0Ly9UcmFja0lkQXJyYXlcclxuXHRmdW5jdGlvbiBhZGRUb1RyYWNrSWRBcnJheSh0cmFja0lkKSB7XHJcblx0XHR0cmFja0lkQXJyYXkucHVzaCh0cmFja0lkKTtcclxuXHRcdHJldHVybiB0cmFja0lkQXJyYXk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiByZW1vdmVGcm9tVHJhY2tJZEFycmF5KHRyYWNrSWQpIHtcclxuXHRcdGluZGV4ID0gdHJhY2tJZEFycmF5LmluZGV4T2YodHJhY2tJZCk7XHJcblx0XHRpZihpbmRleCA+IC0xKSB7XHJcblx0XHRcdHRyYWNrSWRBcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cmFja0lkQXJyYXk7XHJcblx0fVxyXG5cclxuXHQvL1N2YyBmdW5jdGlvbnNcclxuXHRzdmMuZ2V0VHJhY2tBcnJheUNvdW50ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdHJhY2tBcnJheUNvdW50O1xyXG5cdH1cclxuXHJcblx0c3ZjLmdldFRyYWNrSWRBcnJheSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRyYWNrSWRBcnJheTtcclxuXHR9XHJcblxyXG5cclxuXHRzdmMuYWRkVG9UcmFja0FycmF5ID0gZnVuY3Rpb24odHJhY2spIHtcclxuXHRcdHRyYWNrQXJyYXkucHVzaCh0cmFjayk7XHJcblx0XHRpbmNyZW1lbnRUcmFja0FycmF5Q291bnQoKTtcclxuXHRcdGFkZFRvVHJhY2tJZEFycmF5KHRyYWNrLmlkKTtcclxuXHRcdHJldHVybiB0cmFja0FycmF5O1xyXG5cdH1cclxuXHJcblx0c3ZjLnJlbW92ZUZyb21UcmFja0FycmF5ID0gZnVuY3Rpb24odHJhY2spIHtcclxuXHRcdGluZGV4ID0gdHJhY2suYXJyYXlPYmplY3RJbmRleE9mKHRyYWNrQXJyYXksIHRyYWNrLmlkLCBcImlkXCIpO1xyXG5cdFx0aWYoaW5kZXggPiAtMSkge1xyXG5cdFx0XHR0cmFja0FycmF5LnNwbGljZShpbmRleCwgMSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGRlY3JlbWVudFRyYWNrQXJyYXlDb3VudCgpO1xyXG5cdFx0cmVtb3ZlRnJvbVRyYWNrSWRBcnJheSh0cmFjay5pZCk7XHJcblx0XHRyZXR1cm4gdHJhY2tBcnJheTtcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRUcmFja0FycmF5ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdHJhY2tBcnJheTtcclxuXHR9XHJcblxyXG5cdFxyXG5cclxuXHJcblxyXG5cclxuXHRzdmMudGVzdEZ1bmN0aW9uID0gZnVuY3Rpb24oKSB7XHJcblx0XHRhbGVydChcIlRlc3QgZnVuY3Rpb24gY2FsbGVkIGZyb20gaW5zaWRlIHNlcnZpY2UhXCIpO1xyXG5cdH1cclxufSkiLCJhcHAuc2VydmljZShcImZpbHRlclNlcnZpY2VcIiwgZnVuY3Rpb24oaW5zdHJ1bWVudFNlcnZpY2UpIHtcclxuXHRcclxuXHR2YXIgc3ZjID0gdGhpcztcclxuXHR2YXIgaW5zdFN2YyA9IGluc3RydW1lbnRTZXJ2aWNlO1xyXG5cclxuXHJcblx0c3ZjLmNyZWF0ZVNvbG9GaWx0ZXJEYXRhID0gZnVuY3Rpb24oKVxyXG5cdHtcclxuXHRcdHN2Yy5zb2xvRmlsdGVyRGF0YSA9IHtcdFwiYXJ0aXN0XCI6IFwiXCIsXHJcblx0XHRcdFx0XHRcdFx0XHRcInRpdGxlXCI6IFwiXCIsXHJcblx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdGFuZ3VsYXIuZm9yRWFjaChpbnN0U3ZjLmluc3RydW1lbnRzLCBmdW5jdGlvbih2YWx1ZSwga2V5KVxyXG5cdFx0e1xyXG5cdFx0XHRzdmMuc29sb0ZpbHRlckRhdGFbdmFsdWUuaWRdID0gdHJ1ZTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0c3ZjLmNyZWF0ZU1lcmdlZEZpbHRlckRhdGEgPSBmdW5jdGlvbigpXHJcblx0e1xyXG5cdFx0c3ZjLm1lcmdlZEZpbHRlckRhdGEgPSB7XHRcImFydGlzdFwiOiBcIlwiLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcInRpdGxlXCI6IFwiXCIsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH07XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdHN2Yy5jcmVhdGVTb2xvRmlsdGVyRGF0YSgpO1xyXG5cdFx0c3ZjLmNyZWF0ZU1lcmdlZEZpbHRlckRhdGEoKTtcclxuXHR9XHJcblxyXG5cdF9pbml0KCk7XHJcbn0pIiwiYXBwLnNlcnZpY2UoXCJpbnN0cnVtZW50U2VydmljZVwiLCBmdW5jdGlvbigkaHR0cCkge1xyXG5cdFxyXG5cdC8vR2xvYmFsc1xyXG5cdHZhciBzdmMgPSB0aGlzO1xyXG5cclxuXHQvL1ByaXZhdGUgZnVuY3Rpb25zXHJcblx0ZnVuY3Rpb24gZ2V0RGF0YSAodXJsLCBvcHRpb25zKSB7XHJcblxyXG5cdFx0IW9wdGlvbnMgPyBvcHRpb25zID0ge30gOiBcIlwiO1xyXG5cclxuXHRcdHJldHVybiAkaHR0cC5nZXQodXJsLCBvcHRpb25zKVxyXG5cdH1cclxuXHJcblx0Ly9TdmMgZnVuY3Rpb25zXHJcblx0c3ZjLmdldEluc3RydW1lbnRzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdHZhciB1cmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvaW5zdHJ1bWVudHNcIjtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIGdldERhdGEodXJsKTtcclxuXHR9XHJcblxyXG5cdHN2Yy5pbnN0cnVtZW50cyA9IFt7XHJcblx0XHRcdFx0XHRcdFx0XCJuYW1lXCI6XCJMZWFkLWd1aXRhclwiLFxyXG5cdFx0XHRcdFx0XHRcdFwiaWRcIjoxXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcIm5hbWVcIjpcIkRydW1cIixcclxuXHRcdFx0XHRcdFx0XHRcImlkXCI6MlxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XCJuYW1lXCI6XCJCYXNzXCIsXHJcblx0XHRcdFx0XHRcdFx0XCJpZFwiOjNcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFwibmFtZVwiOlwiS2V5c1wiLFxyXG5cdFx0XHRcdFx0XHRcdFwiaWRcIjo0XHJcblx0XHRcdFx0XHRcdH1dO1xyXG59KSIsImFwcC5zZXJ2aWNlKFwibWVyZ2VkU2VydmljZVwiLCBmdW5jdGlvbigkaHR0cCkge1xyXG5cdFxyXG5cdC8vR2xvYmFsc1xyXG5cdHZhciBzdmMgPSB0aGlzO1xyXG5cclxuXHQvL1ByaXZhdGUgZnVuY3Rpb25zXHJcblx0ZnVuY3Rpb24gZ2V0RGF0YSAodXJsLCBvcHRpb25zKSB7XHJcblxyXG5cdFx0IW9wdGlvbnMgPyBvcHRpb25zID0ge30gOiBcIlwiO1xyXG5cclxuXHRcdHJldHVybiAkaHR0cC5nZXQodXJsLCBvcHRpb25zKVxyXG5cdH1cclxuXHJcblx0Ly9TdmMgZnVuY3Rpb25zXHJcblx0c3ZjLmdldFRyYWNrcyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHR2YXIgdXJsID0gQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArIFwiL21lcmdlZHRyYWNrc1wiO1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gZ2V0RGF0YSh1cmwpO1xyXG5cdH1cclxuXHJcblx0c3ZjLmdldFRyYWNrQnlJZCA9IGZ1bmN0aW9uIChpZCkge1xyXG5cclxuXHRcdHZhciB1cmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvbWVyZ2VkdHJhY2tzL1wiICsgaWQ7XHJcblxyXG5cdFx0cmV0dXJuIGdldERhdGEodXJsKTtcclxuXHR9XHJcblxyXG5cdHN2Yy5tZXJnZVRyYWNrcyA9IGZ1bmN0aW9uKGRhdGEpXHJcblx0e1xyXG5cdFx0cmV0dXJuICRodHRwLnBvc3QoQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArIFwiL21lcmdlZHRyYWNrcy9jcmVhdGVcIiwgZGF0YSk7XHJcblx0fVxyXG59KSIsImFwcC5zZXJ2aWNlKFwic29sb1NlcnZpY2VcIiwgZnVuY3Rpb24oJGh0dHApIHtcclxuXHRcclxuXHQvL0dsb2JhbHNcclxuXHR2YXIgc3ZjID0gdGhpcztcclxuXHJcblx0Ly9Qcml2YXRlIGZ1bmN0aW9uc1xyXG5cdGZ1bmN0aW9uIGdldERhdGEgKHVybCwgb3B0aW9ucykge1xyXG5cclxuXHRcdCFvcHRpb25zID8gb3B0aW9ucyA9IHt9IDogXCJcIjtcclxuXHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KHVybCwgb3B0aW9ucylcclxuXHR9XHJcblxyXG5cdC8vU3ZjIGZ1bmN0aW9uc1xyXG5cdHN2Yy5nZXRUcmFja3MgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi90cmFja3NcIjtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIGdldERhdGEodXJsKTtcclxuXHR9XHJcblxyXG5cdHN2Yy5nZXRUcmFja0J5SWQgPSBmdW5jdGlvbiAoaWQpIHtcclxuXHJcblx0XHR2YXIgdXJsID0gQ09OU1RBTlRTLkFQSV9CQVNFX1VSTCArIFwiL3RyYWNrcy9cIiArIGlkO1xyXG5cclxuXHRcdHJldHVybiBnZXREYXRhKHVybCk7XHJcblx0fVxyXG5cclxuXHRzdmMuaW5zZXJ0VHJhY2sgPSBmdW5jdGlvbihkYXRhKVxyXG5cdHtcclxuXHRcdHJldHVybiAkaHR0cC5wb3N0KENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi90cmFja3MvY3JlYXRlXCIsIGRhdGEpO1xyXG5cdH1cclxufSkiLCJhcHAuc2VydmljZShcInVzZXJTZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwKSB7XHRcclxuXHRcclxuXHR2YXIgc3ZjID0gdGhpcztcclxuXHJcblx0c3ZjLmdldFVzZXIgPSBmdW5jdGlvbigpXHJcblx0e1xyXG5cdFx0cmV0dXJuICRodHRwLmdldChDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvdXNlclwiKTtcclxuXHR9XHJcblxyXG5cdHN2Yy51cGRhdGVVc2VyID0gZnVuY3Rpb24oZGF0YSlcclxuXHR7XHJcblx0XHRyZXR1cm4gJGh0dHAucG9zdChDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvdXNlclwiLCBkYXRhKTtcclxuXHR9XHJcbn0pIiwiYXBwLmRpcmVjdGl2ZShcImRjYkJhbmRcIiwgZnVuY3Rpb24oYmFuZFNlcnZpY2UpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0cmVzdHJpY3Q6IFwiRVwiLFxyXG5cdFx0dGVtcGxhdGVVcmw6IFwiYXBwL2RpcmVjdGl2ZXMvZGNiLWJhbmQvZGNiLWJhbmQuaHRtbFwiLFxyXG5cdFx0cmVwbGFjZTogdHJ1ZSxcclxuXHRcdHNjb3BlOiB7fSxcclxuXHRcdGNvbnRyb2xsZXJBczogXCJiYW5kXCIsXHJcblx0XHRjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdFx0dmFyIGJhbmRTdmMgPSBiYW5kU2VydmljZTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIF9pbml0KCkge1xyXG5cdFx0XHRcdHZtLnZhbHVlID0gXCJOZXdCYW5kXCI7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdF9pbml0KCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSIsImFwcC5kaXJlY3RpdmUoXCJkY2JIZWFkZXJcIiwgZnVuY3Rpb24oYmFuZFNlcnZpY2UpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0cmVzdHJpY3Q6IFwiRVwiLFxyXG5cdFx0dGVtcGxhdGVVcmw6IFwiYXBwL2RpcmVjdGl2ZXMvZGNiLWhlYWRlci9kY2ItaGVhZGVyLmh0bWxcIixcclxuXHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRzY29wZToge30sXHJcblx0XHRjb250cm9sbGVyQXM6IFwiaGVhZFwiLFxyXG5cdFx0Y29udHJvbGxlcjogZnVuY3Rpb24oJHNjb3BlLCB1c2VyU2VydmljZSwgYXV0aFNlcnZpY2UsICRhdXRoLCAkcm9vdFNjb3BlKSB7XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgdm0gXHRcdFx0PSB0aGlzO1xyXG5cdFx0XHR2YXIgdXNlclN2YyBcdD0gdXNlclNlcnZpY2U7XHJcblx0XHRcdHZhciBhdXRoU3ZjIFx0PSBhdXRoU2VydmljZTtcclxuXHRcdFx0dmFyIGJhbmRTdmMgXHQ9IGJhbmRTZXJ2aWNlO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gX2luaXQoKSB7XHJcblx0XHRcdFx0dm0udHJhY2tBcnJheSA9IGJhbmRTdmMuZ2V0VHJhY2tBcnJheTtcclxuXHRcdFx0XHR2bS50cmFja0FycmF5Q291bnQgPSBiYW5kU3ZjLmdldFRyYWNrQXJyYXlDb3VudDtcclxuXHJcblx0XHRcdFx0aWYoJGF1dGguaXNBdXRoZW50aWNhdGVkKCkpXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0dXNlclN2Yy5nZXRVc2VyKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLnVzZXJuYW1lID0gZGF0YS5kYXRhLnVzZXJuYW1lO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2bS5zaG93TG9naW4gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JCgnI2xvZ2luX21vZGFsJykubW9kYWwoKTtcclxuXHRcdFx0XHQkKCcjbG9naW5fbW9kYWwnKS5tb2RhbCgnb3BlbicpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2bS5sb2dvdXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0YXV0aFN2Yy5sb2dvdXQoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dm0uc2hvd1JlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCQoJyNyZWdpc3Rlcl9tb2RhbCcpLm1vZGFsKCk7XHJcblx0XHRcdFx0JCgnI3JlZ2lzdGVyX21vZGFsJykubW9kYWwoJ29wZW4nKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dm0uaXNBdXRoZW50aWNhdGVkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuICRhdXRoLmlzQXV0aGVudGljYXRlZCgpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0X2luaXQoKTtcclxuXHJcblx0XHRcdC8vV2F0Y2hlc1xyXG5cdFx0XHQkc2NvcGUuJHdhdGNoKFxyXG5cdFx0XHRcdGZ1bmN0aW9uICgpIHsgcmV0dXJuIGF1dGhTdmMudXNlciB9LCBcclxuXHRcdFx0XHRmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRcdFx0dm0udXNlciA9IGF1dGhTdmMudXNlcjtcclxuXHRcdFx0XHRcdC8vY29uc29sZS5sb2codm0udXNlcik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSIsImFwcC5kaXJlY3RpdmUoXCJkY2JMb2dpblwiLCBmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0cmVzdHJpY3Q6IFwiRVwiLFxyXG5cdFx0dGVtcGxhdGVVcmw6IFwiYXBwL2RpcmVjdGl2ZXMvZGNiLWxvZ2luL2RjYi1sb2dpbi5odG1sXCIsXHJcblx0XHRyZXBsYWNlOiB0cnVlLFxyXG5cdFx0c2NvcGU6IHt9LFxyXG5cdFx0Y29udHJvbGxlckFzOiBcImxvZ2luXCIsXHJcblx0XHRjb250cm9sbGVyOiBmdW5jdGlvbigkYXV0aCwgJHNjb3BlLCAkcm9vdFNjb3BlLCB1c2VyU2VydmljZSwgYXV0aFNlcnZpY2UsICRjb29raWVzKSB7XHJcblx0XHRcdHZhciB2bSBcdFx0XHQ9IHRoaXM7XHJcblx0XHRcdHZhciB1c2VyU3ZjIFx0PSB1c2VyU2VydmljZTtcclxuXHRcdFx0dmFyIGF1dGhTdmMgXHQ9IGF1dGhTZXJ2aWNlO1xyXG5cdFx0XHR2YXIgdGFyZ2V0IFx0XHQ9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbi1zcGlubmVyJyk7XHJcblxyXG5cdFx0XHR2YXIgb3B0cyA9IHtcclxuXHQgIFx0XHRcdGxpbmVzOiAxMyAvLyBUaGUgbnVtYmVyIG9mIGxpbmVzIHRvIGRyYXdcclxuXHRcdFx0XHQsIGxlbmd0aDogMjggLy8gVGhlIGxlbmd0aCBvZiBlYWNoIGxpbmVcclxuXHRcdFx0XHQsIHdpZHRoOiAxNCAvLyBUaGUgbGluZSB0aGlja25lc3NcclxuXHRcdFx0XHQsIHJhZGl1czogNDIgLy8gVGhlIHJhZGl1cyBvZiB0aGUgaW5uZXIgY2lyY2xlXHJcblx0XHRcdFx0LCBzY2FsZTogMC40IC8vIFNjYWxlcyBvdmVyYWxsIHNpemUgb2YgdGhlIHNwaW5uZXJcclxuXHRcdFx0XHQsIGNvcm5lcnM6IDEgLy8gQ29ybmVyIHJvdW5kbmVzcyAoMC4uMSlcclxuXHRcdFx0XHQsIGNvbG9yOiAnIzAwMCcgLy8gI3JnYiBvciAjcnJnZ2JiIG9yIGFycmF5IG9mIGNvbG9yc1xyXG5cdFx0XHRcdCwgb3BhY2l0eTogMC4yNSAvLyBPcGFjaXR5IG9mIHRoZSBsaW5lc1xyXG5cdFx0XHRcdCwgcm90YXRlOiAwIC8vIFRoZSByb3RhdGlvbiBvZmZzZXRcclxuXHRcdFx0XHQsIGRpcmVjdGlvbjogMSAvLyAxOiBjbG9ja3dpc2UsIC0xOiBjb3VudGVyY2xvY2t3aXNlXHJcblx0XHRcdFx0LCBzcGVlZDogMSAvLyBSb3VuZHMgcGVyIHNlY29uZFxyXG5cdFx0XHRcdCwgdHJhaWw6IDYwIC8vIEFmdGVyZ2xvdyBwZXJjZW50YWdlXHJcblx0XHRcdFx0LCBmcHM6IDIwIC8vIEZyYW1lcyBwZXIgc2Vjb25kIHdoZW4gdXNpbmcgc2V0VGltZW91dCgpIGFzIGEgZmFsbGJhY2sgZm9yIENTU1xyXG5cdFx0XHRcdCwgekluZGV4OiAyZTkgLy8gVGhlIHotaW5kZXggKGRlZmF1bHRzIHRvIDIwMDAwMDAwMDApXHJcblx0XHRcdFx0LCBjbGFzc05hbWU6ICdzcGlubmVyJyAvLyBUaGUgQ1NTIGNsYXNzIHRvIGFzc2lnbiB0byB0aGUgc3Bpbm5lclxyXG5cdFx0XHRcdCwgdG9wOiAnNjAlJyAvLyBUb3AgcG9zaXRpb24gcmVsYXRpdmUgdG8gcGFyZW50XHJcblx0XHRcdFx0LCBsZWZ0OiAnNTAlJyAvLyBMZWZ0IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG5cdFx0XHRcdCwgc2hhZG93OiBmYWxzZSAvLyBXaGV0aGVyIHRvIHJlbmRlciBhIHNoYWRvd1xyXG5cdFx0XHRcdCwgaHdhY2NlbDogZmFsc2UgLy8gV2hldGhlciB0byB1c2UgaGFyZHdhcmUgYWNjZWxlcmF0aW9uXHJcblx0XHRcdFx0LCBwb3NpdGlvbjogJ2Fic29sdXRlJyAvLyBFbGVtZW50IHBvc2l0aW9uaW5nXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRcdFx0ZnVuY3Rpb24gbG9naW4gKHRva2VuLCBpZCwgdXNlcm5hbWUsIGVtYWlsKSB7XHJcblxyXG5cdFx0XHRcdHZhciBleHBpcmF0aW9uVGltZSA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdFx0ZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZS5zZXRUaW1lKGV4cGlyYXRpb25UaW1lLmdldFRpbWUoKSArICh0b2tlbltcImV4cGlyZXNfaW5cIl0gKiAxMDAwKSk7XHJcblx0XHRcdFx0ZXhwaXJhdGlvblRpbWUgPSBuZXcgRGF0ZShleHBpcmF0aW9uVGltZSk7XHJcblxyXG5cdFx0XHRcdHZhciB1c2VyRGF0YSA9IHtcclxuXHJcblx0XHRcdFx0XHR0b2tlbjogdG9rZW4sXHJcblx0XHRcdFx0XHR1c2VySWQ6IGlkLFxyXG5cdFx0XHRcdFx0dXNlcm5hbWU6IHVzZXJuYW1lLFxyXG5cdFx0XHRcdFx0ZW1haWw6IGVtYWlsLFxyXG5cdFx0XHRcdFx0Ly9pc0FkbWluOiBkYXRhLmRhdGEuaXNBZG1pblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Y29uc29sZS5sb2codXNlckRhdGEudG9rZW4pO1xyXG5cclxuXHRcdFx0XHRhdXRoU3ZjLnVzZXIgPSB1c2VyRGF0YTtcclxuXHJcblx0XHRcdFx0JGNvb2tpZXMucHV0T2JqZWN0KFwidXNlclwiLCB1c2VyRGF0YSwgeyBleHBpcmVzOiBleHBpcmF0aW9uVGltZSB9KTtcclxuXHRcdFx0XHQkcm9vdFNjb3BlLmlzTG9nZ2VkSW4gPSB0cnVlO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vQ2hlY2sgaWYgcmV0dXJuZWQgdXNlciBpcyBBZG1pblxyXG5cdFx0XHRcdHVzZXJEYXRhLmlzQWRtaW4gPT0gXCIxXCIgPyAkcm9vdFNjb3BlLmlzQWRtaW4gPSB0cnVlIDogJHJvb3RTY29wZS5pc0FkbWluID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHQvL1ZtIGZ1bmN0aW9uc1xyXG5cdCAgICAgICAgdm0ubG9naW4gPSBmdW5jdGlvbigpIHtcclxuXHQgICAgICAgIFx0dmFyIHNwaW5uZXIgPSBuZXcgU3Bpbm5lcihvcHRzKS5zcGluKHRhcmdldCk7XHJcblx0ICAgICAgICBcdHZtLmxvYWRpbmcgXHQ9IHRydWU7XHJcblxyXG5cdCAgICAgICAgICAgIHZhciBjcmVkZW50aWFscyA9IHtcclxuXHQgICAgICAgICAgICAgICAgZW1haWw6IHZtLmVtYWlsLFxyXG5cdCAgICAgICAgICAgICAgICBwYXNzd29yZDogdm0ucGFzc3dvcmRcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgXHJcblx0ICAgICAgICAgICAgYXV0aFN2Yy5sb2dpbihjcmVkZW50aWFscyk7XHJcblxyXG5cdCAgICAgICAgICAgIC8vV2F0Y2hlc1xyXG5cdFx0XHRcdHZhciB1bnJlZ2lzdGVyID0gJHNjb3BlLiR3YXRjaChcclxuXHRcdFx0XHRcdGZ1bmN0aW9uICgpIHsgcmV0dXJuIGF1dGhTdmMuaXNMb2dnZWRJbiB9LCBcclxuXHRcdFx0XHRcdGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdFx0XHRcdGlmKGF1dGhTdmMuaXNMb2dnZWRJbikgXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0ICAgICAgICBcdCQoJyNsb2dpbl9tb2RhbCcpLm1vZGFsKCk7XHJcblx0XHRcdFx0XHRcdFx0JCgnI2xvZ2luX21vZGFsJykubW9kYWwoJ2Nsb3NlJyk7XHJcblx0XHRcdFx0ICAgICAgICBcdHNwaW5uZXIuc3RvcCgpO1xyXG5cdFx0XHRcdCAgICAgICAgXHR1bnJlZ2lzdGVyKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYoYXV0aFN2Yy5pc0xvZ2dlZEluID09PSBmYWxzZSlcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHNwaW5uZXIuc3RvcCgpO1xyXG4gICAgICAgIFx0XHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgXHRcdFx0XHRcdHVucmVnaXN0ZXIoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSwgdHJ1ZSk7XHJcblx0ICAgICAgICB9XHJcblx0XHR9XHJcblx0fVxyXG59KSIsImFwcC5kaXJlY3RpdmUoXCJkY2JSZWdpc3RlclwiLCBmdW5jdGlvbih1c2VyU2VydmljZSkge1xyXG5cdHJldHVybiB7XHJcblx0XHRyZXN0cmljdDogXCJFXCIsXHJcblx0XHR0ZW1wbGF0ZVVybDogXCJhcHAvZGlyZWN0aXZlcy9kY2ItcmVnaXN0ZXIvZGNiLXJlZ2lzdGVyLmh0bWxcIixcclxuXHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRzY29wZToge30sXHJcblx0XHRjb250cm9sbGVyQXM6IFwicmVnaXN0ZXJcIixcclxuXHRcdGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRhdXRoLCAkc2NvcGUsICRyb290U2NvcGUsIHVzZXJTZXJ2aWNlLCBhdXRoU2VydmljZSkge1xyXG5cdFx0XHR2YXIgdm0gXHRcdFx0PSB0aGlzO1xyXG5cdFx0XHR2YXIgdXNlclN2YyBcdD0gdXNlclNlcnZpY2U7XHJcblx0XHRcdHZhciBhdXRoU3ZjIFx0PSBhdXRoU2VydmljZTtcclxuXHRcdFx0dmFyIHRhcmdldCBcdFx0PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaXN0ZXItc3Bpbm5lcicpO1xyXG5cclxuXHRcdFx0dmFyIG9wdHMgPSB7XHJcblx0ICBcdFx0XHRsaW5lczogMTMgLy8gVGhlIG51bWJlciBvZiBsaW5lcyB0byBkcmF3XHJcblx0XHRcdFx0LCBsZW5ndGg6IDI4IC8vIFRoZSBsZW5ndGggb2YgZWFjaCBsaW5lXHJcblx0XHRcdFx0LCB3aWR0aDogMTQgLy8gVGhlIGxpbmUgdGhpY2tuZXNzXHJcblx0XHRcdFx0LCByYWRpdXM6IDQyIC8vIFRoZSByYWRpdXMgb2YgdGhlIGlubmVyIGNpcmNsZVxyXG5cdFx0XHRcdCwgc2NhbGU6IDAuNCAvLyBTY2FsZXMgb3ZlcmFsbCBzaXplIG9mIHRoZSBzcGlubmVyXHJcblx0XHRcdFx0LCBjb3JuZXJzOiAxIC8vIENvcm5lciByb3VuZG5lc3MgKDAuLjEpXHJcblx0XHRcdFx0LCBjb2xvcjogJyMwMDAnIC8vICNyZ2Igb3IgI3JyZ2diYiBvciBhcnJheSBvZiBjb2xvcnNcclxuXHRcdFx0XHQsIG9wYWNpdHk6IDAuMjUgLy8gT3BhY2l0eSBvZiB0aGUgbGluZXNcclxuXHRcdFx0XHQsIHJvdGF0ZTogMCAvLyBUaGUgcm90YXRpb24gb2Zmc2V0XHJcblx0XHRcdFx0LCBkaXJlY3Rpb246IDEgLy8gMTogY2xvY2t3aXNlLCAtMTogY291bnRlcmNsb2Nrd2lzZVxyXG5cdFx0XHRcdCwgc3BlZWQ6IDEgLy8gUm91bmRzIHBlciBzZWNvbmRcclxuXHRcdFx0XHQsIHRyYWlsOiA2MCAvLyBBZnRlcmdsb3cgcGVyY2VudGFnZVxyXG5cdFx0XHRcdCwgZnBzOiAyMCAvLyBGcmFtZXMgcGVyIHNlY29uZCB3aGVuIHVzaW5nIHNldFRpbWVvdXQoKSBhcyBhIGZhbGxiYWNrIGZvciBDU1NcclxuXHRcdFx0XHQsIHpJbmRleDogMmU5IC8vIFRoZSB6LWluZGV4IChkZWZhdWx0cyB0byAyMDAwMDAwMDAwKVxyXG5cdFx0XHRcdCwgY2xhc3NOYW1lOiAnc3Bpbm5lcicgLy8gVGhlIENTUyBjbGFzcyB0byBhc3NpZ24gdG8gdGhlIHNwaW5uZXJcclxuXHRcdFx0XHQsIHRvcDogJzYwJScgLy8gVG9wIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG5cdFx0XHRcdCwgbGVmdDogJzUwJScgLy8gTGVmdCBwb3NpdGlvbiByZWxhdGl2ZSB0byBwYXJlbnRcclxuXHRcdFx0XHQsIHNoYWRvdzogZmFsc2UgLy8gV2hldGhlciB0byByZW5kZXIgYSBzaGFkb3dcclxuXHRcdFx0XHQsIGh3YWNjZWw6IGZhbHNlIC8vIFdoZXRoZXIgdG8gdXNlIGhhcmR3YXJlIGFjY2VsZXJhdGlvblxyXG5cdFx0XHRcdCwgcG9zaXRpb246ICdhYnNvbHV0ZScgLy8gRWxlbWVudCBwb3NpdGlvbmluZ1xyXG5cdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0XHJcblx0XHRcdHZtLnJlZ2lzdGVyID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyIHNwaW5uZXIgPSBuZXcgU3Bpbm5lcihvcHRzKS5zcGluKHRhcmdldCk7XHJcblx0ICAgICAgICBcdHZtLmxvYWRpbmcgXHQ9IHRydWU7XHJcblxyXG5cdFx0XHRcdHZhciB1c2VyID0ge1xyXG5cdFx0XHRcdCAgXHR1c2VybmFtZTogdm0udXNlcm5hbWUsXHJcblx0XHRcdFx0ICBcdGVtYWlsOiB2bS5lbWFpbCxcclxuXHRcdFx0XHQgIFx0cGFzc3dvcmQ6IHZtLnBhc3N3b3JkXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0JGF1dGguc2lnbnVwKHVzZXIpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdC8vIFJlZ2lzdHJhdGlvbiBzdWNjZXNzXHJcblx0XHRcdFx0XHRhdXRoU3ZjLmxvZ2luKHVzZXIpO1xyXG5cclxuXHRcdCAgICAgICAgICAgIC8vV2F0Y2hlc1xyXG5cdFx0XHRcdFx0dmFyIHVucmVnaXN0ZXIgPSAkc2NvcGUuJHdhdGNoKFxyXG5cdFx0XHRcdFx0XHRmdW5jdGlvbiAoKSB7IHJldHVybiBhdXRoU3ZjLmlzTG9nZ2VkSW4gfSwgXHJcblx0XHRcdFx0XHRcdGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYoYXV0aFN2Yy5pc0xvZ2dlZEluKSBcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0XHQgICAgICAgIFx0JCgnI3JlZ2lzdGVyX21vZGFsJykubW9kYWwoKTtcclxuXHRcdFx0XHRcdFx0XHRcdCQoJyNyZWdpc3Rlcl9tb2RhbCcpLm1vZGFsKCdjbG9zZScpO1xyXG5cdFx0XHRcdFx0ICAgICAgICBcdHNwaW5uZXIuc3RvcCgpO1xyXG5cdFx0XHRcdFx0ICAgICAgICBcdHVucmVnaXN0ZXIoKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0aWYoYXV0aFN2Yy5pc0xvZ2dlZEluID09PSBmYWxzZSlcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRzcGlubmVyLnN0b3AoKTtcclxuXHQgICAgICAgIFx0XHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0ICAgICAgICBcdFx0XHRcdFx0dW5yZWdpc3RlcigpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSwgdHJ1ZSk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuY2F0Y2goZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdC8vIFJlZ2lzdHJhdGlvbiBmYWlsZWRcclxuXHRcdFx0XHQgIFx0c3Bpbm5lci5zdG9wKCk7XHJcblx0XHRcdFx0ICBcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHQgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSJdfQ==
