var app=angular.module("app",["ui.router","satellizer"]),CONSTANTS=function(){var e={};return e.API_BASE_URL="http://discoverbandapi.int/public/api",e}();app.config(["$stateProvider","$urlRouterProvider","$authProvider",function(e,t,r){r.loginUrl=CONSTANTS.API_BASE_URL+"/login",r.signupUrl=CONSTANTS.API_BASE_URL+"/register",t.otherwise("/"),e.state("home",{url:"/",templateUrl:"app/pages/home.html",controller:"homeController as home"}).state("solo",{url:"/solo",templateUrl:"app/pages/solo.html",controller:"soloController as solo"}).state("merged",{url:"/merged",templateUrl:"app/pages/merged.html",controller:"mergedController as merged"})}]),app.controller("homeController",["instrumentService","filterService",function(e,t){function r(){n.filterData=o.filterData}var n=this,o=t;r()}]),app.controller("mergeController",function(){function e(){}e()}),app.controller("mergedController",function(){function e(){t.test="Merged"}var t=this;e()}),app.controller("soloController",["$scope","bandService","soloService","instrumentService","filterService",function(e,t,r,n,o){function a(){d.getTracks().then(function(e){s.soloTracks=e.data,s.filteredTracks=s.soloTracks,i()},function(e){console.log(e)})}function i(){s.filteredTracks=[],angular.forEach(s.soloTracks,function(e,t){goodSearch=!0,""!=!s.filterData.artist||e.artist.name.match(new RegExp(s.filterData.artist,"i"))||(goodSearch=!1),""!=!s.filterData.title||e.songname.match(new RegExp(s.filterData.title,"i"))||(goodSearch=!1),s.filterData[e.instrument_id]||(goodSearch=!1),goodSearch&&s.filteredTracks.push(e)})}function c(e,t,r){for(var n=0,o=e.length;n<o;n++)if(e[n][r]===t)return n;return-1}function l(){a(),s.instruments=p.instruments,s.filterData=f.filterData,s.bandTrackIdArray=[],angular.forEach(u.trackArray,function(e,t){s.bandTrackIdArray.push(e.id)})}var s=this,u=t,d=r,p=n,f=o;s.addToBand=function(e){u.trackArray.push(e),angular.forEach(u.trackArray,function(e,t){s.bandTrackIdArray.push(e.id)}),console.log("Track added to new band: "+e),console.log(u.trackArray)},s.removeFromBand=function(e){index=c(u.trackArray,e.id,"id"),index>-1&&(u.trackArray.splice(index,1),s.bandTrackArray=u.trackArray,intIndex=s.bandTrackIdArray.indexOf(e.id),intIndex>-1&&s.bandTrackIdArray.splice(intIndex,1)),console.log("Track removed from new band: "+e),console.log(u.trackArray)},e.$watch(function(){return s.filterData},function(){s.filterData&&i()},!0),s.track1=new Audio("dist/audio/Behemoth - Conquer All - Drum.mp3"),s.track2=new Audio("dist/audio/Behemoth - Conquer All - Guitar.mp3"),l()}]),app.filter("band",function(){return function(e,t){var r=!1;return angular.forEach(t,function(t,n){t==e&&(r=!0)}),r}}),app.service("bandService",function(){var e=this;e.testValue="This value is from a service!",e.trackArray=[],e.testFunction=function(){alert("Test function called from inside service!")}}),app.service("filterService",["instrumentService",function(e){function t(){r.createFilterData()}var r=this,n=e;r.createFilterData=function(){r.filterData={artist:"",title:""},angular.forEach(n.instruments,function(e,t){r.filterData[e.id]=!0})},t()}]),app.service("instrumentService",["$http",function(e){function t(t,r){return r?"":r={},e.get(t,r)}var r=this;r.getInstruments=function(){var e=CONSTANTS.API_BASE_URL+"/instruments";r.instruments=t(e)},r.instruments=[{name:"Lead-guitar",id:1},{name:"Drum",id:2},{name:"Bass",id:3},{name:"Keys",id:4}]}]),app.service("loginService",["$http",function(e){var t=this;t.getUser=function(){return e.get(CONSTANTS.API_BASE_URL+"/user")}}]),app.service("soloService",["$http",function(e){function t(t,r){return r?"":r={},e.get(t,r)}var r=this;r.getTracks=function(){var e=CONSTANTS.API_BASE_URL+"/tracks";return t(e)},r.getTrackById=function(e){var r=CONSTANTS.API_BASE_URL+"/tracks/"+e;return t(r)}}]),app.directive("dcbRegister",["loginService",function(e){return{restrict:"E",templateUrl:"app/directives/dcb-register/dcb-register.html",replace:!0,scope:{},controllerAs:"register",controller:["$auth","$rootScope",function(t,r){var n=this,o=e,a=document.getElementById("register-spinner"),i={lines:13,length:28,width:14,radius:42,scale:.4,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"60%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};n.register=function(){var e=new Spinner(i).spin(a);n.loading=!0;var c={username:n.username,email:n.email,password:n.password};t.signup(c).then(function(a){t.login(c).then(function(t){e.stop(),n.loading=!1,$("#register_modal").modal(),$("#register_modal").modal("close"),o.getUser().then(function(e){r.username=e.data.username})},function(t){e.stop(),n.loading=!1,console.log(t)})})["catch"](function(t){e.stop(),n.loading=!1,console.log(t)})}}]}}]),app.directive("dcbLogin",["loginService",function(e){return{restrict:"E",templateUrl:"app/directives/dcb-login/dcb-login.html",replace:!0,scope:{},controllerAs:"login",controller:["$auth","$rootScope",function(t,r){var n=this,o=e,a=document.getElementById("login-spinner"),i={lines:13,length:28,width:14,radius:42,scale:.4,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"60%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};n.login=function(){var e=new Spinner(i).spin(a);n.loading=!0;var c={email:n.email,password:n.password};t.login(c).then(function(t){e.stop(),n.loading=!1,$("#login_modal").modal(),$("#login_modal").modal("close"),o.getUser().then(function(e){r.username=e.data.username})},function(t){e.stop(),n.loading=!1,console.log(t)})}}]}}]),app.directive("dcbHeader",function(){return{restrict:"E",templateUrl:"app/directives/dcb-header/dcb-header.html",replace:!0,scope:{},controllerAs:"head",controller:["loginService","$auth","$rootScope",function(e,t,r){function n(){t.isAuthenticated()&&a.getUser().then(function(e){r.username=e.data.username}),o.value="This is a directive test value!"}var o=this,a=e;o.showLogin=function(){$("#login_modal").modal(),$("#login_modal").modal("open")},o.logout=function(){t.logout()},o.showRegister=function(){$("#register_modal").modal(),$("#register_modal").modal("open")},o.isAuthenticated=function(){return t.isAuthenticated()},n()}]}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbmZpZy5qcyIsInJvdXRlcy5qcyIsImhvbWVDb250cm9sbGVyLmpzIiwibWVyZ2VDb250cm9sbGVyLmpzIiwibWVyZ2VkQ29udHJvbGxlci5qcyIsInNvbG9Db250cm9sbGVyLmpzIiwiYmFuZEZpbHRlci5qcyIsImJhbmRTZXJ2aWNlLmpzIiwiZmlsdGVyU2VydmljZS5qcyIsImluc3RydW1lbnRTZXJ2aWNlLmpzIiwibG9naW5TZXJ2aWNlLmpzIiwic29sb1NlcnZpY2UuanMiLCJkY2ItcmVnaXN0ZXIvZGNiLXJlZ2lzdGVyLmpzIiwiZGNiLWxvZ2luL2RjYi1sb2dpbi5qcyIsImRjYi1oZWFkZXIvZGNiLWhlYWRlci5qcyJdLCJuYW1lcyI6WyJhcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiQ09OU1RBTlRTIiwiQVBJX0JBU0VfVVJMIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkYXV0aFByb3ZpZGVyIiwibG9naW5VcmwiLCJzaWdudXBVcmwiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImluc3RydW1lbnRTZXJ2aWNlIiwiZmlsdGVyU2VydmljZSIsIl9pbml0Iiwidm0iLCJmaWx0ZXJEYXRhIiwiZmx0U3ZjIiwidGhpcyIsInRlc3QiLCIkc2NvcGUiLCJiYW5kU2VydmljZSIsInNvbG9TZXJ2aWNlIiwiZ2V0U29sb1RyYWNrcyIsInNvbG9TdmMiLCJnZXRUcmFja3MiLCJ0aGVuIiwiZGF0YSIsInNvbG9UcmFja3MiLCJmaWx0ZXJlZFRyYWNrcyIsImZpbHRlciIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImZvckVhY2giLCJ0cmFjayIsImtleSIsImdvb2RTZWFyY2giLCJhcnRpc3QiLCJuYW1lIiwibWF0Y2giLCJSZWdFeHAiLCJ0aXRsZSIsInNvbmduYW1lIiwiaW5zdHJ1bWVudF9pZCIsInB1c2giLCJhcnJheU9iamVjdEluZGV4T2YiLCJteUFycmF5Iiwic2VhcmNoVGVybSIsInByb3BlcnR5IiwiaSIsImxlbiIsImxlbmd0aCIsImluc3RydW1lbnRzIiwiaW5zdFN2YyIsImJhbmRUcmFja0lkQXJyYXkiLCJiYW5kU3ZjIiwidHJhY2tBcnJheSIsImlkIiwiYWRkVG9CYW5kIiwicmVtb3ZlRnJvbUJhbmQiLCJpbmRleCIsInNwbGljZSIsImJhbmRUcmFja0FycmF5IiwiaW50SW5kZXgiLCJpbmRleE9mIiwiJHdhdGNoIiwidHJhY2sxIiwiQXVkaW8iLCJ0cmFjazIiLCJ0cmFja0lkIiwibGlzdCIsInJldHVyblZhbHVlIiwic2VydmljZSIsInN2YyIsInRlc3RWYWx1ZSIsInRlc3RGdW5jdGlvbiIsImFsZXJ0IiwiY3JlYXRlRmlsdGVyRGF0YSIsInZhbHVlIiwiJGh0dHAiLCJnZXREYXRhIiwib3B0aW9ucyIsImdldCIsImdldEluc3RydW1lbnRzIiwiZ2V0VXNlciIsImdldFRyYWNrQnlJZCIsImRpcmVjdGl2ZSIsImxvZ2luU2VydmljZSIsInJlc3RyaWN0IiwicmVwbGFjZSIsInNjb3BlIiwiY29udHJvbGxlckFzIiwiJGF1dGgiLCIkcm9vdFNjb3BlIiwibG9naW5TdmMiLCJ0YXJnZXQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwib3B0cyIsImxpbmVzIiwid2lkdGgiLCJyYWRpdXMiLCJzY2FsZSIsImNvcm5lcnMiLCJjb2xvciIsIm9wYWNpdHkiLCJyb3RhdGUiLCJkaXJlY3Rpb24iLCJzcGVlZCIsInRyYWlsIiwiZnBzIiwiekluZGV4IiwiY2xhc3NOYW1lIiwidG9wIiwibGVmdCIsInNoYWRvdyIsImh3YWNjZWwiLCJwb3NpdGlvbiIsInJlZ2lzdGVyIiwic3Bpbm5lciIsIlNwaW5uZXIiLCJzcGluIiwibG9hZGluZyIsInVzZXIiLCJ1c2VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJzaWdudXAiLCJyZXNwb25zZSIsImxvZ2luIiwic3RvcCIsIiQiLCJtb2RhbCIsImNyZWRlbnRpYWxzIiwiaXNBdXRo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WVAsQ0FhaEJ6RSxHQUFHeUgsVUFBWSxXQUNkSixFQUFFLGdCQUFnQkMsUUFDbEJELEVBQUUsZ0JBQWdCQyxNQUFNLFNBR3pCdEgsRUFBRzBILE9BQVMsV0FDWDVDLEVBQU00QyxVQUdQMUgsRUFBRzJILGFBQWUsV0FDakJOLEVBQUUsbUJBQW1CQyxRQUNyQkQsRUFBRSxtQkFBbUJDLE1BQU0sU0FHNUJ0SCxFQUFHd0gsZ0JBQWtCLFdBQ3BCLE1BQU8xQyxHQUFNMEMsbUJBR2R6SCIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIsIFtcInVpLnJvdXRlclwiLCBcInNhdGVsbGl6ZXJcIl0pOyIsInZhciBDT05TVEFOVFMgPSAoZnVuY3Rpb24gKCkge1xyXG5cdFxyXG5cdHZhciBtb2R1bGUgPSB7fTtcclxuXHJcblx0bW9kdWxlLkFQSV9CQVNFX1VSTCA9IFwiaHR0cDovL2Rpc2NvdmVyYmFuZGFwaS5pbnQvcHVibGljL2FwaVwiO1xyXG5cclxuXHRyZXR1cm4gbW9kdWxlO1xyXG59KCkpOyIsImFwcC5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGF1dGhQcm92aWRlcikge1xyXG4gICRhdXRoUHJvdmlkZXIubG9naW5VcmwgICAgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgJy9sb2dpbic7XHJcbiAgJGF1dGhQcm92aWRlci5zaWdudXBVcmwgICA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyAnL3JlZ2lzdGVyJztcclxuICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKFwiL1wiKTtcclxuXHJcbiAgJHN0YXRlUHJvdmlkZXJcclxuICAgIC5zdGF0ZSgnaG9tZScsIHtcclxuICAgICAgdXJsOiBcIi9cIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL2hvbWUuaHRtbFwiLFxyXG4gICAgICBjb250cm9sbGVyOiBcImhvbWVDb250cm9sbGVyIGFzIGhvbWVcIlxyXG4gICAgfSlcclxuICBcdC5zdGF0ZSgnc29sbycsIHtcclxuICAgICAgdXJsOiBcIi9zb2xvXCIsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wYWdlcy9zb2xvLmh0bWxcIixcclxuICAgICAgY29udHJvbGxlcjogXCJzb2xvQ29udHJvbGxlciBhcyBzb2xvXCJcclxuICAgIH0pXHJcbiAgICAuc3RhdGUoJ21lcmdlZCcsIHtcclxuICAgICAgdXJsOiBcIi9tZXJnZWRcIixcclxuICAgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3BhZ2VzL21lcmdlZC5odG1sXCIsXHJcbiAgICAgIGNvbnRyb2xsZXI6IFwibWVyZ2VkQ29udHJvbGxlciBhcyBtZXJnZWRcIlxyXG4gICAgfSlcclxufSk7IiwiYXBwLmNvbnRyb2xsZXIoXCJob21lQ29udHJvbGxlclwiLCBmdW5jdGlvbihpbnN0cnVtZW50U2VydmljZSwgZmlsdGVyU2VydmljZSkge1xyXG5cdFxyXG5cdHZhciB2bSA9IHRoaXM7XHJcblx0dmFyIGluc3RTdmMgPSBpbnN0cnVtZW50U2VydmljZTtcclxuXHR2YXIgZmx0U3ZjID0gZmlsdGVyU2VydmljZTtcclxuXHJcblx0ZnVuY3Rpb24gX2luaXQoKSB7XHJcblx0XHQvL2luc3RTdmMuZ2V0SW5zdHJ1bWVudHMoKTtcclxuXHJcblx0XHR2bS5maWx0ZXJEYXRhID0gZmx0U3ZjLmZpbHRlckRhdGE7XHJcblx0fVxyXG5cclxuXHRfaW5pdCgpO1xyXG59KTsiLCJhcHAuY29udHJvbGxlcihcIm1lcmdlQ29udHJvbGxlclwiLCBmdW5jdGlvbigpIHtcclxuXHR2YXIgdm0gPSB0aGlzO1xyXG5cclxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdFxyXG5cdH1cclxuXHJcblx0X2luaXQoKTtcclxufSk7IiwiYXBwLmNvbnRyb2xsZXIoXCJtZXJnZWRDb250cm9sbGVyXCIsIGZ1bmN0aW9uKCkge1xyXG5cdHZhciB2bSA9IHRoaXM7XHJcblxyXG5cdGZ1bmN0aW9uIF9pbml0KCkge1xyXG5cdFx0dm0udGVzdCA9IFwiTWVyZ2VkXCI7XHJcblx0fVxyXG5cclxuXHRfaW5pdCgpO1xyXG59KTsiLCJhcHAuY29udHJvbGxlcihcInNvbG9Db250cm9sbGVyXCIsIGZ1bmN0aW9uKCRzY29wZSwgYmFuZFNlcnZpY2UsIHNvbG9TZXJ2aWNlLCBpbnN0cnVtZW50U2VydmljZSwgZmlsdGVyU2VydmljZSkge1xyXG5cdFxyXG5cdHZhciB2bSA9IHRoaXM7XHJcblx0dmFyIGJhbmRTdmMgPSBiYW5kU2VydmljZTtcclxuXHR2YXIgc29sb1N2YyA9IHNvbG9TZXJ2aWNlO1xyXG5cdHZhciBpbnN0U3ZjID0gaW5zdHJ1bWVudFNlcnZpY2U7XHJcblx0dmFyIGZsdFN2YyA9IGZpbHRlclNlcnZpY2U7XHJcblxyXG5cdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRmdW5jdGlvbiBwbGF5QXVkaW9GaWxlKHRyYWNrKVxyXG5cdHtcclxuXHRcdHRyYWNrLnBsYXkoKTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGdldFNvbG9UcmFja3MoKVxyXG5cdHtcclxuXHRcdHNvbG9TdmMuZ2V0VHJhY2tzKClcclxuXHRcdFx0LnRoZW4oZnVuY3Rpb24oZGF0YSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHZtLnNvbG9UcmFja3MgPSBkYXRhLmRhdGE7XHJcblx0XHRcdFx0dm0uZmlsdGVyZWRUcmFja3MgPSB2bS5zb2xvVHJhY2tzO1xyXG5cdFx0XHRcdGZpbHRlcigpO1xyXG5cdFx0XHRcclxuXHRcdFx0fSwgZnVuY3Rpb24oZXJyb3IpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZmlsdGVyKClcclxuXHR7XHJcblx0XHR2bS5maWx0ZXJlZFRyYWNrcyA9IFtdO1xyXG5cclxuXHRcdGFuZ3VsYXIuZm9yRWFjaCh2bS5zb2xvVHJhY2tzLCBmdW5jdGlvbih0cmFjaywga2V5KVxyXG5cdFx0e1xyXG5cdFx0XHQvL2NvbnNvbGUubG9nKHRyYWNrKTtcclxuXHRcdFx0Z29vZFNlYXJjaCA9IHRydWU7XHJcblxyXG5cdFx0XHRpZighdm0uZmlsdGVyRGF0YS5hcnRpc3QgPT0gXCJcIiAmJiAhdHJhY2suYXJ0aXN0Lm5hbWUubWF0Y2gobmV3IFJlZ0V4cCh2bS5maWx0ZXJEYXRhLmFydGlzdCwgXCJpXCIpKSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGdvb2RTZWFyY2ggPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYoIXZtLmZpbHRlckRhdGEudGl0bGUgPT0gXCJcIiAmJiAhdHJhY2suc29uZ25hbWUubWF0Y2gobmV3IFJlZ0V4cCh2bS5maWx0ZXJEYXRhLnRpdGxlLCBcImlcIikpKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Z29vZFNlYXJjaCA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZighdm0uZmlsdGVyRGF0YVt0cmFjay5pbnN0cnVtZW50X2lkXSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGdvb2RTZWFyY2ggPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdGlmKGdvb2RTZWFyY2gpXHJcblx0XHRcdHtcclxuXHRcdFx0XHR2bS5maWx0ZXJlZFRyYWNrcy5wdXNoKHRyYWNrKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL2NvbnNvbGUubG9nKHZtLmZpbHRlcmVkVHJhY2tzKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gYXJyYXlPYmplY3RJbmRleE9mKG15QXJyYXksIHNlYXJjaFRlcm0sIHByb3BlcnR5KSB7XHJcbiAgICBcdFxyXG4gICAgXHRmb3IodmFyIGkgPSAwLCBsZW4gPSBteUFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgXHRpZiAobXlBcnJheVtpXVtwcm9wZXJ0eV0gPT09IHNlYXJjaFRlcm0pIHJldHVybiBpO1xyXG4gICAgXHR9XHJcblxyXG4gICAgXHRyZXR1cm4gLTE7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcclxuXHRcdGdldFNvbG9UcmFja3MoKTtcclxuXHRcdHZtLmluc3RydW1lbnRzID0gaW5zdFN2Yy5pbnN0cnVtZW50cztcclxuXHRcdHZtLmZpbHRlckRhdGEgPSBmbHRTdmMuZmlsdGVyRGF0YTtcclxuXHRcdHZtLmJhbmRUcmFja0lkQXJyYXkgPSBbXTtcclxuXHJcblx0XHRhbmd1bGFyLmZvckVhY2goYmFuZFN2Yy50cmFja0FycmF5LCBmdW5jdGlvbih0cmFjaywga2V5KSB7XHJcblx0XHRcdHZtLmJhbmRUcmFja0lkQXJyYXkucHVzaCh0cmFjay5pZCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvL3ZtLnRyYWNrMS5wbGF5KCk7XHJcblx0XHQvL3NldFRpbWVvdXQoZnVuY3Rpb24oKXtwbGF5QXVkaW9GaWxlKHZtLnRyYWNrMil9LCA0MDApO1xyXG5cdH1cclxuXHJcblx0Ly9WbSBmdW5jdGlvbnNcclxuXHR2bS5hZGRUb0JhbmQgPSBmdW5jdGlvbih0cmFjaykge1xyXG5cclxuXHRcdGJhbmRTdmMudHJhY2tBcnJheS5wdXNoKHRyYWNrKTtcclxuXHRcdGFuZ3VsYXIuZm9yRWFjaChiYW5kU3ZjLnRyYWNrQXJyYXksIGZ1bmN0aW9uKHRyYWNrLCBrZXkpIHtcclxuXHRcdFx0dm0uYmFuZFRyYWNrSWRBcnJheS5wdXNoKHRyYWNrLmlkKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbnNvbGUubG9nKFwiVHJhY2sgYWRkZWQgdG8gbmV3IGJhbmQ6IFwiICsgdHJhY2spO1xyXG5cdFx0Y29uc29sZS5sb2coYmFuZFN2Yy50cmFja0FycmF5KTtcclxuXHR9XHJcblxyXG5cdHZtLnJlbW92ZUZyb21CYW5kID0gZnVuY3Rpb24odHJhY2spIHtcclxuXHRcdFxyXG5cdFx0aW5kZXggPSBhcnJheU9iamVjdEluZGV4T2YoYmFuZFN2Yy50cmFja0FycmF5LCB0cmFjay5pZCwgXCJpZFwiKTtcclxuXHRcdGlmIChpbmRleCA+IC0xKSB7XHJcblx0XHRcdGJhbmRTdmMudHJhY2tBcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHR2bS5iYW5kVHJhY2tBcnJheSA9IGJhbmRTdmMudHJhY2tBcnJheTtcclxuXHJcblx0XHRcdGludEluZGV4ID0gdm0uYmFuZFRyYWNrSWRBcnJheS5pbmRleE9mKHRyYWNrLmlkKTtcclxuXHRcdFx0aWYgKGludEluZGV4ID4gLTEpIHtcclxuXHRcdFx0XHR2bS5iYW5kVHJhY2tJZEFycmF5LnNwbGljZShpbnRJbmRleCwgMSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRjb25zb2xlLmxvZyhcIlRyYWNrIHJlbW92ZWQgZnJvbSBuZXcgYmFuZDogXCIgKyB0cmFjayk7XHJcblx0XHRjb25zb2xlLmxvZyhiYW5kU3ZjLnRyYWNrQXJyYXkpO1xyXG5cdH1cclxuXHJcblx0Ly9XYXRjaGVzXHJcblx0JHNjb3BlLiR3YXRjaChcclxuXHRcdGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZtLmZpbHRlckRhdGEgfSwgXHJcblx0XHRmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRpZih2bS5maWx0ZXJEYXRhKSBcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGZpbHRlcigpO1xyXG5cdFx0XHR9XHJcblx0XHR9LCB0cnVlKTtcclxuXHJcblxyXG5cclxuXHR2bS50cmFjazEgPSBuZXcgQXVkaW8oXCJkaXN0L2F1ZGlvL0JlaGVtb3RoIC0gQ29ucXVlciBBbGwgLSBEcnVtLm1wM1wiKTtcclxuXHR2bS50cmFjazIgPSBuZXcgQXVkaW8oXCJkaXN0L2F1ZGlvL0JlaGVtb3RoIC0gQ29ucXVlciBBbGwgLSBHdWl0YXIubXAzXCIpO1xyXG5cclxuXHJcblx0X2luaXQoKTtcclxufSk7IiwiYXBwLmZpbHRlcihcImJhbmRcIiwgZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIGZ1bmN0aW9uKHRyYWNrSWQsIGxpc3QpIHtcclxuXHRcdHZhciByZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG5cdFx0XHJcblx0XHRhbmd1bGFyLmZvckVhY2gobGlzdCwgZnVuY3Rpb24oaWQsIGluZGV4KSB7XHJcblx0XHRcdGlmKGlkID09IHRyYWNrSWQpIHtcclxuXHRcdFx0XHRyZXR1cm5WYWx1ZSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIHJldHVyblZhbHVlO1xyXG5cdH1cclxufSk7IiwiYXBwLnNlcnZpY2UoXCJiYW5kU2VydmljZVwiLCBmdW5jdGlvbigpIHtcclxuXHR2YXIgc3ZjID0gdGhpcztcclxuXHRzdmMudGVzdFZhbHVlID0gXCJUaGlzIHZhbHVlIGlzIGZyb20gYSBzZXJ2aWNlIVwiO1xyXG5cclxuXHRzdmMudHJhY2tBcnJheSA9IFtdO1xyXG5cclxuXHRcclxuXHJcblxyXG5cclxuXHJcblx0c3ZjLnRlc3RGdW5jdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0YWxlcnQoXCJUZXN0IGZ1bmN0aW9uIGNhbGxlZCBmcm9tIGluc2lkZSBzZXJ2aWNlIVwiKTtcclxuXHR9XHJcbn0pIiwiYXBwLnNlcnZpY2UoXCJmaWx0ZXJTZXJ2aWNlXCIsIGZ1bmN0aW9uKGluc3RydW1lbnRTZXJ2aWNlKSB7XHJcblx0XHJcblx0dmFyIHN2YyA9IHRoaXM7XHJcblx0dmFyIGluc3RTdmMgPSBpbnN0cnVtZW50U2VydmljZTtcclxuXHJcblxyXG5cdHN2Yy5jcmVhdGVGaWx0ZXJEYXRhID0gZnVuY3Rpb24oKVxyXG5cdHtcclxuXHRcdHN2Yy5maWx0ZXJEYXRhID0ge1x0XCJhcnRpc3RcIjogXCJcIixcclxuXHRcdFx0XHRcdFx0XHRcInRpdGxlXCI6IFwiXCIsXHJcblx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRhbmd1bGFyLmZvckVhY2goaW5zdFN2Yy5pbnN0cnVtZW50cywgZnVuY3Rpb24odmFsdWUsIGtleSlcclxuXHRcdHtcclxuXHRcdFx0c3ZjLmZpbHRlckRhdGFbdmFsdWUuaWRdID0gdHJ1ZTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gX2luaXQoKSB7XHJcblx0XHRzdmMuY3JlYXRlRmlsdGVyRGF0YSgpO1xyXG5cdH1cclxuXHJcblx0X2luaXQoKTtcclxufSkiLCJhcHAuc2VydmljZShcImluc3RydW1lbnRTZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwKSB7XHJcblx0XHJcblx0Ly9HbG9iYWxzXHJcblx0dmFyIHN2YyA9IHRoaXM7XHJcblxyXG5cdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRmdW5jdGlvbiBnZXREYXRhICh1cmwsIG9wdGlvbnMpIHtcclxuXHJcblx0XHQhb3B0aW9ucyA/IG9wdGlvbnMgPSB7fSA6IFwiXCI7XHJcblxyXG5cdFx0cmV0dXJuICRodHRwLmdldCh1cmwsIG9wdGlvbnMpXHJcblx0fVxyXG5cclxuXHQvL1N2YyBmdW5jdGlvbnNcclxuXHRzdmMuZ2V0SW5zdHJ1bWVudHMgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi9pbnN0cnVtZW50c1wiO1xyXG5cdFx0XHJcblx0c3ZjLmluc3RydW1lbnRzID0gZ2V0RGF0YSh1cmwpO1xyXG5cdH1cclxuXHJcblx0c3ZjLmluc3RydW1lbnRzID0gW3tcclxuXHRcdFx0XHRcdFx0XHRcIm5hbWVcIjpcIkxlYWQtZ3VpdGFyXCIsXHJcblx0XHRcdFx0XHRcdFx0XCJpZFwiOjFcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFwibmFtZVwiOlwiRHJ1bVwiLFxyXG5cdFx0XHRcdFx0XHRcdFwiaWRcIjoyXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcIm5hbWVcIjpcIkJhc3NcIixcclxuXHRcdFx0XHRcdFx0XHRcImlkXCI6M1xyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XCJuYW1lXCI6XCJLZXlzXCIsXHJcblx0XHRcdFx0XHRcdFx0XCJpZFwiOjRcclxuXHRcdFx0XHRcdFx0fV07XHJcbn0pIiwiYXBwLnNlcnZpY2UoXCJsb2dpblNlcnZpY2VcIiwgZnVuY3Rpb24oJGh0dHApIHtcdFxyXG5cdHZhciBzdmMgPSB0aGlzO1xyXG5cclxuXHRzdmMuZ2V0VXNlciA9IGZ1bmN0aW9uKClcclxuXHR7XHJcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi91c2VyXCIpO1xyXG5cdH1cclxufSkiLCJhcHAuc2VydmljZShcInNvbG9TZXJ2aWNlXCIsIGZ1bmN0aW9uKCRodHRwKSB7XHJcblx0XHJcblx0Ly9HbG9iYWxzXHJcblx0dmFyIHN2YyA9IHRoaXM7XHJcblxyXG5cdC8vUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHRmdW5jdGlvbiBnZXREYXRhICh1cmwsIG9wdGlvbnMpIHtcclxuXHJcblx0XHQhb3B0aW9ucyA/IG9wdGlvbnMgPSB7fSA6IFwiXCI7XHJcblxyXG5cdFx0cmV0dXJuICRodHRwLmdldCh1cmwsIG9wdGlvbnMpXHJcblx0fVxyXG5cclxuXHQvL1N2YyBmdW5jdGlvbnNcclxuXHRzdmMuZ2V0VHJhY2tzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdHZhciB1cmwgPSBDT05TVEFOVFMuQVBJX0JBU0VfVVJMICsgXCIvdHJhY2tzXCI7XHJcblx0XHRcclxuXHRcdHJldHVybiBnZXREYXRhKHVybCk7XHJcblx0fVxyXG5cclxuXHRzdmMuZ2V0VHJhY2tCeUlkID0gZnVuY3Rpb24gKGlkKSB7XHJcblxyXG5cdFx0dmFyIHVybCA9IENPTlNUQU5UUy5BUElfQkFTRV9VUkwgKyBcIi90cmFja3MvXCIgKyBpZDtcclxuXHJcblx0XHRyZXR1cm4gZ2V0RGF0YSh1cmwpO1xyXG5cdH1cclxufSkiLCJhcHAuZGlyZWN0aXZlKFwiZGNiUmVnaXN0ZXJcIiwgZnVuY3Rpb24obG9naW5TZXJ2aWNlKSB7XHJcblx0cmV0dXJuIHtcclxuXHRcdHJlc3RyaWN0OiBcIkVcIixcclxuXHRcdHRlbXBsYXRlVXJsOiBcImFwcC9kaXJlY3RpdmVzL2RjYi1yZWdpc3Rlci9kY2ItcmVnaXN0ZXIuaHRtbFwiLFxyXG5cdFx0cmVwbGFjZTogdHJ1ZSxcclxuXHRcdHNjb3BlOiB7fSxcclxuXHRcdGNvbnRyb2xsZXJBczogXCJyZWdpc3RlclwiLFxyXG5cdFx0Y29udHJvbGxlcjogZnVuY3Rpb24oJGF1dGgsICRyb290U2NvcGUpIHtcclxuXHRcdFx0dmFyIHZtIFx0XHRcdD0gdGhpcztcclxuXHRcdFx0dmFyIGxvZ2luU3ZjIFx0PSBsb2dpblNlcnZpY2U7XHJcblx0XHRcdHZhciB0YXJnZXQgXHRcdD0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZ2lzdGVyLXNwaW5uZXInKTtcclxuXHJcblx0XHRcdHZhciBvcHRzID0ge1xyXG5cdCAgXHRcdFx0bGluZXM6IDEzIC8vIFRoZSBudW1iZXIgb2YgbGluZXMgdG8gZHJhd1xyXG5cdFx0XHRcdCwgbGVuZ3RoOiAyOCAvLyBUaGUgbGVuZ3RoIG9mIGVhY2ggbGluZVxyXG5cdFx0XHRcdCwgd2lkdGg6IDE0IC8vIFRoZSBsaW5lIHRoaWNrbmVzc1xyXG5cdFx0XHRcdCwgcmFkaXVzOiA0MiAvLyBUaGUgcmFkaXVzIG9mIHRoZSBpbm5lciBjaXJjbGVcclxuXHRcdFx0XHQsIHNjYWxlOiAwLjQgLy8gU2NhbGVzIG92ZXJhbGwgc2l6ZSBvZiB0aGUgc3Bpbm5lclxyXG5cdFx0XHRcdCwgY29ybmVyczogMSAvLyBDb3JuZXIgcm91bmRuZXNzICgwLi4xKVxyXG5cdFx0XHRcdCwgY29sb3I6ICcjMDAwJyAvLyAjcmdiIG9yICNycmdnYmIgb3IgYXJyYXkgb2YgY29sb3JzXHJcblx0XHRcdFx0LCBvcGFjaXR5OiAwLjI1IC8vIE9wYWNpdHkgb2YgdGhlIGxpbmVzXHJcblx0XHRcdFx0LCByb3RhdGU6IDAgLy8gVGhlIHJvdGF0aW9uIG9mZnNldFxyXG5cdFx0XHRcdCwgZGlyZWN0aW9uOiAxIC8vIDE6IGNsb2Nrd2lzZSwgLTE6IGNvdW50ZXJjbG9ja3dpc2VcclxuXHRcdFx0XHQsIHNwZWVkOiAxIC8vIFJvdW5kcyBwZXIgc2Vjb25kXHJcblx0XHRcdFx0LCB0cmFpbDogNjAgLy8gQWZ0ZXJnbG93IHBlcmNlbnRhZ2VcclxuXHRcdFx0XHQsIGZwczogMjAgLy8gRnJhbWVzIHBlciBzZWNvbmQgd2hlbiB1c2luZyBzZXRUaW1lb3V0KCkgYXMgYSBmYWxsYmFjayBmb3IgQ1NTXHJcblx0XHRcdFx0LCB6SW5kZXg6IDJlOSAvLyBUaGUgei1pbmRleCAoZGVmYXVsdHMgdG8gMjAwMDAwMDAwMClcclxuXHRcdFx0XHQsIGNsYXNzTmFtZTogJ3NwaW5uZXInIC8vIFRoZSBDU1MgY2xhc3MgdG8gYXNzaWduIHRvIHRoZSBzcGlubmVyXHJcblx0XHRcdFx0LCB0b3A6ICc2MCUnIC8vIFRvcCBwb3NpdGlvbiByZWxhdGl2ZSB0byBwYXJlbnRcclxuXHRcdFx0XHQsIGxlZnQ6ICc1MCUnIC8vIExlZnQgcG9zaXRpb24gcmVsYXRpdmUgdG8gcGFyZW50XHJcblx0XHRcdFx0LCBzaGFkb3c6IGZhbHNlIC8vIFdoZXRoZXIgdG8gcmVuZGVyIGEgc2hhZG93XHJcblx0XHRcdFx0LCBod2FjY2VsOiBmYWxzZSAvLyBXaGV0aGVyIHRvIHVzZSBoYXJkd2FyZSBhY2NlbGVyYXRpb25cclxuXHRcdFx0XHQsIHBvc2l0aW9uOiAnYWJzb2x1dGUnIC8vIEVsZW1lbnQgcG9zaXRpb25pbmdcclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFxyXG5cdFx0XHR2bS5yZWdpc3RlciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZhciBzcGlubmVyID0gbmV3IFNwaW5uZXIob3B0cykuc3Bpbih0YXJnZXQpO1xyXG5cdCAgICAgICAgXHR2bS5sb2FkaW5nIFx0PSB0cnVlO1xyXG5cclxuXHRcdFx0XHR2YXIgdXNlciA9IHtcclxuXHRcdFx0XHQgIFx0dXNlcm5hbWU6IHZtLnVzZXJuYW1lLFxyXG5cdFx0XHRcdCAgXHRlbWFpbDogdm0uZW1haWwsXHJcblx0XHRcdFx0ICBcdHBhc3N3b3JkOiB2bS5wYXNzd29yZFxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdCRhdXRoLnNpZ251cCh1c2VyKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHQvLyBSZWdpc3RyYXRpb24gc3VjY2Vzc1xyXG5cdFx0XHRcdFx0JGF1dGgubG9naW4odXNlcikudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcblx0ICAgICAgICAgICAgXHRcdC8vIEF1dGhlbnRpY2F0aW9uIHN1Y2Nlc3NcclxuXHRcdCAgICAgICAgICAgIFx0c3Bpbm5lci5zdG9wKCk7XHJcblx0XHQgICAgICAgICAgICBcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdCAgICAgICAgICAgIFx0JCgnI3JlZ2lzdGVyX21vZGFsJykubW9kYWwoKTtcclxuXHRcdFx0XHRcdFx0JCgnI3JlZ2lzdGVyX21vZGFsJykubW9kYWwoJ2Nsb3NlJyk7XHJcblxyXG5cdFx0XHRcdFx0XHRsb2dpblN2Yy5nZXRVc2VyKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHRcdFx0XHRcdCRyb290U2NvcGUudXNlcm5hbWUgPSBkYXRhLmRhdGEudXNlcm5hbWU7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0ICAgICAgICAgICAgfSwgXHJcblx0XHQgICAgICAgICAgICBmdW5jdGlvbihlcnJvcil7XHJcblx0XHQgICAgICAgICAgICBcdC8vIEF1dGhlbnRpY2F0aW9uIGZhaWxlZFxyXG5cdFx0ICAgICAgICAgICAgXHRzcGlubmVyLnN0b3AoKTtcclxuXHRcdCAgICAgICAgICAgIFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0ICAgICAgICAgICAgXHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHQgICAgICAgICAgICB9KTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5jYXRjaChmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0Ly8gUmVnaXN0cmF0aW9uIGZhaWxlZFxyXG5cdFx0XHRcdCAgXHRzcGlubmVyLnN0b3AoKTtcclxuXHRcdFx0XHQgIFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdCAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pIiwiYXBwLmRpcmVjdGl2ZShcImRjYkxvZ2luXCIsIGZ1bmN0aW9uKGxvZ2luU2VydmljZSkge1xyXG5cdHJldHVybiB7XHJcblx0XHRyZXN0cmljdDogXCJFXCIsXHJcblx0XHR0ZW1wbGF0ZVVybDogXCJhcHAvZGlyZWN0aXZlcy9kY2ItbG9naW4vZGNiLWxvZ2luLmh0bWxcIixcclxuXHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRzY29wZToge30sXHJcblx0XHRjb250cm9sbGVyQXM6IFwibG9naW5cIixcclxuXHRcdGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRhdXRoLCAkcm9vdFNjb3BlKSB7XHJcblx0XHRcdHZhciB2bSBcdFx0XHQ9IHRoaXM7XHJcblx0XHRcdHZhciBsb2dpblN2YyBcdD0gbG9naW5TZXJ2aWNlO1xyXG5cdFx0XHR2YXIgdGFyZ2V0IFx0XHQ9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbi1zcGlubmVyJyk7XHJcblxyXG5cdFx0XHR2YXIgb3B0cyA9IHtcclxuXHQgIFx0XHRcdGxpbmVzOiAxMyAvLyBUaGUgbnVtYmVyIG9mIGxpbmVzIHRvIGRyYXdcclxuXHRcdFx0XHQsIGxlbmd0aDogMjggLy8gVGhlIGxlbmd0aCBvZiBlYWNoIGxpbmVcclxuXHRcdFx0XHQsIHdpZHRoOiAxNCAvLyBUaGUgbGluZSB0aGlja25lc3NcclxuXHRcdFx0XHQsIHJhZGl1czogNDIgLy8gVGhlIHJhZGl1cyBvZiB0aGUgaW5uZXIgY2lyY2xlXHJcblx0XHRcdFx0LCBzY2FsZTogMC40IC8vIFNjYWxlcyBvdmVyYWxsIHNpemUgb2YgdGhlIHNwaW5uZXJcclxuXHRcdFx0XHQsIGNvcm5lcnM6IDEgLy8gQ29ybmVyIHJvdW5kbmVzcyAoMC4uMSlcclxuXHRcdFx0XHQsIGNvbG9yOiAnIzAwMCcgLy8gI3JnYiBvciAjcnJnZ2JiIG9yIGFycmF5IG9mIGNvbG9yc1xyXG5cdFx0XHRcdCwgb3BhY2l0eTogMC4yNSAvLyBPcGFjaXR5IG9mIHRoZSBsaW5lc1xyXG5cdFx0XHRcdCwgcm90YXRlOiAwIC8vIFRoZSByb3RhdGlvbiBvZmZzZXRcclxuXHRcdFx0XHQsIGRpcmVjdGlvbjogMSAvLyAxOiBjbG9ja3dpc2UsIC0xOiBjb3VudGVyY2xvY2t3aXNlXHJcblx0XHRcdFx0LCBzcGVlZDogMSAvLyBSb3VuZHMgcGVyIHNlY29uZFxyXG5cdFx0XHRcdCwgdHJhaWw6IDYwIC8vIEFmdGVyZ2xvdyBwZXJjZW50YWdlXHJcblx0XHRcdFx0LCBmcHM6IDIwIC8vIEZyYW1lcyBwZXIgc2Vjb25kIHdoZW4gdXNpbmcgc2V0VGltZW91dCgpIGFzIGEgZmFsbGJhY2sgZm9yIENTU1xyXG5cdFx0XHRcdCwgekluZGV4OiAyZTkgLy8gVGhlIHotaW5kZXggKGRlZmF1bHRzIHRvIDIwMDAwMDAwMDApXHJcblx0XHRcdFx0LCBjbGFzc05hbWU6ICdzcGlubmVyJyAvLyBUaGUgQ1NTIGNsYXNzIHRvIGFzc2lnbiB0byB0aGUgc3Bpbm5lclxyXG5cdFx0XHRcdCwgdG9wOiAnNjAlJyAvLyBUb3AgcG9zaXRpb24gcmVsYXRpdmUgdG8gcGFyZW50XHJcblx0XHRcdFx0LCBsZWZ0OiAnNTAlJyAvLyBMZWZ0IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxyXG5cdFx0XHRcdCwgc2hhZG93OiBmYWxzZSAvLyBXaGV0aGVyIHRvIHJlbmRlciBhIHNoYWRvd1xyXG5cdFx0XHRcdCwgaHdhY2NlbDogZmFsc2UgLy8gV2hldGhlciB0byB1c2UgaGFyZHdhcmUgYWNjZWxlcmF0aW9uXHJcblx0XHRcdFx0LCBwb3NpdGlvbjogJ2Fic29sdXRlJyAvLyBFbGVtZW50IHBvc2l0aW9uaW5nXHJcblx0XHRcdH1cclxuXHJcblx0ICAgICAgICB2bS5sb2dpbiA9IGZ1bmN0aW9uKCkge1xyXG5cdCAgICAgICAgXHR2YXIgc3Bpbm5lciA9IG5ldyBTcGlubmVyKG9wdHMpLnNwaW4odGFyZ2V0KTtcclxuXHQgICAgICAgIFx0dm0ubG9hZGluZyBcdD0gdHJ1ZTtcclxuXHJcblx0ICAgICAgICAgICAgdmFyIGNyZWRlbnRpYWxzID0ge1xyXG5cdCAgICAgICAgICAgICAgICBlbWFpbDogdm0uZW1haWwsXHJcblx0ICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB2bS5wYXNzd29yZFxyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICBcclxuXHQgICAgICAgICAgICAkYXV0aC5sb2dpbihjcmVkZW50aWFscykudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcblx0ICAgICAgICAgICAgXHQvLyBBdXRoZW50aWNhdGlvbiBzdWNjZXNzXHJcblx0ICAgICAgICAgICAgXHRzcGlubmVyLnN0b3AoKTtcclxuXHQgICAgICAgICAgICBcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHQgICAgICAgICAgICBcdCQoJyNsb2dpbl9tb2RhbCcpLm1vZGFsKCk7XHJcblx0XHRcdFx0XHQkKCcjbG9naW5fbW9kYWwnKS5tb2RhbCgnY2xvc2UnKTtcclxuXHJcblx0XHRcdFx0XHRsb2dpblN2Yy5nZXRVc2VyKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLnVzZXJuYW1lID0gZGF0YS5kYXRhLnVzZXJuYW1lO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0ICAgICAgICAgICAgfSwgXHJcblx0ICAgICAgICAgICAgZnVuY3Rpb24oZXJyb3Ipe1xyXG5cdCAgICAgICAgICAgIFx0Ly8gQXV0aGVudGljYXRpb24gZmFpbGVkXHJcblx0ICAgICAgICAgICAgXHRzcGlubmVyLnN0b3AoKTtcclxuXHQgICAgICAgICAgICBcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHQgICAgICAgICAgICBcdGNvbnNvbGUubG9nKGVycm9yKTtcclxuXHQgICAgICAgICAgICB9KTtcclxuXHQgICAgICAgIH1cclxuXHRcdH1cclxuXHR9XHJcbn0pIiwiYXBwLmRpcmVjdGl2ZShcImRjYkhlYWRlclwiLCBmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0cmVzdHJpY3Q6IFwiRVwiLFxyXG5cdFx0dGVtcGxhdGVVcmw6IFwiYXBwL2RpcmVjdGl2ZXMvZGNiLWhlYWRlci9kY2ItaGVhZGVyLmh0bWxcIixcclxuXHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRzY29wZToge30sXHJcblx0XHRjb250cm9sbGVyQXM6IFwiaGVhZFwiLFxyXG5cdFx0Y29udHJvbGxlcjogZnVuY3Rpb24obG9naW5TZXJ2aWNlLCAkYXV0aCwgJHJvb3RTY29wZSkge1xyXG5cdFx0XHR2YXIgdm0gXHRcdFx0PSB0aGlzO1xyXG5cdFx0XHR2YXIgbG9naW5TdmMgXHQ9IGxvZ2luU2VydmljZTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIF9pbml0KCkge1xyXG5cdFx0XHRcdGlmKCRhdXRoLmlzQXV0aGVudGljYXRlZCgpKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGxvZ2luU3ZjLmdldFVzZXIoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdCRyb290U2NvcGUudXNlcm5hbWUgPSBkYXRhLmRhdGEudXNlcm5hbWU7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHZtLnZhbHVlID0gXCJUaGlzIGlzIGEgZGlyZWN0aXZlIHRlc3QgdmFsdWUhXCI7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZtLnNob3dMb2dpbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQkKCcjbG9naW5fbW9kYWwnKS5tb2RhbCgpO1xyXG5cdFx0XHRcdCQoJyNsb2dpbl9tb2RhbCcpLm1vZGFsKCdvcGVuJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZtLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQkYXV0aC5sb2dvdXQoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dm0uc2hvd1JlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCQoJyNyZWdpc3Rlcl9tb2RhbCcpLm1vZGFsKCk7XHJcblx0XHRcdFx0JCgnI3JlZ2lzdGVyX21vZGFsJykubW9kYWwoJ29wZW4nKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dm0uaXNBdXRoZW50aWNhdGVkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuICRhdXRoLmlzQXV0aGVudGljYXRlZCgpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0X2luaXQoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pIl19
